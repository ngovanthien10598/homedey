{"version":3,"sources":["forms/SearchForm/SearchForm.jsx","services/apiPrefix.js","services/auth/login.js","store/actions/user.action.js","services/user/profile.js","store/actionTypes.js","services/user/real-estate-category.js","components/Header/Header.jsx","layouts/MainLayout/MainLayout.jsx","pages/index.jsx","components/RealEstate/RealEstate.jsx","layouts/LayoutWithAside/LayoutWithAside.jsx","pages/real-estate/index.jsx","pages/about.jsx","pages/news.jsx","containers/AuthForm/AuthForm.jsx","forms/LoginForm/LoginForm.jsx","pages/login.jsx","forms/RegisterForm/RegisterForm.jsx","services/auth/register.js","pages/register.jsx","components/Project/Project.jsx","pages/projects/index.jsx","components/LLMap/LLMap.jsx","pages/projects/project-details.jsx","pages/verify-email.jsx","HOCs/withUserRoute.jsx","pages/user/index.jsx","services/user/listing.js","pages/user/real-estate.jsx","services/user/address.js","services/user/project.js","services/user/real-estate.js","components/MapMarker/MapMarker.jsx","components/UploadButton/UploadButton.jsx","components/UploadPreview/UploadPreview.jsx","forms/CreateRealEstateForm/CreateRealEstateForm.jsx","pages/user/real-estate-create.jsx","services/admin/real-estate.js","pages/shared/real-estate-detail.jsx","layouts/UserLayout/UserLayout.jsx","pages/admin/index.jsx","pages/admin/real-estate.jsx","pages/admin/news.jsx","pages/admin/projects.jsx","pages/admin/user.jsx","HOCs/withAdminRoute.jsx","layouts/AdminLayout/AdminLayout.jsx","App.js","serviceWorker.js","store/reducers/user.reducer.js","store/reducer.js","index.js","store/store.js"],"names":["Option","Select","SearchForm","props","justify","sm","md","lg","xl","xxl","layout","gutter","Item","defaultValue","value","flex","placeholder","type","label","align","min","Date","getFullYear","withAuthorization","token","headers","Authorization","apiPrefix","loginAPI","body","axios","post","loginAction","dispatch","a","loginRes","responseData","data","access_token","refresh_token","Cookies","set","expires","setAccessToken","setRefreshToken","getProfileAction","console","log","get","getProfileRes","payload","error","getAllRealEstateCategoriesAPI","Header","Layout","PageHeader","location","useLocation","history","useHistory","useDispatch","useState","categories","setCategories","user","useSelector","state","userState","userLocal","localStorage","getItem","useEffect","response","getCategories","className","isDashboard","to","src","process","alt","width","theme","mode","selectedKeys","pathname","title","filter","c","for_rent","map","key","id","name","path","menu","is_staff","first_name","last_name","onClick","replace","removeItem","remove","Content","MainLayout","children","HomePage","RealEstate","thumbnail","bordered","cover","Meta","LayoutWithAside","style","marginTop","Array","fill","_","index","RealEstatePage","item","AboutPage","NewsPage","AuthForm","LoginForm","isLoading","setLoading","search","next","URLSearchParams","handleLogin","values","accessToken","setItem","length","message","onFinish","noValidate","htmlFor","rules","required","prefix","MailOutlined","Password","KeyOutlined","htmlType","loading","block","LoginPage","RegisterForm","handleRegister","registerRes","notification","success","description","duration","onClose","flexWrap","hasFeedback","getFieldValue","validator","rule","Promise","reject","resolve","RegisterPage","Project","hoverable","ProjectsPage","e","i","xs","LLMap","Map","center","lng","lat","zoom","onclick","TileLayer","attribution","url","ProjectDetails","autoplay","VerifyPage","withUserRoute","Component","UserHomePage","listingPrefix","getUserRealEstateAPI","getUserRealEstateDetailsAPI","realEstateId","getWaitingRealEstateAPI","getRejectedRealEstateAPI","deleteRealEstateAPI","delete","TabPane","Tabs","confirm","Modal","UserRealEstatePage","useRouteMatch","currentTab","setCurrentTab","realEstate","setRealEstate","waitingRealEstate","setWaitingRealEstate","rejectedRealEstate","setRejectedRealEstate","isLoadingRealEstate","setLoadingRealEstate","isLoadingWaitingRealEstate","setLoadingWaitingRealEstate","isLoadingRejectedRealEstate","setLoadingRejectedRealEstate","getTableDataFromSource","dataSource","re","district","address","ward","city","price","tableColumns","dataIndex","render","text","record","icon","EyeOutlined","EditOutlined","handleDelete","danger","DeleteOutlined","getUserRealEstate","results","content","onOk","newState","splice","onChange","tabKey","numTabKey","Number","parseInt","getWaitingRealEstate","getRejectedRealEstate","tab","rowKey","columns","addressAPI","getStreetsByDistrict","district_id","params","getProjectsByDistrict","createRealEstate","uploadImages","images","formData","FormData","forEach","image","append","MapMarker","Marker","position","UploadButton","PlusOutlined","ref","inputRef","accept","multiple","UploadPreview","file","base64","setBase64","reader","FileReader","readAsDataURL","onload","result","TextArea","Input","CreateRealEstateForm","isLoadingRECategories","setLoadingRECategories","isLoadingCities","setLoadingCities","isLoadingDistricts","setLoadingDistricts","isLoadingWards","setLoadingWards","isLoadingStreets","setLoadingStreets","setLoadingProjects","setIsLoading","RECategories","setRECategories","cities","setCities","districts","setDistricts","wards","setWards","streets","setStreets","setProjects","fileList","setFileList","clickedPosition","setClickedPosition","setType","fileRef","useRef","getRealEstateCategories","RECategoriesResponse","getCities","getAllCitiesReponse","handleCityChange","cityId","city_id","getDistrictsResponse","handleDistrictChange","districtId","all","getWardsResponse","getStreetsResponse","getProjectsResponse","handleSubmit","image_ids","uploadResponse","bedroom","bathroom","area","lot_size","year_build","detail","real_estate_category_id","ward_id","street_id","project_id","latitude","longitude","getData","scrollToFirstError","initialValue","pattern","suffix","disabled","category","charAt","toUpperCase","substr","rows","latlng","showSearch","str","files","target","prevValue","current","size","UserRealEstateCreatePage","endpointPrefix","getRealEstateDetailsAPI","approveRealEstateAPI","patch","is_active","RealEstateDetails","realEstateDetails","setRealEstateDetails","isLoadingRealEstateDetails","setLoadingRealEstateDetails","getRealEstateDetails","real_estate_category","colSpan","street","streetStr","wardStr","districtStr","cityStr","getAddressString","project","dangerouslySetInnerHTML","__html","active","paragraph","Sider","adminRoutes","breakpoint","collapsedWidth","route","exact","component","AdminHomePage","AdminRealestatePage","setLoadingApproveRealEstate","tableData","r","EyeFilled","handleApproveClick","color","CheckOutlined","DeleteFilled","getPendingRealEstate","AdminNewsPage","AdminProjectsPage","AdminUserPage","withAdminRoute","withAdminRote","App","ProjectDetailsPage","UserLayout","AdminLayout","Boolean","window","hostname","match","initialState","refreshToken","store","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","interceptors","request","use","config","status","then","res","catch","err","code","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.257fffeb.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Row, Col, Form, Select, Button, Input } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst SearchForm = props => {\r\n  return (\r\n    <Row justify=\"center\">\r\n      <Col sm={24} md={22} lg={18} xl={14} xxl={12}>\r\n        <Form layout=\"vertical\">\r\n          <Row gutter={8}>\r\n            <Col>\r\n              <Form.Item>\r\n                <Select defaultValue=\"1\">\r\n                  <Option value=\"1\">Nhà</Option>\r\n                  <Option value=\"2\">Đất</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex={1}>\r\n              <Form.Item>\r\n                <Input placeholder=\"Nhập từ khóa tìm kiếm\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col>\r\n              <Form.Item>\r\n                <Button type=\"primary\">Tìm kiếm</Button>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter=\"8\">\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Tỉnh/thành phố\">\r\n                <Select defaultValue=\"1\">\r\n                  <Option value=\"1\">Cần Thơ</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Quận/huyện\">\r\n                <Select defaultValue=\"1\">\r\n                  <Option value=\"1\">Ninh Kiều</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Phòng ngủ\">\r\n                <Input type=\"number\" defaultValue=\"1\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Phòng tắm\">\r\n                <Input type=\"number\" defaultValue=\"1\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={8} align=\"bottom\" justify=\"center\">\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Giá\">\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item>\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 100px\">\r\n              <Form.Item label=\"Diện tích\">\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 100px\">\r\n              <Form.Item>\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Năm xây dựng\">\r\n                <Input type=\"number\" defaultValue={new Date().getFullYear()} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default SearchForm;","const apiPrefix = \"https://homedey.herokuapp.com/api\";\r\n\r\nexport const withAuthorization = token => {\r\n  return {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }\r\n}\r\n\r\nexport default apiPrefix;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function loginAPI(body) {\r\n  return axios.post(`${apiPrefix}/auth/login/`, body);\r\n}","import * as actionTypes from '../actionTypes';\r\nimport { getProfileAPI } from 'services/user/profile';\r\nimport { loginAPI } from 'services/auth/login';\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction getProfileSuccess(user) {\r\n  return {\r\n    type: actionTypes.GET_PROFILE,\r\n    payload: user\r\n  }\r\n}\r\n\r\n\r\nexport function loginAction(body) {\r\n  return async dispatch => {\r\n    try {\r\n      const loginRes = await loginAPI(body);\r\n      const responseData = loginRes.data;\r\n      const access_token = responseData.data.access_token;\r\n      const refresh_token = responseData.data.refresh_token;\r\n      Cookies.set('access', access_token, { expires: 10 * 60 });\r\n      Cookies.set('refresh', refresh_token, { expires: 24 * 3660 });\r\n      dispatch(setAccessToken(access_token));\r\n      dispatch(setRefreshToken(refresh_token));\r\n      dispatch(getProfileAction(access_token));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getProfileAction(access_token) {\r\n  return async dispatch => {\r\n    try {\r\n      const getProfileRes = await getProfileAPI(access_token);\r\n      dispatch(getProfileSuccess(getProfileRes.data.data));\r\n    } catch (error) {\r\n      console.log({ error: error });\r\n    }\r\n  }\r\n}\r\n\r\nexport function logoutAction() {\r\n  localStorage.removeItem('user');\r\n  Cookies.remove('access');\r\n  Cookies.remove('refresh');\r\n  return {\r\n    type: actionTypes.LOGOUT\r\n  }\r\n}\r\n\r\nexport function setAccessToken(access_token) {\r\n  Cookies.set('access', access_token, { expires: 10 * 60 });\r\n  return {\r\n    type: actionTypes.SET_ACCESS_TOKEN,\r\n    payload: access_token\r\n  }\r\n}\r\n\r\nexport function setRefreshToken(refresh_token) {\r\n  Cookies.set('refresh', refresh_token, { expires: 24 * 3660 });\r\n  return {\r\n    type: actionTypes.SET_REFRESH_TOKEN,\r\n    payload: refresh_token\r\n  }\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function getProfileAPI(token) {\r\n  return axios.get(`${apiPrefix}/user/profile/`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  });\r\n}","export const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const GET_PROFILE = \"GET_PROFILE\";\r\nexport const SET_ACCESS_TOKEN = \"SET_ACCESS_TOKEN\";\r\nexport const SET_REFRESH_TOKEN = \"SET_REFRESH_TOKEN\";","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function getAllRealEstateCategoriesAPI() {\r\n  return axios.get(`${apiPrefix}/user/real-estate-category/`);\r\n}","import React, { useState } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { Layout, Menu } from 'antd';\r\nimport './Header.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logoutAction } from 'store/actions/user.action';\r\nimport { useEffect } from 'react';\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport SubMenu from 'antd/lib/menu/SubMenu';\r\n\r\nconst { Header } = Layout;\r\n\r\nconst PageHeader = (props) => {\r\n\r\n  const menuItems = [\r\n    { name: 'Dự án', path: '/project' },\r\n    { name: 'Tin tức', path: '/news' },\r\n    { name: 'Thông tin', path: '/about' },\r\n    // { name: 'Liên hệ', path: '/lien-he' },\r\n  ]\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [categories, setCategories] = useState(null);\r\n  const userState = useSelector(state => state.userState);\r\n  const { user } = userState;\r\n  const userLocal = localStorage.getItem('user');\r\n\r\n  useEffect(() => {\r\n    const getCategories = async () => {\r\n      const response = await getAllRealEstateCategoriesAPI();\r\n      setCategories(response.data);\r\n    }\r\n    getCategories();\r\n  })\r\n\r\n  const handleLogout = () => {\r\n    history.replace('/');\r\n    dispatch(logoutAction());\r\n  }\r\n\r\n  return (\r\n    <Header  className={`header${props.isDashboard ? ' header--dashboard' : ''}`}>\r\n      <Link className=\"header_brand\" to=\"/\">\r\n        <img src={`${process.env.PUBLIC_URL}/images/logo.svg`} alt=\"Homedey\" width=\"32\" />\r\n      </Link>\r\n\r\n      {\r\n        !props.isDashboard &&\r\n        <Menu className=\"header_menu\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n          <SubMenu title={<Link to=\"/real-estate?for_rent=false\" className=\"header_submenu\">Nhà đất bán</Link>}>\r\n            {\r\n              categories &&\r\n              categories.filter(c => !c.for_rent).map(c => {\r\n                return <Menu.Item key={`/for-sale-${c.id}`}>\r\n                  <Link to={`/real-estate?for_rent=false&&type=${c.id}`}>Bán {c.name}</Link>\r\n                </Menu.Item>\r\n              })\r\n            }\r\n          </SubMenu>\r\n          <SubMenu title={<Link to=\"/real-estate?for_rent=true\" className=\"header_submenu\">Nhà đất cho thuê</Link>}>\r\n            {\r\n              categories &&\r\n              categories.filter(c => c.for_rent).map(c => {\r\n                return <Menu.Item key={`/real-estate?for_rent=true${c.id}`}>\r\n                  <Link to={`/real-estate?for_rent=true&&type=${c.id}`}>Cho thuê {c.name}</Link>\r\n                </Menu.Item>\r\n              })\r\n            }\r\n          </SubMenu>\r\n          {\r\n            menuItems.map(menu => {\r\n              return (\r\n                <Menu.Item key={menu.path}>\r\n                  <Link to={menu.path}>{menu.name}</Link>\r\n                </Menu.Item>\r\n              )\r\n            })\r\n          }\r\n        </Menu>\r\n      }\r\n      {\r\n        user || userLocal ?\r\n          <Menu className=\"header_menu header_menu--auth\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n            <Menu.Item key=\"/me/\">\r\n              <Link to={`${user ? (user.is_staff ? '/admin/' : '/me/') : ''}`}>{user ? user.first_name + ' ' + user.last_name : userLocal}</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/logout\">\r\n              <Link to=\"/\" onClick={handleLogout}>Đăng xuất</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n          :\r\n          <Menu className=\"header_menu header_menu--auth\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n            <Menu.Item key=\"/login\">\r\n              <Link to=\"/login\">Đăng nhập</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/register\">\r\n              <Link to=\"/register\">Đăng ký</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n      }\r\n\r\n    </Header>\r\n  )\r\n}\r\n\r\nexport default PageHeader;","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport PageHeader from 'components/Header/Header';\r\n// import PageFooter from 'components/Footer/Footer';\r\nimport './MainLayout.scss';\r\nconst { Content } = Layout;\r\n\r\nconst MainLayout = props => {\r\n  return (\r\n    <Layout className=\"main-layout\">\r\n      <PageHeader />\r\n      <Content className=\"main-layout_content\">\r\n\r\n        {\r\n          props.children\r\n        }\r\n\r\n      </Content>\r\n\r\n      {/* <Footer>\r\n          <PageFooter />\r\n        </Footer> */}\r\n    </Layout >\r\n  )\r\n}\r\n\r\nexport default MainLayout;","import React from 'react';\r\nimport SearchForm from 'forms/SearchForm/SearchForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst HomePage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-home\">\r\n        <section className=\"header\">\r\n          <div className=\"header_wrapper\">\r\n            <h1 className=\"header_heading\">Homedey</h1>\r\n          </div>\r\n        </section>\r\n        <div className=\"search-form\">\r\n          <SearchForm />\r\n        </div>\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport { Card } from 'antd';\r\n\r\nimport './RealEstate.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst RealEstate = props => {\r\n  return (\r\n    <Card\r\n      className={`real-estate${props.thumbnail ? ' real-estate--thumbnail' : ''}`}\r\n      bordered={!props.thumbnail}\r\n      cover={<Link className=\"real-estate_link\" to=\"/real-estate/slug\" title=\"Lorem ipsum dolor sit amet consectetur adipisicing elit.\">\r\n        <img src=\"//via.placeholder.com/800x600\" alt=\"cover\" />\r\n      </Link>}>\r\n      <Card.Meta title={\r\n        <h3><small>\r\n          <Link className=\"real-estate_link\" to=\"/real-estate/slug\" title=\"Lorem ipsum dolor sit amet consectetur adipisicing elit.\">\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n          </Link>\r\n        </small></h3>\r\n      } />\r\n      {\r\n        !props.thumbnail &&\r\n        <div className=\"real-estate_content\">\r\n          <div className=\"real-estate_price\">Giá</div>\r\n          <div className=\"real-estate_city\">Tỉnh/TP</div>\r\n        </div>\r\n      }\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default RealEstate;","import React from 'react';\r\n\r\nimport './LayoutWithAside.scss';\r\nimport { Divider } from 'antd';\r\nimport RealEstate from 'components/RealEstate/RealEstate';\r\n\r\nconst LayoutWithAside = props => {\r\n  return (\r\n    <div className=\"layout-aside\">\r\n      <div className=\"layout-aside_main\">{props.children}</div>\r\n      <aside className=\"layout-aside_aside\">\r\n        <h3>Nổi bật</h3>\r\n        <Divider style={{marginTop: 0}} />\r\n        <div>\r\n          {\r\n            Array(3).fill().map((_, index) => {\r\n              return <RealEstate thumbnail key={index} />\r\n            })\r\n          }\r\n        </div>\r\n        <h3>Gần đây</h3>\r\n        <Divider style={{marginTop: 0}}/>\r\n      </aside>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LayoutWithAside;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { Divider } from 'antd';\r\nimport RealEstate from 'components/RealEstate/RealEstate';\r\n\r\nconst RealEstatePage = props => {\r\n  console.log(LayoutWithAside);\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        <h2>Nhà đất bán</h2>\r\n        <Divider />\r\n        <div className=\"real-estate-page_grid\">\r\n          {\r\n            Array(10).fill().map((item, index) => {\r\n              return <RealEstate key={index} />\r\n            })\r\n          }\r\n        </div>\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default RealEstatePage;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst AboutPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div>About page</div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default AboutPage;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst NewsPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div>News page</div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default NewsPage;","import React from 'react';\r\n\r\nconst AuthForm = props => {\r\n  return (\r\n    <div className=\"auth-form\">\r\n      {\r\n        props.children\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthForm;","import React, { useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Form, Input, Divider, Button, Alert } from 'antd';\r\nimport { MailOutlined, KeyOutlined } from '@ant-design/icons';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginAction } from 'store/actions/user.action';\r\nimport { useEffect } from 'react';\r\n\r\nconst LoginForm = props => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n  const location = useLocation();\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  const search = location.search;\r\n  const searchParams = new URLSearchParams(search);\r\n  const next = searchParams.get('next');\r\n\r\n  const handleLogin = async values => {\r\n    setLoading(true);\r\n    try {\r\n      const body = values;\r\n      await dispatch(loginAction(body));\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { user, accessToken } = userState;\r\n    if (user && accessToken) {\r\n      localStorage.setItem('user', user.first_name + ' ' + user.last_name);\r\n      if (search.length > 0) {\r\n        if (next.length > 0) {\r\n          history.replace(next);\r\n        }\r\n      } else {\r\n        history.replace('/');\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <AuthForm>\r\n      {\r\n        next?.length > 0 &&\r\n          <>\r\n            <Alert message=\"Vui lòng đăng nhập để tiếp tục\" type=\"error\" />\r\n            <br />\r\n          </>\r\n      }\r\n      <h2>Đăng nhập</h2>\r\n      <Divider />\r\n      <Form layout=\"vertical\" onFinish={handleLogin} noValidate>\r\n        <Form.Item label=\"Địa chỉ email\" htmlFor=\"email\" name=\"email\" rules={[\r\n          { required: true, message: 'Vui lòng nhập email' },\r\n          { type: 'email', message: 'Email không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"email\" type=\"email\" prefix={<MailOutlined />} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Mật khẩu\" htmlFor=\"password\" name=\"password\" rules={[\r\n          { required: true, message: 'Vui lòng nhập mật khẩu' }\r\n        ]}>\r\n          <Input.Password id=\"password\" prefix={<KeyOutlined />} />\r\n        </Form.Item>\r\n\r\n        <p><Link to=\"/quen-mat-khau\">Quên mật khẩu</Link></p>\r\n\r\n        <Form.Item >\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            loading={isLoading}\r\n            block>Đăng nhập</Button>\r\n        </Form.Item>\r\n        <p className=\"text-center\">Chưa có tài khoản? <Link to=\"/dang-ky\">Đăng ký</Link></p>\r\n      </Form>\r\n    </AuthForm>\r\n  )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from 'forms/LoginForm/LoginForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst LoginPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-auth\">\r\n        <LoginForm />\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Form, Input, Divider, Button, Row, Col, notification } from 'antd';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\n\r\nimport { registerAPI } from 'services/auth/register';\r\nimport { useState } from 'react';\r\n\r\nconst RegisterForm = props => {\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const handleRegister = async values => {\r\n    setLoading(true);\r\n    try {\r\n      const registerRes = await registerAPI(values);\r\n      notification.success({\r\n        message: 'Đăng ký thành công',\r\n        description: 'Vui lòng xác nhận tài khoản của bạn bằng email được gửi để đăng nhập.',\r\n        duration: 2000,\r\n        onClose: () => {\r\n          history.replace('/dang-nhap');\r\n        }\r\n      })\r\n      console.log(registerRes);\r\n    } catch (error) {\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <AuthForm>\r\n      <h2>Đăng ký</h2>\r\n      <Divider />\r\n      <Form layout=\"vertical\" onFinish={handleRegister} noValidate>\r\n        <Row gutter={10} style={{ flexWrap: 'nowrap' }}>\r\n          <Col>\r\n            <Form.Item label=\"Họ\" htmlFor=\"first-name\" name=\"first_name\" rules={[\r\n              { required: true, message: 'Vui lòng nhập họ' }\r\n            ]}>\r\n              <Input id=\"first-name\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col>\r\n            <Form.Item label=\"Tên\" htmlFor=\"last-name\" name=\"last_name\" rules={[\r\n              { required: true, message: 'Vui lòng nhập tên' }\r\n            ]}>\r\n              <Input id=\"last-name\" />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Form.Item label=\"Địa chỉ email\" htmlFor=\"email\" name=\"email\" rules={[\r\n          { required: true, message: 'Vui lòng nhập email' },\r\n          { type: 'email', message: 'Email không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"email\" type=\"email\" />\r\n        </Form.Item>\r\n        <Form.Item label=\"Mật khẩu\" htmlFor=\"password\" name=\"password\" rules={[\r\n          { required: true, message: 'Vui lòng nhập mật khẩu' },\r\n        ]} hasFeedback>\r\n          <Input.Password id=\"password\" />\r\n        </Form.Item>\r\n        <Form.Item label=\"Nhập lại mật khẩu\" htmlFor=\"confirm-password\" name=\"confirmPassword\" rules={[\r\n          { required: true, message: 'Vui lòng nhập lại mật khẩu' },\r\n          ({ getFieldValue }) => ({\r\n            validator(rule, value) {\r\n              if (!value || getFieldValue('password') === value) {\r\n                return Promise.resolve();\r\n              }\r\n              return Promise.reject('Mật khẩu không khớp nhau');\r\n            }\r\n          })\r\n        ]} hasFeedback>\r\n          <Input.Password id=\"confirm-password\" />\r\n        </Form.Item>\r\n        {/*\r\n        <Form.Item label=\"Điện thoại\" htmlFor=\"phone\" name=\"phone\" rules={[\r\n          { required: true, message: 'Vui lòng nhập số điện thoại' },\r\n          { pattern: phoneValidationString, message: 'Số điện thoại không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"phone\" />\r\n        </Form.Item>\r\n        */}\r\n        <Form.Item >\r\n          <Button type=\"primary\" loading={isLoading} htmlType=\"submit\" block>Đăng ký</Button>\r\n        </Form.Item>\r\n        <p className=\"text-center\">Đã có tài khoản? <Link to=\"/dang-nhap\">Đăng nhập</Link></p>\r\n      </Form>\r\n    </AuthForm>\r\n  )\r\n}\r\n\r\nexport default RegisterForm;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function registerAPI(body) {\r\n  return axios.post(`${apiPrefix}/auth/signup/`, body);\r\n}","import React from 'react';\r\nimport RegisterForm from 'forms/RegisterForm/RegisterForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst RegisterPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-auth\">\r\n        <RegisterForm />\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default RegisterPage;","import React from 'react';\r\nimport { Card } from 'antd';\r\n\r\nimport './Project.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Project = props => {\r\n  return (\r\n    <Link to=\"/project/slug\">\r\n      <Card\r\n        className=\"project\"\r\n        hoverable\r\n        cover={<img src=\"//via.placeholder.com/400x300\" alt=\"cover\" />}>\r\n        <Card.Meta title={<h3>Tên dự án</h3>} />\r\n        <div className=\"project_content\">\r\n          <div className=\"project_price\">Giá</div>\r\n          <div className=\"project_city\">Tỉnh/TP</div>\r\n        </div>\r\n      </Card>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default Project;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { Divider, Row, Col } from 'antd';\r\nimport Project from 'components/Project/Project';\r\n\r\nconst ProjectsPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-projects\">\r\n        <Divider>\r\n          <h2>DỰ ÁN MỚI</h2>\r\n        </Divider>\r\n\r\n        <section className=\"projects-wrapper\">\r\n          <Row gutter={20}>\r\n            {\r\n              Array(10).fill().map((e, i) => {\r\n                return (\r\n                  <Col key={i} xs={24} sm={12} md={8} lg={6} xxl={4}>\r\n                    <Project />\r\n                  </Col>\r\n                )\r\n              })\r\n            }\r\n          </Row>\r\n        </section>\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default ProjectsPage;","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\n\r\nconst LLMap = props => {\r\n  return (\r\n    <Map className={props.className} id={props.id} center={{ lng: 106, lat: 16 }} zoom={5} onclick={props.onClick}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n      {\r\n        props.children\r\n      }\r\n    </Map>\r\n  )\r\n}\r\n\r\nexport default LLMap;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { Carousel, Row, Col, Divider } from 'antd';\r\nimport LLMap from 'components/LLMap/LLMap';\r\n\r\nconst ProjectDetails = props => {\r\n\r\n  const handleMapClick = e => {\r\n    console.log(e);\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-project-details\">\r\n        <Divider>\r\n          <h2>Tên dự án</h2>\r\n        </Divider>\r\n        <Row gutter={15}>\r\n          <Col xs={24} md={16}>\r\n            <Carousel autoplay>\r\n              {\r\n                Array(4).fill().map((e, i) => (\r\n                  <div key={i}>\r\n                    <img src=\"http://via.placeholder.com/960x540\" alt=\"slider\" />\r\n                  </div>\r\n                ))\r\n              }\r\n            </Carousel>\r\n            <div>\r\n              <h3>Giới thiệu</h3>\r\n              <p>Thông tin tổng quan dự án Oyster Gành Hào</p>\r\n              <p>Oyster Gành Hào là dự án khách sạn nghỉ dưỡng đạt tiêu chuẩn 4 sao, nằm tại số 82 Trần Phú, phường 5, TP. Vũng Tàu. Dự án sau khi hoàn thiện sẽ cung cấp ra thị trường 277 căn hộ.</p>\r\n              <p>Oyster Gành Hào sở hữu kiến trúc tân cổ điển, gồm 2 tòa tháp cao 17 tầng mang đậm hơi thở Châu Âu hiện đại cùng vị trí có phong thủy được đánh giá cao với thế \"tọa sơn hướng thủy\": lưng tựa Núi Lớn - biểu tượng của sự phù trợ và trước mặt là bờ biển trải dài - nơi hội tụ sinh khí của đất trời, tất cả mang đến nguồn tài lực dồi dào và cả sự bình yên cho các chủ nhân tương lai của Oyster Gành Hào.</p>\r\n              <ul>\r\n                <li>Tên dự án: Oyster Gành Hào</li>\r\n                <li>Chủ đầu tư: Công ty CP Tập đoàn Vietpearl </li>\r\n                <li>Vị trí: 82 Trần Phú, phường 5, TP. Vũng Tàu</li>\r\n                <li>Tư vấn thiết kế: TTT</li>\r\n                <li>Tổng thầu thi công: CC14</li>\r\n                <li>Tư vấn giám sát: NAGECCO</li>\r\n                <li>Quản lý vận hành: Ayres Hotel</li>\r\n                <li>Tiêu chuẩn khách sạn 4 sao</li>\r\n                <li>Tổng diện tích: 2.571m2</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"project-details_map\">\r\n              <LLMap id=\"project-map\" onClick={handleMapClick} />\r\n            </div>\r\n          </Col>\r\n          <Col xs={24} md={8}>\r\n            <h3>Thông tin chung</h3>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Tên dự án</td>\r\n                  <td>Oyster Gành Hào</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Chủ đầu tư</td>\r\n                  <td>Công ty CP Tập đoàn VietPearl</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Địa chỉ</td>\r\n                  <td>82 đường Trần Phú, Phường 5, Vũng Tàu, Bà Rịa Vũng Tàu</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Tổng diện tích</td>\r\n                  <td>2.571 m²</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Loại hình phát triển</td>\r\n                  <td>Dự án khác</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Bàn giao nhà</td>\r\n                  <td>Quý II/2021</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Quy mô dự án</td>\r\n                  <td>277 căn hộ du lịch</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default ProjectDetails;","import React from 'react';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\nimport { Divider } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst VerifyPage = props => {\r\n  return (\r\n    <div className=\"page-auth\">\r\n      <AuthForm>\r\n        <h2>Xác thực tài khoản</h2>\r\n        <Divider />\r\n        <p>Tài khoản của bạn đã được kích hoạt, vui lòng <Link to=\"/dang-nhap\">Đăng nhập</Link> để bắt đầu.</p>\r\n      </AuthForm>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VerifyPage;","import React from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst withUserRoute = Component => {\r\n  return function Wrapper(props) {\r\n    const location = useLocation();\r\n    const accessToken = Cookies.get('access');\r\n\r\n    if (!accessToken || accessToken.length === 0) {\r\n      return <Redirect to={`/login?next=${location.pathname}`} />\r\n    } else {\r\n      return <Component {...props} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default withUserRoute;","import React from 'react';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst UserHomePage = props => {\r\n  return (\r\n    <div>Tài khoản</div>\r\n  )\r\n}\r\n\r\nexport default UserHomePage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst listingPrefix = `${apiPrefix}/user/real-estate/listings`;\r\n\r\nexport function getUserRealEstateAPI(token) {\r\n  return axios.get(`${listingPrefix}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getUserRealEstateDetailsAPI(token, realEstateId) {\r\n  return axios.get(`${listingPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getWaitingRealEstateAPI(token) {\r\n  return axios.get(`${listingPrefix}/waiting/`, withAuthorization(token));\r\n}\r\n\r\nexport function getRejectedRealEstateAPI(token) {\r\n  return axios.get(`${listingPrefix}/reject/`, withAuthorization(token));\r\n}\r\n\r\nexport function deleteRealEstateAPI(token, realEstateId) {\r\n  return axios.delete(`${listingPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Row, Col, Button, Tabs, Table, Tooltip, Modal } from 'antd';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { getUserRealEstateAPI, getWaitingRealEstateAPI, getRejectedRealEstateAPI } from 'services/user/listing';\r\nimport { deleteRealEstateAPI } from 'services/user/listing';\r\nimport Cookies from 'js-cookie';\r\nimport { EyeOutlined, DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nconst UserRealEstatePage = props => {\r\n  const { path } = useRouteMatch();\r\n  const accessToken = Cookies.get('access');\r\n  const [currentTab, setCurrentTab] = useState(1);\r\n\r\n  // Data states\r\n  const [realEstate, setRealEstate] = useState(null);\r\n  const [waitingRealEstate, setWaitingRealEstate] = useState(null);\r\n  const [rejectedRealEstate, setRejectedRealEstate] = useState(null);\r\n\r\n  // Loading states\r\n  const [isLoadingRealEstate, setLoadingRealEstate] = useState(false);\r\n  const [isLoadingWaitingRealEstate, setLoadingWaitingRealEstate] = useState(false);\r\n  const [isLoadingRejectedRealEstate, setLoadingRejectedRealEstate] = useState(false);\r\n\r\n  function getTableDataFromSource(dataSource) {\r\n    if (!dataSource || dataSource.length === 0) return null;\r\n    return dataSource.map(re => {\r\n      const district = re.address.ward.district;\r\n      const city = district.city;\r\n      return {\r\n        id: re.id,\r\n        title: re.title,\r\n        price: re.price,\r\n        address: `${district.prefix} ${district.name}, ${city.prefix} ${city.name}`\r\n      }\r\n    })\r\n  }\r\n\r\n  const tableColumns = [\r\n    { title: 'Tiêu đề', dataIndex: 'title' },\r\n    { title: 'Giá', dataIndex: 'price' },\r\n    { title: 'Địa chỉ', dataIndex: 'address' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record, index) => {\r\n        return (\r\n          <>\r\n            <Link to={`${path}/${record.id}`}>\r\n              <Tooltip title=\"Xem\">\r\n                <Button type=\"link\" icon={<EyeOutlined />} />\r\n              </Tooltip>\r\n            </Link>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Button onClick={() => handleDelete(record.id, index)} danger type=\"link\" icon={<DeleteOutlined />} />\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ]\r\n\r\n  async function getUserRealEstate() {\r\n    setLoadingRealEstate(true);\r\n    try {\r\n      const response = await getUserRealEstateAPI(accessToken);\r\n      setRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRealEstate(false);\r\n  }\r\n\r\n  async function getWaitingRealEstate() {\r\n    setLoadingWaitingRealEstate(true);\r\n    try {\r\n      const response = await getWaitingRealEstateAPI(accessToken);\r\n      setWaitingRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingWaitingRealEstate(false);\r\n  }\r\n\r\n  async function getRejectedRealEstate() {\r\n    setLoadingRejectedRealEstate(true);\r\n    try {\r\n      const response = await getRejectedRealEstateAPI(accessToken);\r\n      setRejectedRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRejectedRealEstate(false);\r\n  }\r\n\r\n  const handleTabsChange = tabKey => {\r\n    const numTabKey = Number.parseInt(tabKey);\r\n    setCurrentTab(tabKey);\r\n    switch (numTabKey) {\r\n      case 1:\r\n        getUserRealEstate();\r\n        break;\r\n      case 2:\r\n        getWaitingRealEstate();\r\n        break;\r\n      case 3:\r\n        getRejectedRealEstate();\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserRealEstate();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleDelete = (realEstateId, index) => {\r\n    confirm({\r\n      title: \"Xóa tin\",\r\n      content: \"Bạn có chắc muốn xóa tin này không?\",\r\n      onOk: async () => {\r\n        try {\r\n          await deleteRealEstateAPI(accessToken, realEstateId);\r\n          let newState;\r\n          if (currentTab === 1) {\r\n            newState = realEstate.splice(index, 1);\r\n            setRealEstate(newState);\r\n          } else if (currentTab === 2) {\r\n            newState = waitingRealEstate.splice(index, 1);\r\n          } else if (currentTab === 3) {\r\n            newState = rejectedRealEstate.splice(index, 3);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-re-page\">\r\n      <section className=\"user-re-page_new\">\r\n        <Row>\r\n          <Col flex=\"1\">\r\n            <h2><strong>Tin bất động sản</strong></h2>\r\n          </Col>\r\n          <Col>\r\n            <Button>\r\n              <Link to={`${path}/create`}>Thêm mới</Link>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        {/* <Divider /> */}\r\n      </section>\r\n      <section className=\"user-re-page_list\">\r\n        <Tabs onChange={handleTabsChange}>\r\n          <TabPane tab=\"Đã duyệt\" key={1} >\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={tableColumns}\r\n              dataSource={getTableDataFromSource(realEstate)}\r\n              loading={isLoadingRealEstate} />\r\n          </TabPane>\r\n          <TabPane tab=\"Đang chờ duyệt\" key={2}>\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={tableColumns}\r\n              dataSource={getTableDataFromSource(waitingRealEstate)}\r\n              loading={isLoadingWaitingRealEstate} />\r\n          </TabPane>\r\n          <TabPane tab=\"Từ chối\" key={3}>\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={tableColumns}\r\n              dataSource={rejectedRealEstate}\r\n              loading={isLoadingRejectedRealEstate} />\r\n          </TabPane>\r\n        </Tabs>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserRealEstatePage;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nconst addressAPI = apiPrefix + '/user/address';\r\n\r\nexport function getAllCities() {\r\n  return axios.get(`${addressAPI}/city/?ordering=name`);\r\n}\r\n\r\nexport function getAllDistricts() {\r\n  return axios.get(`${addressAPI}/district/`);\r\n}\r\n\r\nexport function getAllWards() {\r\n  return axios.get(`${addressAPI}/ward/`);\r\n}\r\n\r\nexport function getDistrictsByCity(city_id) {\r\n  return axios.get(`${addressAPI}/district/`, {\r\n    params: {\r\n      city_id: city_id\r\n    }\r\n  })\r\n}\r\n\r\nexport function getWardsByDistrict(district_id) {\r\n  return axios.get(`${addressAPI}/ward/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}\r\n\r\nexport function getStreetsByDistrict(district_id) {\r\n  return axios.get(`${addressAPI}/street/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix'\r\n\r\nexport function getAllProjects() {\r\n  return axios.get(`${apiPrefix}/user/project/`);\r\n}\r\n\r\nexport function getProjectsByDistrict(district_id) {\r\n  return axios.get(`${apiPrefix}/user/project/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\n\r\nexport function getAllRealEstate() {\r\n  return axios.get(`${apiPrefix}/user/real-estate/`);\r\n}\r\n\r\nexport function createRealEstate(token, body) {\r\n  return axios.post(`${apiPrefix}/user/real-estate/listings/`, body, withAuthorization(token))\r\n}\r\n\r\n\r\n\r\nexport function uploadImages(images) {\r\n  const formData = new FormData();\r\n  images.forEach(image => {\r\n    formData.append('images[]', image);\r\n  })\r\n  console.log(formData)\r\n  return axios.post(`${apiPrefix}/user/real-estate/upload-image/`, formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}","import React from 'react';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nimport './MapMarker.scss';\r\n\r\nconst MapMarker = props => {\r\n  return (\r\n    <Marker className=\"map-marker\" position={props.position}></Marker>\r\n  )\r\n}\r\n\r\nexport default MapMarker;","import React from 'react';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nimport './UploadButton.scss';\r\n\r\nconst UploadButton = props => {\r\n  return (\r\n    <label className=\"upload-btn\">\r\n      <PlusOutlined />\r\n      <input className=\"upload-btn_input\" ref={props.inputRef} type=\"file\" accept=\"image/*\" multiple onChange={props.onChange} />\r\n      <div className=\"upload-btn_text\">Chọn ảnh</div>\r\n    </label>\r\n  )\r\n}\r\n\r\nexport default UploadButton;","import React from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport './UploadPreview.scss';\r\n\r\nconst UploadPreview = props => {\r\n  const { file } = props;\r\n  const [base64, setBase64] = useState('');\r\n\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.onload = () => {\r\n    setBase64(reader.result);\r\n  }\r\n  return (\r\n    <div className=\"upload-preview\">\r\n      <img className=\"upload-preview_img\" src={base64} alt=\"\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadPreview;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Row, Col, Select, Button } from 'antd';\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport { getAllCities, getDistrictsByCity, getWardsByDistrict, getStreetsByDistrict } from 'services/user/address';\r\nimport { getProjectsByDistrict } from 'services/user/project';\r\nimport { uploadImages, createRealEstate } from 'services/user/real-estate';\r\nimport MapMarker from 'components/MapMarker/MapMarker';\r\nimport UploadButton from 'components/UploadButton/UploadButton';\r\nimport { useRef } from 'react';\r\nimport UploadPreview from 'components/UploadPreview/UploadPreview';\r\nimport './CreateRealEstateForm.scss';\r\nimport { useSelector } from 'react-redux';\r\nimport LLMap from 'components/LLMap/LLMap';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst CreateRealEstateForm = props => {\r\n  // Loading states\r\n  const [isLoadingRECategories, setLoadingRECategories] = useState(false);\r\n  const [isLoadingCities, setLoadingCities] = useState(false);\r\n  const [isLoadingDistricts, setLoadingDistricts] = useState(false);\r\n  const [isLoadingWards, setLoadingWards] = useState(false);\r\n  const [isLoadingStreets, setLoadingStreets] = useState(false);\r\n  const [isLoadingProjects, setLoadingProjects] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Data states\r\n  const [RECategories, setRECategories] = useState(null);\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  // Others states\r\n  const [clickedPosition, setClickedPosition] = useState({ lat: 10.029948, lng: 105.770615 });\r\n  const [type, setType] = useState({ for_rent: false });\r\n\r\n  // Other hooks\r\n  const fileRef = useRef();\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  // Get all cateogries from API\r\n  const getRealEstateCategories = async () => {\r\n    setLoadingRECategories(true);\r\n    try {\r\n      const RECategoriesResponse = await getAllRealEstateCategoriesAPI()\r\n      setRECategories(RECategoriesResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingRECategories(false);\r\n  }\r\n\r\n  // Get cities from API\r\n  const getCities = async () => {\r\n    setLoadingCities(true);\r\n    try {\r\n      const getAllCitiesReponse = await getAllCities()\r\n      setCities(getAllCitiesReponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingCities(false);\r\n  }\r\n\r\n\r\n  // Get districts by city\r\n  const handleCityChange = async cityId => {\r\n    setLoadingDistricts(true);\r\n    setDistricts(null);\r\n    setWards(null);\r\n    try {\r\n      const getDistrictsResponse = await getDistrictsByCity(cityId);\r\n      setDistricts(getDistrictsResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingDistricts(false);\r\n  }\r\n\r\n  // Get wards and streets by district\r\n  const handleDistrictChange = async districtId => {\r\n    setLoadingWards(true);\r\n    setLoadingStreets(true);\r\n    setWards(null);\r\n    setStreets(null);\r\n    setProjects(null);\r\n    try {\r\n      const [getWardsResponse, getStreetsResponse, getProjectsResponse] = await Promise.all([\r\n        getWardsByDistrict(districtId),\r\n        getStreetsByDistrict(districtId),\r\n        getProjectsByDistrict(districtId)\r\n      ]);\r\n      setWards(getWardsResponse.data);\r\n      setStreets(getStreetsResponse.data);\r\n      setProjects(getProjectsResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingWards(false);\r\n    setLoadingStreets(false);\r\n    setLoadingProjects(false);\r\n  }\r\n\r\n  const handleCategoryTypeChange = e => {\r\n    setType({ for_rent: e });\r\n  }\r\n\r\n\r\n  const handleMapClick = e => {\r\n    setClickedPosition(e.latlng);\r\n  }\r\n\r\n  const handleImageChange = e => {\r\n    const files = e.target.files;\r\n    if (files.length > 0) {\r\n      setFileList(prevValue => [...files, ...prevValue]);\r\n      fileRef.current.value = null;\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async values => {\r\n    let image_ids = [];\r\n    setIsLoading(true);\r\n    try {\r\n      const uploadResponse = await uploadImages(fileList);\r\n      image_ids = uploadResponse.data.image_ids;\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n\r\n    const {\r\n      title,\r\n      price,\r\n      bedroom,\r\n      bathroom,\r\n      area,\r\n      lot_size,\r\n      year_build,\r\n      detail,\r\n      real_estate_category_id,\r\n      ward_id,\r\n      street_id,\r\n      project_id\r\n    } = values;\r\n    const body = {\r\n      title: title,\r\n      price: price,\r\n      bedroom: bedroom,\r\n      bathroom: bathroom,\r\n      area: area,\r\n      lot_size: lot_size,\r\n      year_build: year_build,\r\n      detail: detail,\r\n      real_estate_category_id: real_estate_category_id,\r\n      ward_id: ward_id,\r\n      street_id: street_id,\r\n      latitude: clickedPosition.lat,\r\n      longitude: clickedPosition.lng,\r\n      project_id: project_id,\r\n      image_ids: image_ids\r\n    }\r\n\r\n    try {\r\n      await createRealEstate(userState.accessToken, body);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      await Promise.all([\r\n        getRealEstateCategories(),\r\n        getCities(),\r\n      ])\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n\r\n    <Form\r\n      className=\"create-re-form\"\r\n      layout=\"vertical\"\r\n      onFinish={handleSubmit} scrollToFirstError={true}\r\n      noValidate>\r\n      <Row gutter={20}>\r\n        <Col xs={24} lg={12}>\r\n          <Form.Item label=\"Tiêu đề\" name=\"title\" rules={[\r\n            { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n          ]}>\r\n            <Input />\r\n          </Form.Item>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Giá\"\r\n                name=\"price\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập giá' },\r\n                  { pattern: /^[1-9][0-9]*$/g, message: \"Giá không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"VNĐ\" min={1} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Năm xây dựng\"\r\n                name=\"year_build\"\r\n                initialValue={2000}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập năm xây dựng' },\r\n                  { pattern: /^\\d{4}$/g, message: \"Năm không hợp lệ\" }\r\n                ]}>\r\n                <Input min={0} type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Số phòng ngủ\"\r\n                name=\"bedroom\"\r\n                initialValue={0}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập phòng ngủ' },\r\n                  { pattern: /^[0-9]+$/g, message: \"Số không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"Phòng\" min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Số phòng tắm\"\r\n                name=\"bathroom\"\r\n                initialValue={0}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập phòng tắm' },\r\n                  { pattern: /^[0-9]+$/g, message: \"Số không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"Phòng\" min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item\r\n                label=\"Diện tích nền nhà\"\r\n                name=\"area\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập diện tích' },\r\n                  { pattern: /^[0-9]+$/g, message: 'Diện tích không hợp lệ' }\r\n                ]}>\r\n                <Input type=\"number\" min={1} suffix={<span>m<sup>2</sup></span>} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item\r\n                label=\"Tổng diện tích\"\r\n                name=\"lot_size\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập diện tích' },\r\n                  { pattern: /^[0-9]+$/g, message: 'Diện tích không hợp lệ' }\r\n                ]}>\r\n                <Input type=\"number\" suffix={<span>m<sup>2</sup></span>} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Hình thức\">\r\n                <Select onChange={handleCategoryTypeChange} defaultValue={false}>\r\n                  <Option value={false}>Bán</Option>\r\n                  <Option value={true}>Cho thuê</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"3\">\r\n              <Form.Item\r\n                label=\"Loại tin\"\r\n                name=\"real_estate_category_id\"\r\n                initialValue=\"Chọn loại tin\"\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng chọn loại tin' }\r\n                ]}>\r\n                <Select loading={isLoadingRECategories}>\r\n                  <Option disabled value=\"Chọn loại tin\">Chọn loại tin</Option>\r\n                  {\r\n                    RECategories &&\r\n                    RECategories.map(category => {\r\n                      const name = `${category.name.charAt(0).toUpperCase()}${category.name.substr(1)}`\r\n                      return category.for_rent === type.for_rent && <Option\r\n                        key={category.id}\r\n                        value={category.id} >\r\n                        {name}\r\n                      </Option>\r\n                    }\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"Nội dung\" name=\"detail\" rules={[\r\n            { required: true, message: 'Vui lòng nhập nội dung' }\r\n          ]}>\r\n            <TextArea placeholder=\"Nhập nội dung bài viết...\" rows=\"10\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        {/* Col 2 */}\r\n        <Col xs={24} lg={12}>\r\n          <Form.Item label=\"Bản đồ\">\r\n            <div>\r\n              <LLMap className=\"create-re-form_map\" onClick={handleMapClick}>\r\n                <MapMarker position={clickedPosition} />\r\n              </LLMap>\r\n            </div>\r\n          </Form.Item>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Tỉnh / thành phố\" name=\"city_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn tỉnh / thành phố' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingCities}\r\n                  disabled={isLoadingCities}\r\n                  onChange={handleCityChange}\r\n                  showSearch>\r\n                  <Option disabled value={null}>Chọn tỉnh/thành phố</Option>\r\n                  {\r\n                    cities &&\r\n                    cities.map(city => (\r\n                      <Option\r\n                        key={city.id}\r\n                        value={city.id}>\r\n                        {city.prefix + ' ' + city.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Quận / huyện\" name=\"district_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn quận / huyện' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingDistricts}\r\n                  disabled={isLoadingDistricts}\r\n                  onChange={handleDistrictChange}>\r\n                  <Option disabled value={null}>Chọn quận / huyện</Option>\r\n                  {\r\n                    districts &&\r\n                    districts.map(district => (\r\n                      <Option\r\n                        key={district.id}\r\n                        value={district.id}>\r\n                        {district.prefix + ' ' + district.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Xã / phường / thị trấn\" name=\"ward_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn xã / phường / thị trấn' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingWards}\r\n                  disabled={isLoadingWards}>\r\n                  <Option disabled value={null}>Chọn xã / phường / thị trấn</Option>\r\n                  {\r\n                    wards &&\r\n                    wards.map(ward => (\r\n                      <Option\r\n                        key={ward.id}\r\n                        value={ward.id}>\r\n                        {ward.prefix + ' ' + ward.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Đường\" name=\"street_id\" initialValue={null}>\r\n                <Select\r\n                  loading={isLoadingStreets}\r\n                  disabled={isLoadingStreets}>\r\n                  <Option disabled>Chọn đường</Option>\r\n                  {\r\n                    streets &&\r\n                    streets.map(str => (\r\n                      <Option\r\n                        key={str.id}\r\n                        value={str.id}>\r\n                        {str.prefix + ' ' + str.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"Dự án\" name=\"project_id\" initialValue={null}>\r\n            {/* <Select loading={isLoadingProjects} disabled={isLoadingProjects && true}>\r\n              <Option value=\"Chọn dự án\" disabled>Chọn dự án</Option>\r\n              {\r\n                projects &&\r\n                projects.map(p => {\r\n                  return (\r\n                    <Option key={p.id} value={p.id}>{p.name}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select> */}\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item label=\"Hình ảnh\">\r\n        {\r\n          fileList.length > 0 &&\r\n          fileList.map((file, index) => {\r\n            return <UploadPreview key={index} file={file} />\r\n          })\r\n        }\r\n        <UploadButton inputRef={fileRef} onChange={handleImageChange} />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button loading={isLoading} type=\"primary\" htmlType=\"submit\" size=\"large\">Xác nhận</Button>\r\n      </Form.Item>\r\n    </Form >\r\n  )\r\n}\r\n\r\nexport default CreateRealEstateForm;","import React from 'react';\r\nimport { Divider } from 'antd';\r\nimport CreateRealEstateForm from 'forms/CreateRealEstateForm/CreateRealEstateForm';\r\n\r\nconst UserRealEstateCreatePage = () => {\r\n  return (\r\n    <section>\r\n      <h2>Đăng tin bất động sản</h2>\r\n      <Divider />\r\n      <CreateRealEstateForm />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default UserRealEstateCreatePage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/real-estate`;\r\n\r\nexport function getPendingRealEstateAPI(token) {\r\n  return axios.get(`${endpointPrefix}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getRealEstateDetailsAPI(token, realEstateId) {\r\n  return axios.get(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\nexport function approveRealEstateAPI(token, realEstateId) {\r\n  const body = {\r\n    is_active: \"True\"\r\n  }\r\n  return axios.patch(`${endpointPrefix}/${realEstateId}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function rejectRealEstateAPI(token, realEstateId) {\r\n  return axios.delete(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserRealEstateDetailsAPI } from 'services/user/listing';\r\nimport { getRealEstateDetailsAPI } from 'services/admin/real-estate';\r\nimport Cookies from 'js-cookie';\r\nimport { Skeleton, Divider } from 'antd';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nconst RealEstateDetails = props => {\r\n  const { params } = useRouteMatch();\r\n  const { realEstateId } = params;\r\n  const userState = useSelector(state => state.userState);\r\n  const { user } = userState;\r\n  const accessToken = Cookies.get('access');\r\n\r\n  const [realEstateDetails, setRealEstateDetails] = useState(null);\r\n  const [isLoadingRealEstateDetails, setLoadingRealEstateDetails] = useState(null);\r\n\r\n  async function getRealEstateDetails(realEstateId) {\r\n    setLoadingRealEstateDetails(true);\r\n    try {\r\n      const response = user && user.is_staff ?\r\n        await getRealEstateDetailsAPI(accessToken, realEstateId) :\r\n        await getUserRealEstateDetailsAPI(accessToken, realEstateId);\r\n      setRealEstateDetails(response.data.data);\r\n      console.log(response.data.data.address);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRealEstateDetails(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (realEstateId) {\r\n      getRealEstateDetails(realEstateId);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function getAddressString(realEstate) {\r\n    const street = realEstate.address.street;\r\n    const ward = realEstate.address.ward;\r\n    const district = ward.district;\r\n    const city = district.city;\r\n\r\n    const streetStr = (street && (street.prefix + ' ' + street.name + ', ')) || '';\r\n    const wardStr = ward.prefix + ' ' + ward.name;\r\n    const districtStr = district.prefix + ' ' + district.name;\r\n    const cityStr = city.prefix + ' ' + city.name;\r\n    return `${streetStr}${wardStr}, ${districtStr}, ${cityStr}`;\r\n  }\r\n\r\n  return (\r\n    realEstateDetails ?\r\n      <div className=\"re-details-page\">\r\n        <h2><strong>{realEstateDetails.title}</strong></h2>\r\n        <Divider />\r\n\r\n        <div className=\"re-details-page_summary\">\r\n          <p><strong>Thông tin chung</strong></p>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>Giá</td>\r\n                <td>{realEstateDetails.price} VND</td>\r\n                <td>Năm xây dựng</td>\r\n                <td>{realEstateDetails.year_build}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Diện tích nền nhà</td>\r\n                <td>{realEstateDetails.area} m<sup>2</sup></td>\r\n                <td>Tổng diện tích</td>\r\n                <td>{realEstateDetails.lot_size} m<sup>2</sup></td>\r\n              </tr>\r\n              <tr>\r\n                <td>Phòng ngủ</td>\r\n                <td>{realEstateDetails.bedroom}</td>\r\n                <td>Phòng tắm</td>\r\n                <td>{realEstateDetails.bathroom}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Hình thức</td>\r\n                <td>{realEstateDetails.real_estate_category.for_rent ? 'Cho thuê' : 'Bán'}</td>\r\n                <td>Loại</td>\r\n                <td>{realEstateDetails.real_estate_category.name.charAt(0).toUpperCase() + realEstateDetails.real_estate_category.name.substr(1)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Địa chỉ</td>\r\n                <td colSpan=\"3\">{getAddressString(realEstateDetails)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Dự án</td>\r\n                <td>{realEstateDetails.project?.name}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div className=\"re-details-page_details\">\r\n          <p><strong>Thông tin chi tiết</strong></p>\r\n          <div dangerouslySetInnerHTML={{ __html: realEstateDetails.detail }}></div>\r\n        </div>\r\n\r\n        <div className=\"re-details-page_images\">\r\n          {\r\n            realEstateDetails.images.map(image => <img key={image.id} src={image.url} alt={image.url} />)\r\n          }\r\n        </div>\r\n\r\n        <div className=\"re-details-page_map\">\r\n          <LLMap id=\"real-estate-map\">\r\n            <Marker position={{lat: realEstateDetails.address.latitude, lng: realEstateDetails.address.longitude}} />\r\n          </LLMap>\r\n        </div>\r\n      </div>\r\n      :\r\n      <Skeleton\r\n        active\r\n        title={{ width: 800 }}\r\n        paragraph={{ rows: 10, width: [500, 700, 400, 500, 600, 400, 500, 700, 400, 200] }}\r\n        loading={isLoadingRealEstateDetails} />\r\n  )\r\n}\r\n\r\nexport default RealEstateDetails;","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { HashRouter, Switch, Route, useRouteMatch, useLocation, Link, Redirect } from 'react-router-dom';\r\nimport withUserRoute from 'HOCs/withUserRoute';\r\nimport UserHomePage from 'pages/user';\r\nimport UserRealEstatePage from 'pages/user/real-estate';\r\nimport UserRealEstateCreatePage from 'pages/user/real-estate-create';\r\nimport Header from 'components/Header/Header';\r\n\r\nimport './UserLayout.scss';\r\nimport RealEstateDetails from 'pages/shared/real-estate-detail';\r\n\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nconst UserLayout = props => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n  const adminRoutes = [\r\n    { path: `${path}/`, name: 'Tài khoản' },\r\n    { path: `${path}/real-estate`, name: 'Bất động sản' },\r\n  ]\r\n  return (\r\n    <HashRouter>\r\n      <Layout className=\"user-layout\">\r\n        <Header isDashboard />\r\n        <Layout>\r\n          <Sider breakpoint=\"md\" collapsedWidth={0} width={200} className=\"user-layout_sider\">\r\n            <Menu theme=\"dark\" mode=\"vertical\" selectedKeys={[pathname]}>\r\n              {\r\n                adminRoutes.map(route => (\r\n                  <Menu.Item key={route.path}>\r\n                    <Link to={`${route.path}`}>\r\n                      {route.name}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Content className=\"user-layout_content\">\r\n            <Switch>\r\n              <Route path={`${path}/`} exact component={UserHomePage} />\r\n              <Route path={`${path}/real-estate`} exact component={UserRealEstatePage} />\r\n              <Route path={`${path}/real-estate/create`} component={UserRealEstateCreatePage} />\r\n              <Route path={`${path}/real-estate/:realEstateId`} component={RealEstateDetails} />\r\n              <Route path={`${path}/*`} component={() => <Redirect to={`${path}/`} />} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withUserRoute(UserLayout);","import React from 'react';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst AdminHomePage = props => {\r\n  return (\r\n    <div>Tổng quan</div>\r\n  )\r\n}\r\n\r\nexport default AdminHomePage;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Table, Tooltip, Button, Modal } from 'antd';\r\nimport { EyeFilled, CheckOutlined, DeleteFilled } from '@ant-design/icons';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport { getPendingRealEstateAPI, approveRealEstateAPI, rejectRealEstateAPI } from 'services/admin/real-estate';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst AdminRealestatePage = props => {\r\n  // Data state\r\n  const [realEstate, setRealEstate] = useState(null);\r\n\r\n  // Loading state\r\n  const [isLoadingRealEstate, setLoadingRealEstate] = useState(false);\r\n  const [isLoadingAapproveRealEstate, setLoadingApproveRealEstate] = useState(false);\r\n\r\n  // Other\r\n  const { path } = useRouteMatch();\r\n  const accessToken = Cookies.get('access');\r\n\r\n  const tableData = realEstate && realEstate.map(r => {\r\n    const district = r.address.ward.district;\r\n    const city = district.city;\r\n    return {\r\n      id: r.id,\r\n      title: r.title,\r\n      price: r.price,\r\n      address: `${district.prefix} ${district.name}, ${city.prefix} ${city.name}`\r\n    }\r\n  });\r\n\r\n  const tableColumns = [\r\n    { title: 'Tiêu đề', dataIndex: 'title' },\r\n    { title: 'Giá', dataIndex: 'price' },\r\n    { title: 'Địa chỉ', dataIndex: 'address' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Link to={`${path}/${record.id}`}>\r\n              <Tooltip title=\"Xem\">\r\n                <Button type=\"link\" icon={<EyeFilled />} />\r\n              </Tooltip>\r\n            </Link>\r\n            <Tooltip title=\"Duyệt bài\">\r\n              <Button onClick={() => handleApproveClick(record.id)} type=\"link\" style={{ color: 'green' }} icon={<CheckOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Từ chối\">\r\n              <Button type=\"link\" danger icon={<DeleteFilled />} />\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ]\r\n\r\n  useEffect(() => {\r\n    const getPendingRealEstate = async () => {\r\n      setLoadingRealEstate(true);\r\n      try {\r\n        const response = await getPendingRealEstateAPI(accessToken);\r\n        setRealEstate(response.data.results);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setLoadingRealEstate(false);\r\n    }\r\n    getPendingRealEstate();\r\n  }, []);\r\n\r\n  const handleApproveClick = realEstateId => {\r\n    confirm({\r\n      title: \"Duyệt bài viết\",\r\n      content: \"Bạn có chắc muốn duyệt tin này?\",\r\n      onOk: async () => {\r\n        setLoadingApproveRealEstate(true);\r\n        try {\r\n          await approveRealEstateAPI(accessToken, realEstateId);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n        setLoadingApproveRealEstate(false);\r\n      },\r\n      \r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-re-page\">\r\n      <h2><strong>Tin đang chờ duyệt</strong></h2>\r\n      <Divider />\r\n      <Table loading={isLoadingRealEstate} rowKey=\"id\" columns={tableColumns} dataSource={tableData} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminRealestatePage;","import React from 'react';\r\n\r\nconst AdminNewsPage = props => {\r\n  return (\r\n    <div>Tin tức</div>\r\n  )\r\n}\r\n\r\nexport default AdminNewsPage;","import React from 'react';\r\n\r\nconst AdminProjectsPage = props => {\r\n  return (\r\n    <div>Dự án</div>\r\n  )\r\n}\r\n\r\nexport default AdminProjectsPage;","import React from 'react';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst AdminUserPage = props => {\r\n  return (\r\n    <div>Người dùng</div>\r\n  )\r\n}\r\n\r\nexport default AdminUserPage;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { notification } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst withAdminRoute = Component => {\r\n  return function Wrapper(props) {\r\n    const location = useLocation();\r\n    const userState = useSelector(state => state.userState);\r\n    const { user } = userState;\r\n    const accessToken = Cookies.get('access');\r\n\r\n    useEffect(() => {\r\n      if (user && !user.is_staff) {\r\n        notification.error({\r\n          message: 'Lỗi',\r\n          description: 'Bạn không có quyền truy cập vào trang này',\r\n        })\r\n      }\r\n    })\r\n\r\n    if (!accessToken || accessToken.length === 0) {\r\n      return <Redirect to={`/login?next=${location.pathname}`} />\r\n    } else {\r\n      if (user && !user.is_staff) {\r\n        return <Redirect to=\"/\" />\r\n      } else {\r\n        return <Component {...props} />\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default withAdminRoute;","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { HashRouter, Switch, Route, useRouteMatch, useLocation, Link, Redirect } from 'react-router-dom';\r\nimport AdminHomePage from 'pages/admin';\r\nimport AdminRealestatePage from 'pages/admin/real-estate';\r\nimport AdminNewsPage from 'pages/admin/news';\r\nimport AdminProjectsPage from 'pages/admin/projects';\r\nimport AdminUserPage from 'pages/admin/user';\r\nimport withAdminRote from 'HOCs/withAdminRoute';\r\nimport Header from 'components/Header/Header';\r\n\r\nimport './AdminLayout.scss';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nconst AdminLayout = props => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n  const adminRoutes = [\r\n    { path: `${path}/`, name: 'Tổng quan' },\r\n    { path: `${path}/real-estate`, name: 'Quản lý tin bất động sản' },\r\n    { path: `${path}/project`, name: 'Quản lý dự án' },\r\n    { path: `${path}/news`, name: 'Quản lý tin tức' },\r\n    { path: `${path}/user`, name: 'Quản lý người dùng' },\r\n  ]\r\n  return (\r\n    <HashRouter>\r\n      <Layout className=\"admin-layout\">\r\n        <Header isDashboard />\r\n        <Layout>\r\n          <Sider width={250} className=\"admin-layout_sider\">\r\n            <Menu theme=\"dark\" mode=\"vertical\" selectedKeys={[pathname]}>\r\n              {\r\n                adminRoutes.map(route => (\r\n                  <Menu.Item key={route.path}>\r\n                    <Link to={`${route.path}`}>\r\n                      {route.name}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Content className=\"admin-layout_content\">\r\n            <Switch>\r\n              <Route path={`${path}/`} exact component={AdminHomePage} />\r\n              <Route path={`${path}/real-estate`} component={AdminRealestatePage} />\r\n              <Route path={`${path}/news`} component={AdminNewsPage} />\r\n              <Route path={`${path}/project`} component={AdminProjectsPage} />\r\n              <Route path={`${path}/user`} component={AdminUserPage} />\r\n              <Route path={`${path}/*`} component={() => <Redirect to={`${path}/`} />} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withAdminRote(AdminLayout);","import React, { useEffect } from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport {\n  Switch,\n  Route\n} from 'react-router-dom';\nimport HomePage from 'pages';\nimport RealEstatePage from 'pages/real-estate';\nimport AboutPage from 'pages/about';\nimport NewsPage from 'pages/news';\nimport LoginPage from 'pages/login';\nimport RegisterPage from 'pages/register';\nimport ProjectsPage from 'pages/projects';\nimport ProjectDetailsPage from 'pages/projects/project-details';\nimport VerifyPage from 'pages/verify-email';\nimport UserLayout from 'layouts/UserLayout/UserLayout';\nimport AdminLayout from 'layouts/AdminLayout/AdminLayout';\n\nimport Cookies from 'js-cookie';\nimport { setAccessToken, getProfileAction } from 'store/actions/user.action';\nimport { useDispatch, useSelector } from 'react-redux';\n\n\n\nconst App = props => {\n  const dispatch = useDispatch();\n  const userState = useSelector(state => state.userState);\n\n  useEffect(() => {\n    const accessToken = Cookies.get('access');\n    if (accessToken && !userState.accessToken && localStorage.user) {\n      dispatch(setAccessToken(accessToken));\n      dispatch(getProfileAction(accessToken));\n    }\n  });\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/real-estate\" component={RealEstatePage} />\n        <Route path=\"/project\" exact component={ProjectsPage} />\n        <Route path=\"/project/:slug\" component={ProjectDetailsPage} />\n        <Route path=\"/news\" component={NewsPage} />\n        <Route path=\"/about\" component={AboutPage} />\n        <Route path=\"/login\" component={LoginPage} />\n        <Route path=\"/register\" component={RegisterPage} />\n        <Route path=\"/verify-email\" component={VerifyPage} />\n        <Route path=\"/me\" component={UserLayout} />\n        <Route path=\"/admin\" component={AdminLayout} />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  user: null,\r\n  accessToken: null,\r\n  refreshToken: null\r\n}\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.LOGIN:\r\n      return {\r\n        ...state,\r\n        token: action.payload\r\n      }\r\n    case actionTypes.GET_PROFILE:\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      }\r\n    case actionTypes.LOGOUT:\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null\r\n      }\r\n    case actionTypes.SET_ACCESS_TOKEN:\r\n      return {\r\n        ...state,\r\n        accessToken: action.payload\r\n      }\r\n    case actionTypes.SET_REFRESH_TOKEN:\r\n      return {\r\n        ...state,\r\n        refreshToken: action.payload\r\n      }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport userReducer from './reducers/user.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  userState: userReducer\r\n})\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css';\nimport 'styles/style.scss';\nimport * as serviceWorker from './serviceWorker';\nimport store from 'store/store';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\nimport { notification } from 'antd';\nimport { logoutAction, setAccessToken } from 'store/actions/user.action';\nimport apiPrefix from 'services/apiPrefix';\nimport Cookies from 'js-cookie';\n\n// Setup axios interceptors\nfunction setupAxios(store) {\n  axios.interceptors.request.use(config => {\n\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  axios.interceptors.response.use(response => {\n    return response\n  }, (error) => {\n\n    let message = \"\";\n    let description = \"\";\n\n    if (error.response) {\n      if (error.response.status === 401) {\n        const refreshToken = Cookies.get('refresh');\n        if (refreshToken) {\n          return axios.post(`${apiPrefix}/auth/refresh-token/`, {\n            refresh_token: refreshToken\n          }).then(response => {\n            const accessToken = response.data.data.access_token;\n            store.dispatch(setAccessToken(accessToken));\n            const config = error.config;\n            config.headers['Authorization'] = `Bearer ${accessToken}`;\n            return new Promise((resolve, reject) => {\n              axios.request(config).then(res => {\n                resolve(res);\n              }).catch(err => {\n                reject(err);\n              })\n            })\n          }).catch(err => {\n            Promise.reject(err);\n          })\n        }\n      }\n\n      if (error.response.data) {\n        message = error.response.data.code;\n        description = error.response.data.message;\n      }\n\n    } else if (error.request) {\n      message = error.status;\n      description = error.message;\n    } else {\n      message = error.status;\n      description = error.message;\n    }\n    notification.error({\n      message: `Lỗi (${message})`,\n      description: description\n    });\n\n    return Promise.reject(error);\n  });\n}\n\nsetupAxios(store);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport rootReducer from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n\r\nexport default store;"],"sourceRoot":""}