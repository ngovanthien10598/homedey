(this["webpackJsonpnien-luan-web"]=this["webpackJsonpnien-luan-web"]||[]).push([[0],{146:function(e,a,t){e.exports=t(312)},151:function(e,a,t){},214:function(e,a,t){},311:function(e,a,t){},312:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),c=t.n(l),m=t(34),u=t(13),o=t(314),s=t(9),i=t(319),p=(t(151),t(26)),h=t(27),E=t.n(h),d=t(41),g=t(36),f=t.n(g);function b(e){return f.a.get("".concat("https://homedey.herokuapp.com/api","/user/profile/"),{headers:{Authorization:"Bearer ".concat(e)}})}function k(e){return f.a.post("".concat("https://homedey.herokuapp.com/api","/auth/login/"),e)}function y(e){return{type:"LOGIN",payload:e}}function v(e){return function(){var a=Object(d.a)(E.a.mark((function a(t){var n,r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k(e);case 3:n=a.sent,r=n.data.data,t(y(r)),t(O(r)),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}function O(e){return function(){var a=Object(d.a)(E.a.mark((function a(t){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b(e);case 3:n=a.sent,t({type:"GET_PROFILE",payload:n.data.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log({error:a.t0});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}function x(){return localStorage.removeItem("user"),{type:"LOGOUT"}}var j=t(323),w=o.a.Header,I=function(e){var a=Object(s.g)(),t=Object(p.b)(),n=Object(p.c)((function(e){return e.userState})).user,l=localStorage.getItem("user"),c=Object(j.a)(["token"]),o=Object(m.a)(c,3)[2];return r.a.createElement(w,{className:"header"},r.a.createElement(u.b,{className:"header_brand",to:"/"},r.a.createElement("img",{src:"".concat("/homedey","/images/logo.svg"),alt:"Homedey",width:"32"})),r.a.createElement(i.a,{className:"header_menu",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},[{name:"Th\xf4ng tin",path:"/thong-tin"},{name:"B\u1ea5t \u0111\u1ed9ng s\u1ea3n",path:"/bat-dong-san"},{name:"D\u1ef1 \xe1n",path:"/du-an"},{name:"Tin t\u1ee9c",path:"/tin-tuc"},{name:"Li\xean h\u1ec7",path:"/lien-he"}].map((function(e){return r.a.createElement(i.a.Item,{key:e.path},r.a.createElement(u.b,{to:e.path},e.name))}))),n||l?r.a.createElement(i.a,{className:"header_menu header_menu--auth",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},r.a.createElement(i.a.Item,{key:"/me"},r.a.createElement(u.b,{to:"/me"},n?n.first_name+" "+n.last_name:l)),r.a.createElement(i.a.Item,{key:"/dang-xuat"},r.a.createElement(u.b,{to:"/",onClick:function(){t(x()),o("token"),localStorage.removeItem("user")}},"\u0110\u0103ng xu\u1ea5t"))):r.a.createElement(i.a,{className:"header_menu header_menu--auth",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},r.a.createElement(i.a.Item,{key:"/dang-nhap"},r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp")),r.a.createElement(i.a.Item,{key:"/dang-ky"},r.a.createElement(u.b,{to:"/dang-ky"},"\u0110\u0103ng k\xfd"))))},N=(t(214),o.a.Content),_=function(e){return r.a.createElement(o.a,{className:"layout"},r.a.createElement(u.a,{basename:"/homedey"},r.a.createElement(I,null),r.a.createElement(N,{className:"layout_content"},e.children)))},V=t(320),T=t(315),S=t(316),F=t(318),P=t(321),q=t(92),L=V.a.Option,C=function(e){return r.a.createElement(T.a,{justify:"center"},r.a.createElement(S.a,{sm:24,md:22,lg:18,xl:14,xxl:12},r.a.createElement(F.a,{layout:"vertical"},r.a.createElement(T.a,{gutter:8},r.a.createElement(S.a,null,r.a.createElement(F.a.Item,null,r.a.createElement(V.a,{defaultValue:"1"},r.a.createElement(L,{value:"1"},"Nh\xe0"),r.a.createElement(L,{value:"2"},"\u0110\u1ea5t")))),r.a.createElement(S.a,{flex:1},r.a.createElement(F.a.Item,null,r.a.createElement(P.a,{placeholder:"Nh\u1eadp t\u1eeb kh\xf3a t\xecm ki\u1ebfm"}))),r.a.createElement(S.a,null,r.a.createElement(F.a.Item,null,r.a.createElement(q.a,{type:"primary"},"T\xecm ki\u1ebfm")))),r.a.createElement(T.a,{gutter:"8"},r.a.createElement(S.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"T\u1ec9nh/th\xe0nh ph\u1ed1"},r.a.createElement(V.a,{defaultValue:"1"},r.a.createElement(L,{value:"1"},"C\u1ea7n Th\u01a1")))),r.a.createElement(S.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"Qu\u1eadn/huy\u1ec7n"},r.a.createElement(V.a,{defaultValue:"1"},r.a.createElement(L,{value:"1"},"Ninh Ki\u1ec1u")))),r.a.createElement(S.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"Ph\xf2ng ng\u1ee7"},r.a.createElement(P.a,{type:"number",defaultValue:"1"}))),r.a.createElement(S.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"Ph\xf2ng t\u1eafm"},r.a.createElement(P.a,{type:"number",defaultValue:"1"})))),r.a.createElement(T.a,{gutter:8,align:"bottom",justify:"center"},r.a.createElement(S.a,{flex:"0 0 150px"},r.a.createElement(F.a.Item,{label:"Gi\xe1"},r.a.createElement(P.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(S.a,{flex:"0 0 150px"},r.a.createElement(F.a.Item,null,r.a.createElement(P.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(S.a,{flex:"0 0 100px"},r.a.createElement(F.a.Item,{label:"Di\u1ec7n t\xedch"},r.a.createElement(P.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(S.a,{flex:"0 0 100px"},r.a.createElement(F.a.Item,null,r.a.createElement(P.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(S.a,{flex:"0 0 150px"},r.a.createElement(F.a.Item,{label:"N\u0103m x\xe2y d\u1ef1ng"},r.a.createElement(P.a,{type:"number",defaultValue:(new Date).getFullYear(),min:0})))))))},G=function(e){return r.a.createElement("div",{className:"page-home"},r.a.createElement("section",{className:"header"},r.a.createElement("div",{className:"header_wrapper"},r.a.createElement("h1",{className:"header_heading"},"Homedey"))),r.a.createElement("div",{className:"search-form"},r.a.createElement(C,null)))},K=function(e){return r.a.createElement("div",null,"About page")},D=function(e){return r.a.createElement("div",null,"Listings page")},z=function(e){return r.a.createElement("div",null,"News page")},B=function(e){return r.a.createElement("div",null,"Contact page")},H=t(317),M=t(324),A=t(325),R=function(e){return r.a.createElement("div",{className:"auth-form"},e.children)},U=function(e){var a=Object(p.b)(),t=Object(s.f)(),l=Object(n.useState)(!1),c=Object(m.a)(l,2),o=c[0],i=c[1],h=Object(j.a)(["token"]),g=Object(m.a)(h,2)[1],f=Object(p.c)((function(e){return e.userState})),b=function(){var e=Object(d.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,n=t,e.next=5,a(v(n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log({error:e.t0});case 10:i(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=f.user,a=f.token;e&&a&&(g("token",a,{maxAge:604800}),localStorage.setItem("user",e.first_name+" "+e.last_name),t.replace("/"))}),[f,g,t]),r.a.createElement(R,null,r.a.createElement("h2",null,"\u0110\u0103ng nh\u1eadp"),r.a.createElement(H.a,null),r.a.createElement(F.a,{layout:"vertical",onFinish:b,noValidate:!0},r.a.createElement(F.a.Item,{label:"\u0110\u1ecba ch\u1ec9 email",htmlFor:"email",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(P.a,{id:"email",type:"email",prefix:r.a.createElement(M.a,null)})),r.a.createElement(F.a.Item,{label:"M\u1eadt kh\u1ea9u",htmlFor:"password",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}]},r.a.createElement(P.a.Password,{id:"password",prefix:r.a.createElement(A.a,null)})),r.a.createElement("p",null,r.a.createElement(u.b,{to:"/quen-mat-khau"},"Qu\xean m\u1eadt kh\u1ea9u")),r.a.createElement(F.a.Item,null,r.a.createElement(q.a,{type:"primary",htmlType:"submit",loading:o,block:!0},"\u0110\u0103ng nh\u1eadp")),r.a.createElement("p",{className:"text-center"},"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",r.a.createElement(u.b,{to:"/dang-ky"},"\u0110\u0103ng k\xfd"))))},W=function(e){return r.a.createElement("div",{className:"page-auth"},r.a.createElement(U,null))},X=t(322);var J=/^(0|\+84)(\s|\.)?((3[2-9])|(5[689])|(7[06-9])|(8[1-689])|(9[0-46-9]))(\d)(\s|\.)?(\d{3})(\s|\.)?(\d{3})$/,Q=function(e){var a=Object(s.f)(),t=Object(n.useState)(!1),l=Object(m.a)(t,2),c=l[0],o=l[1],i=function(){var e=Object(d.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,r=t,f.a.post("".concat("https://homedey.herokuapp.com/api","/auth/signup/"),r);case 4:n=e.sent,X.a.success({message:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng",description:"Vui l\xf2ng x\xe1c nh\u1eadn t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n b\u1eb1ng email \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ec3 \u0111\u0103ng nh\u1eadp.",duration:2e3,onClose:function(){a.replace("/dang-nhap")}}),console.log(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:o(!1);case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(R,null,r.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),r.a.createElement(H.a,null),r.a.createElement(F.a,{layout:"vertical",onFinish:i,noValidate:!0},r.a.createElement(T.a,{gutter:10,style:{flexWrap:"nowrap"}},r.a.createElement(S.a,null,r.a.createElement(F.a.Item,{label:"H\u1ecd",htmlFor:"first-name",name:"first_name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\u1ecd"}]},r.a.createElement(P.a,{id:"first-name"}))),r.a.createElement(S.a,null,r.a.createElement(F.a.Item,{label:"T\xean",htmlFor:"last-name",name:"last_name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean"}]},r.a.createElement(P.a,{id:"last-name"})))),r.a.createElement(F.a.Item,{label:"\u0110\u1ecba ch\u1ec9 email",htmlFor:"email",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(P.a,{id:"email",type:"email"})),r.a.createElement(F.a.Item,{label:"M\u1eadt kh\u1ea9u",htmlFor:"password",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}],hasFeedback:!0},r.a.createElement(P.a.Password,{id:"password"})),r.a.createElement(F.a.Item,{label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",htmlFor:"confirm-password",name:"confirmPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp nhau"):Promise.resolve()}}}],hasFeedback:!0},r.a.createElement(P.a.Password,{id:"confirm-password"})),r.a.createElement(F.a.Item,{label:"\u0110i\u1ec7n tho\u1ea1i",htmlFor:"phone",name:"phone",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},{pattern:J,message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(P.a,{id:"phone"})),r.a.createElement(F.a.Item,null,r.a.createElement(q.a,{type:"primary",loading:c,htmlType:"submit",block:!0},"\u0110\u0103ng k\xfd")),r.a.createElement("p",{className:"text-center"},"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? ",r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp"))))},$=function(e){return r.a.createElement("div",{className:"page-auth"},r.a.createElement(Q,null))},Y=function(e){return r.a.createElement("div",null,"Projects page")},Z=function(e){return r.a.createElement("div",{className:"page-auth"},r.a.createElement(R,null,r.a.createElement("h2",null,"X\xe1c th\u1ef1c t\xe0i kho\u1ea3n"),r.a.createElement(H.a,null),r.a.createElement("p",null,"T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t, vui l\xf2ng ",r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp")," \u0111\u1ec3 b\u1eaft \u0111\u1ea7u.")))},ee=function(e){var a=Object(j.a)(["token"]),t=Object(m.a)(a,1)[0],l=Object(p.b)(),c=Object(p.c)((function(e){return e.userState}));return Object(n.useEffect)((function(){t.token&&!c.token&&localStorage.user&&(l({type:"SET_TOKEN",payload:t.token}),l(O(t.token)))})),r.a.createElement(_,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:G}),r.a.createElement(s.a,{path:"/thong-tin",component:K}),r.a.createElement(s.a,{path:"/bat-dong-san",component:D}),r.a.createElement(s.a,{path:"/du-an",component:Y}),r.a.createElement(s.a,{path:"/tin-tuc",component:z}),r.a.createElement(s.a,{path:"/lien-he",component:B}),r.a.createElement(s.a,{path:"/dang-nhap",component:W}),r.a.createElement(s.a,{path:"/dang-ky",component:$}),r.a.createElement(s.a,{path:"/verify-successfully",component:Z})))};t(310),t(311),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=t(39),te=t(141),ne=t(32),re={user:null,token:null};var le=Object(ae.c)({userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(ne.a)(Object(ne.a)({},e),{},{token:a.payload});case"GET_PROFILE":return Object(ne.a)(Object(ne.a)({},e),{},{user:a.payload});case"LOGOUT":return Object(ne.a)(Object(ne.a)({},e),{},{user:null,token:null});case"SET_TOKEN":return Object(ne.a)(Object(ne.a)({},e),{},{user:null,token:a.payload});default:return Object(ne.a)({},e)}}}),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,me=Object(ae.e)(le,ce(Object(ae.a)(te.a)));f.a.interceptors.response.use((function(e){return e}),(function(e){var a="",t="";if(e.response){if(401===e.response.status||403===e.response.status)return me.dispatch(x());e.response.data&&(a=e.response.data.code,t=e.response.data.message)}else e.request,a=e.status,t=e.message;X.a.error({message:"L\u1ed7i (".concat(a,")"),description:t})})),c.a.render(r.a.createElement(p.a,{store:me},r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.e7b84ef5.chunk.js.map