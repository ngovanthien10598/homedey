(this["webpackJsonpnien-luan-web"]=this["webpackJsonpnien-luan-web"]||[]).push([[0],{146:function(e,a,t){e.exports=t(312)},151:function(e,a,t){},214:function(e,a,t){},303:function(e,a,t){},312:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),c=t.n(l),m=t(42),u=t(14),o=t(314),s=t(9),i=t(319),p=(t(151),t(26)),h=t(27),E=t.n(h),d=t(40),f=t(35),g=t.n(f);function b(e){return g.a.get("".concat("https://homedey.herokuapp.com/api","/user/profile/"),{headers:{Authorization:"Bearer ".concat(e)}})}function k(e){return g.a.post("".concat("https://homedey.herokuapp.com/api","/auth/login/"),e)}function y(e){return{type:"LOGIN",payload:e}}function v(e){return function(){var a=Object(d.a)(E.a.mark((function a(t){var n,r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k(e);case 3:n=a.sent,r=n.data.data,t(y(r)),t(O(r)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}function O(e){return function(){var a=Object(d.a)(E.a.mark((function a(t){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b(e);case 3:n=a.sent,t({type:"GET_PROFILE",payload:n.data.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}var x=t(323),w=o.a.Header,j=function(e){var a=Object(s.g)(),t=Object(p.b)(),n=Object(p.c)((function(e){return e.userState})).user,l=localStorage.getItem("user"),c=Object(x.a)(["token"]),o=Object(m.a)(c,3)[2];return r.a.createElement(w,{className:"header"},r.a.createElement(u.b,{className:"header_brand",to:"/"},r.a.createElement("img",{src:"".concat("/homedey","/images/logo.svg"),alt:"Homedey",width:"32"})),r.a.createElement(i.a,{className:"header_menu",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},[{name:"Th\xf4ng tin",path:"/thong-tin"},{name:"B\u1ea5t \u0111\u1ed9ng s\u1ea3n",path:"/bat-dong-san"},{name:"D\u1ef1 \xe1n",path:"/du-an"},{name:"Tin t\u1ee9c",path:"/tin-tuc"},{name:"Li\xean h\u1ec7",path:"/lien-he"}].map((function(e){return r.a.createElement(i.a.Item,{key:e.path},r.a.createElement(u.b,{to:e.path},e.name))}))),n||l?r.a.createElement(i.a,{className:"header_menu header_menu--auth",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},r.a.createElement(i.a.Item,{key:"/me"},r.a.createElement(u.b,{to:"/me"},n?n.first_name+" "+n.last_name:l)),r.a.createElement(i.a.Item,{key:"/dang-xuat"},r.a.createElement(u.b,{to:"/",onClick:function(){t({type:"LOGOUT"}),o("token"),localStorage.removeItem("user")}},"\u0110\u0103ng xu\u1ea5t"))):r.a.createElement(i.a,{className:"header_menu header_menu--auth",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},r.a.createElement(i.a.Item,{key:"/dang-nhap"},r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp")),r.a.createElement(i.a.Item,{key:"/dang-ky"},r.a.createElement(u.b,{to:"/dang-ky"},"\u0110\u0103ng k\xfd"))))},I=(t(214),o.a.Content),N=function(e){return r.a.createElement(o.a,{className:"layout"},r.a.createElement(u.a,{basename:"/homedey"},r.a.createElement(j,null),r.a.createElement(I,{className:"layout_content"},e.children)))},_=t(320),V=t(315),T=t(316),F=t(318),S=t(321),P=t(92),q=_.a.Option,L=function(e){return r.a.createElement(V.a,{justify:"center"},r.a.createElement(T.a,{sm:24,md:22,lg:18,xl:14,xxl:12},r.a.createElement(F.a,{layout:"vertical"},r.a.createElement(V.a,{gutter:8},r.a.createElement(T.a,null,r.a.createElement(F.a.Item,null,r.a.createElement(_.a,{defaultValue:"1"},r.a.createElement(q,{value:"1"},"Nh\xe0"),r.a.createElement(q,{value:"2"},"\u0110\u1ea5t")))),r.a.createElement(T.a,{flex:1},r.a.createElement(F.a.Item,null,r.a.createElement(S.a,{placeholder:"Nh\u1eadp t\u1eeb kh\xf3a t\xecm ki\u1ebfm"}))),r.a.createElement(T.a,null,r.a.createElement(F.a.Item,null,r.a.createElement(P.a,{type:"primary"},"T\xecm ki\u1ebfm")))),r.a.createElement(V.a,{gutter:"8"},r.a.createElement(T.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"T\u1ec9nh/th\xe0nh ph\u1ed1"},r.a.createElement(_.a,{defaultValue:"1"},r.a.createElement(q,{value:"1"},"C\u1ea7n Th\u01a1")))),r.a.createElement(T.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"Qu\u1eadn/huy\u1ec7n"},r.a.createElement(_.a,{defaultValue:"1"},r.a.createElement(q,{value:"1"},"Ninh Ki\u1ec1u")))),r.a.createElement(T.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"Ph\xf2ng ng\u1ee7"},r.a.createElement(S.a,{type:"number",defaultValue:"1"}))),r.a.createElement(T.a,{flex:"1"},r.a.createElement(F.a.Item,{label:"Ph\xf2ng t\u1eafm"},r.a.createElement(S.a,{type:"number",defaultValue:"1"})))),r.a.createElement(V.a,{gutter:8,align:"bottom",justify:"center"},r.a.createElement(T.a,{flex:"0 0 150px"},r.a.createElement(F.a.Item,{label:"Gi\xe1"},r.a.createElement(S.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(T.a,{flex:"0 0 150px"},r.a.createElement(F.a.Item,null,r.a.createElement(S.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(T.a,{flex:"0 0 100px"},r.a.createElement(F.a.Item,{label:"Di\u1ec7n t\xedch"},r.a.createElement(S.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(T.a,{flex:"0 0 100px"},r.a.createElement(F.a.Item,null,r.a.createElement(S.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(T.a,{flex:"0 0 150px"},r.a.createElement(F.a.Item,{label:"N\u0103m x\xe2y d\u1ef1ng"},r.a.createElement(S.a,{type:"number",defaultValue:(new Date).getFullYear(),min:0})))))))},G=function(e){return r.a.createElement("div",{className:"page-home"},r.a.createElement("section",{className:"header"},r.a.createElement("div",{className:"header_wrapper"},r.a.createElement("h1",{className:"header_heading"},"Homedey"))),r.a.createElement("div",{className:"search-form"},r.a.createElement(L,null)))},C=function(e){return r.a.createElement("div",null,"About page")},K=function(e){return r.a.createElement("div",null,"Listings page")},D=function(e){return r.a.createElement("div",null,"News page")},z=function(e){return r.a.createElement("div",null,"Contact page")},B=t(317),H=t(324),M=t(325),A=function(e){return r.a.createElement("div",{className:"auth-form"},e.children)},R=function(e){var a=Object(p.b)(),t=Object(s.f)(),l=Object(n.useState)(!1),c=Object(m.a)(l,2),o=c[0],i=c[1],h=Object(x.a)(["token"]),f=Object(m.a)(h,2)[1],g=Object(p.c)((function(e){return e.userState})),b=function(){var e=Object(d.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,n=t,e.next=5,a(v(n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log({error:e.t0});case 10:i(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=g.user,a=g.token;e&&a&&(f("token",a,{maxAge:604800}),localStorage.setItem("user",e.first_name+" "+e.last_name),t.replace("/"))}),[g,f,t]),r.a.createElement(A,null,r.a.createElement("h2",null,"\u0110\u0103ng nh\u1eadp"),r.a.createElement(B.a,null),r.a.createElement(F.a,{layout:"vertical",onFinish:b,noValidate:!0},r.a.createElement(F.a.Item,{label:"\u0110\u1ecba ch\u1ec9 email",htmlFor:"email",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(S.a,{id:"email",type:"email",prefix:r.a.createElement(H.a,null)})),r.a.createElement(F.a.Item,{label:"M\u1eadt kh\u1ea9u",htmlFor:"password",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}]},r.a.createElement(S.a.Password,{id:"password",prefix:r.a.createElement(M.a,null)})),r.a.createElement("p",null,r.a.createElement(u.b,{to:"/quen-mat-khau"},"Qu\xean m\u1eadt kh\u1ea9u")),r.a.createElement(F.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",loading:o,block:!0},"\u0110\u0103ng nh\u1eadp")),r.a.createElement("p",{className:"text-center"},"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",r.a.createElement(u.b,{to:"/dang-ky"},"\u0110\u0103ng k\xfd"))))},U=function(e){return r.a.createElement("div",{className:"page-auth"},r.a.createElement(R,null))};var W=/^(0|\+84)(\s|\.)?((3[2-9])|(5[689])|(7[06-9])|(8[1-689])|(9[0-46-9]))(\d)(\s|\.)?(\d{3})(\s|\.)?(\d{3})$/,J=function(e){var a=function(){var e=Object(d.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=a,g.a.post("".concat("https://homedey.herokuapp.com/api","/auth/signup/"),n);case 3:t=e.sent,console.log(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(A,null,r.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),r.a.createElement(B.a,null),r.a.createElement(F.a,{layout:"vertical",onFinish:a,noValidate:!0},r.a.createElement(V.a,{gutter:10,style:{flexWrap:"nowrap"}},r.a.createElement(T.a,null,r.a.createElement(F.a.Item,{label:"H\u1ecd",htmlFor:"first-name",name:"first_name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\u1ecd"}]},r.a.createElement(S.a,{id:"first-name"}))),r.a.createElement(T.a,null,r.a.createElement(F.a.Item,{label:"T\xean",htmlFor:"last-name",name:"last_name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean"}]},r.a.createElement(S.a,{id:"last-name"})))),r.a.createElement(F.a.Item,{label:"\u0110\u1ecba ch\u1ec9 email",htmlFor:"email",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(S.a,{id:"email",type:"email"})),r.a.createElement(F.a.Item,{label:"M\u1eadt kh\u1ea9u",htmlFor:"password",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}],hasFeedback:!0},r.a.createElement(S.a.Password,{id:"password"})),r.a.createElement(F.a.Item,{label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",htmlFor:"confirm-password",name:"confirmPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp nhau"):Promise.resolve()}}}],hasFeedback:!0},r.a.createElement(S.a.Password,{id:"confirm-password"})),r.a.createElement(F.a.Item,{label:"\u0110i\u1ec7n tho\u1ea1i",htmlFor:"phone",name:"phone",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},{pattern:W,message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(S.a,{id:"phone"})),r.a.createElement(F.a.Item,null,r.a.createElement(P.a,{type:"primary",htmlType:"submit",block:!0},"\u0110\u0103ng k\xfd")),r.a.createElement("p",{className:"text-center"},"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? ",r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp"))))},Q=function(e){return r.a.createElement("div",{className:"page-auth"},r.a.createElement(J,null))},X=function(e){return r.a.createElement("div",null,"Projects page")},$=function(e){var a=Object(x.a)(["token"]),t=Object(m.a)(a,1)[0],l=Object(p.b)(),c=Object(p.c)((function(e){return e.userState}));return Object(n.useEffect)((function(){t.token&&!c.token&&(l({type:"SET_TOKEN",payload:t.token}),l(O(t.token)))})),r.a.createElement(N,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:G}),r.a.createElement(s.a,{path:"/thong-tin",component:C}),r.a.createElement(s.a,{path:"/bat-dong-san",component:K}),r.a.createElement(s.a,{path:"/du-an",component:X}),r.a.createElement(s.a,{path:"/tin-tuc",component:D}),r.a.createElement(s.a,{path:"/lien-he",component:z}),r.a.createElement(s.a,{path:"/dang-nhap",component:U}),r.a.createElement(s.a,{path:"/dang-ky",component:Q})))};t(302),t(303),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=t(38),Z=t(137),ee=t(32),ae={user:null,token:null};var te=Object(Y.c)({userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(ee.a)(Object(ee.a)({},e),{},{token:a.payload});case"GET_PROFILE":return Object(ee.a)(Object(ee.a)({},e),{},{user:a.payload});case"LOGOUT":return Object(ee.a)(Object(ee.a)({},e),{},{user:null,token:null});case"SET_TOKEN":return Object(ee.a)(Object(ee.a)({},e),{},{user:null,token:a.payload});default:return Object(ee.a)({},e)}}}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,re=Object(Y.e)(te,ne(Object(Y.a)(Z.a))),le=t(322);g.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response){var a="",t="";e.response?(console.log({response:e.response}),a=e.response.data.code,t=e.response.data.message):e.request?(a=e.status,t=e.request.message):(a=e.status,t=e.message),le.a.error({message:"L\u1ed7i (".concat(a,")"),description:t})}})),c.a.render(r.a.createElement(p.a,{store:re},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.5c02b260.chunk.js.map