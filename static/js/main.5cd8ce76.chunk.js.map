{"version":3,"sources":["forms/SearchForm/SearchForm.jsx","services/apiPrefix.js","services/auth/login.js","store/actions/user.action.js","services/user/profile.js","store/actionTypes.js","services/user/real-estate-category.js","components/Header/Header.jsx","layouts/MainLayout/MainLayout.jsx","pages/index.jsx","components/RealEstate/RealEstate.jsx","utils/number.js","layouts/LayoutWithAside/LayoutWithAside.jsx","services/user/real-estate.js","store/actions/loading.action.js","pages/real-estate/index.jsx","pages/about.jsx","components/News/News.jsx","utils/string.js","services/user/news.js","services/user/news-category.js","pages/news/index.jsx","containers/AuthForm/AuthForm.jsx","forms/LoginForm/LoginForm.jsx","pages/login.jsx","forms/RegisterForm/RegisterForm.jsx","services/auth/register.js","pages/register.jsx","components/Project/Project.jsx","pages/projects/index.jsx","components/LLMap/LLMap.jsx","pages/projects/project-details.jsx","pages/verify-email.jsx","HOCs/withUserRoute.jsx","pages/user/index.jsx","services/user/listing.js","pages/user/real-estate.jsx","services/user/address.js","services/user/project.js","components/MapMarker/MapMarker.jsx","components/UploadButton/UploadButton.jsx","components/UploadPreview/UploadPreview.jsx","forms/CreateRealEstateForm/CreateRealEstateForm.jsx","pages/user/real-estate-create.jsx","services/admin/real-estate.js","pages/shared/real-estate-detail.jsx","layouts/UserLayout/UserLayout.jsx","pages/admin/index.jsx","pages/admin/real-estate.jsx","forms/CreateNewsForm/CreateNewsForm.jsx","components/UploadPictures/UploadPictures.jsx","services/admin/news.js","forms/EditNewsForm/EditNewsForm.jsx","pages/admin/news.jsx","services/user/project-category.js","services/user/investor.js","services/admin/project-category.js","services/admin/investor.js","components/ProjectCategoryTab/ProjectCategoryTab.jsx","components/ProjectInvestorTab/ProjectInvestorTab.jsx","components/ProjectTab/ProjectTab.jsx","forms/ProjectCategoryForm/ProjectCategoryForm.jsx","forms/InvestorForm/InvestorForm.jsx","pages/admin/projects.jsx","pages/admin/user.jsx","HOCs/withAdminRoute.jsx","forms/EditNewsCategoryForm/EditNewsCategoryForm.jsx","services/admin/news-category.js","pages/admin/news-category.jsx","layouts/AdminLayout/AdminLayout.jsx","pages/real-estate/real-estate-details.jsx","pages/news/news-details.jsx","App.js","serviceWorker.js","store/reducers/user.reducer.js","store/reducers/loading.reducer.js","store/reducer.js","index.js","store/store.js"],"names":["Option","Select","SearchForm","props","justify","sm","md","lg","xl","xxl","layout","gutter","Item","defaultValue","value","flex","placeholder","type","label","align","min","Date","getFullYear","withAuthorization","token","headers","Authorization","apiPrefix","loginAPI","body","axios","post","loginAction","dispatch","a","loginRes","responseData","data","access_token","refresh_token","Cookies","set","expires","setAccessToken","setRefreshToken","getProfileAction","console","log","get","getProfileRes","payload","error","getAllRealEstateCategoriesAPI","Header","Layout","PageHeader","location","useLocation","history","useHistory","useDispatch","useState","categories","setCategories","userState","useSelector","state","loadingState","user","userLocal","localStorage","getItem","href","window","useEffect","response","getCategories","className","isDashboard","loading","indeterminate","to","src","process","alt","width","theme","mode","selectedKeys","pathname","includes","title","filter","c","for_rent","map","key","id","name","path","menu","is_staff","first_name","last_name","onClick","replace","removeItem","remove","Content","MainLayout","children","HomePage","RealEstate","thumbnail","realEstate","addressStr","district","address","ward","city","prefix","slug","images","url","detail","length","substr","icon","faCoins","price","toString","faBorderAll","area","faMapMarkerAlt","faCalendar","created_at","toLocaleDateString","LayoutWithAside","style","marginTop","Array","fill","_","index","endpointPrefix","createRealEstate","getRealEstateDetailsAPI","uploadImages","formData","FormData","forEach","image","append","setLoading","RealEstatePage","setRealEstate","getAllRealEstate","results","item","AboutPage","News","news","content","news_category","div","document","createElement","innerHTML","contentStr","text","maxLength","delimiter","truncateText","innerText","CalendarOutlined","getAllNewsAPI","getNewsDetailsAPI","getNewsByCategoryAPI","categorySlug","getAllNewsCategoriesAPI","NewsPage","newsCategories","setNewsCategories","setNews","search","category","URLSearchParams","getNewsCategories","getNewsByCategory","getAllNews","Helmet","color","n","AuthForm","LoginForm","isLoading","next","handleLogin","values","accessToken","setItem","message","onFinish","noValidate","htmlFor","rules","required","MailOutlined","Password","KeyOutlined","htmlType","block","LoginPage","RegisterForm","handleRegister","registerRes","notification","success","description","duration","onClose","flexWrap","hasFeedback","getFieldValue","validator","rule","Promise","reject","resolve","RegisterPage","Project","bordered","cover","Meta","ProjectsPage","e","i","LLMap","Map","center","lng","lat","zoom","onclick","TileLayer","attribution","ProjectDetails","xs","autoplay","VerifyPage","withUserRoute","Component","UserHomePage","listingPrefix","getUserRealEstateAPI","getUserRealEstateDetailsAPI","realEstateId","getWaitingRealEstateAPI","getRejectedRealEstateAPI","deleteRealEstateAPI","delete","TabPane","Tabs","confirm","Modal","UserRealEstatePage","useRouteMatch","currentTab","setCurrentTab","waitingRealEstate","setWaitingRealEstate","rejectedRealEstate","setRejectedRealEstate","isLoadingRealEstate","setLoadingRealEstate","isLoadingWaitingRealEstate","setLoadingWaitingRealEstate","isLoadingRejectedRealEstate","setLoadingRejectedRealEstate","getTableDataFromSource","dataSource","re","tableColumns","dataIndex","render","record","EyeOutlined","EditOutlined","handleDelete","danger","DeleteOutlined","getUserRealEstate","onOk","newState","splice","onChange","tabKey","numTabKey","Number","parseInt","getWaitingRealEstate","getRejectedRealEstate","tab","rowKey","columns","addressAPI","getAllCitiesAPI","getDistrictsByCityAPI","city_id","params","getWardsByDistrictAPI","district_id","getStreetsByDistrictAPI","getAllProjectsAPI","MapMarker","Marker","position","UploadButton","PlusOutlined","ref","inputRef","accept","multiple","UploadPreview","file","base64","setBase64","reader","FileReader","readAsDataURL","onload","result","TextArea","Input","CreateRealEstateForm","isLoadingRECategories","setLoadingRECategories","isLoadingCities","setLoadingCities","isLoadingDistricts","setLoadingDistricts","isLoadingWards","setLoadingWards","isLoadingStreets","setLoadingStreets","isLoadingProjects","setLoadingProjects","setIsLoading","RECategories","setRECategories","cities","setCities","districts","setDistricts","wards","setWards","streets","setStreets","projects","setProjects","fileList","setFileList","clickedPosition","setClickedPosition","setType","fileRef","useRef","getRealEstateCategories","RECategoriesResponse","getCities","getAllCitiesReponse","handleCityChange","cityId","getDistrictsResponse","handleDistrictChange","districtId","all","getWardsResponse","getStreetsResponse","getProjectsResponse","handleSubmit","image_ids","uploadResponse","bedroom","bathroom","lot_size","year_build","real_estate_category_id","ward_id","street_id","project_id","latitude","longitude","getData","scrollToFirstError","initialValue","pattern","suffix","disabled","charAt","toUpperCase","rows","latlng","showSearch","str","p","files","target","prevValue","current","size","UserRealEstateCreatePage","approveRealEstateAPI","patch","is_active","RealEstateDetails","realEstateDetails","setRealEstateDetails","isLoadingRealEstateDetails","setLoadingRealEstateDetails","getRealEstateDetails","real_estate_category","colSpan","street","streetStr","wardStr","districtStr","cityStr","getAddressString","project","dangerouslySetInnerHTML","__html","active","paragraph","Sider","adminRoutes","breakpoint","collapsedWidth","route","exact","component","AdminHomePage","AdminRealestatePage","setLoadingApproveRealEstate","tableData","r","EyeFilled","handleApproveClick","CheckOutlined","DeleteFilled","getPendingRealEstate","CreateNewsForm","setContent","form","getBase64","onerror","UploadPictures","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","handlePreview","preview","originFileObj","uploadButton","listType","onPreview","beforeUpload","visible","footer","onCancel","uploadNewsImage","EditNewsForm","useForm","Form","AdminNewsPage","isLoadingNews","setLoadingNews","isModalShow","setModalState","createForm","editForm","action","setAction","imageList","setImageList","setImages_ids","selectedNews","setSelectedNews","handleEditClick","onConfirm","onUploadChange","handleCreate","image_ids_uploaded","newsBody","news_category_id","createResponse","unshift","uid","handleEdit","old_images_ids","new_images","news_id","put","updateResponse","updatedNews","findIndex","handleBeforeUpload","display","marginLeft","destroyOnClose","validateFields","then","afterClose","resetFields","confirmLoading","getAllProjectCategoriesAPI","getAllInvestorsAPI","createInvestorAPI","updateInvestorAPI","investor_id","updateInvestorAvatarAPI","ProjectCategoryTab","onEditClick","onDeleteClick","ProjectInvestorTab","investors","ProjectTab","addressObj","getShortAddressString","ProjectCategoryForm","InvestorForm","investor","getDistrictsByCity","getWardsAndStreetsByDistrict","wardRes","streetRes","getAllCities","avatar","phone","email","website","AdminProjectsPage","setTab","setInvestors","selectedCategory","setSelectedCategory","selectedInvestor","setSelectedInvestor","setIsModalShow","setObject","projectCategoryForm","projectForm","investorForm","getAllProjectCategories","getAllInvestors","handleCreateClick","handleCreateCategory","handleUpdateCategory","category_id","handleDeleteCategory","handleCreateInvestor","object","handleUpdateInvestor","handleDeleteInvestor","getAllProjects","tabBarExtraContent","handleCreateProject","AdminUserPage","withAdminRoute","EditNewsCategoryForm","createNewsCategoryAPI","updateNewsCategoryAPI","AdminNewsCategoryPage","isLoadingNewsCategories","setLoadingNewsCategories","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","newItem","cat","forceRender","withAdminRote","RealEstateDetailsPage","NewsDetailsPage","newsDetails","setNewsDetails","getNewsDetails","App","ProjectDetailsPage","UserLayout","AdminLayout","Boolean","hostname","match","initialState","refreshToken","store","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","interceptors","request","use","config","status","res","catch","err","code","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5cd8ce76.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Row, Col, Form, Select, Button, Input } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst SearchForm = props => {\r\n  return (\r\n    <Row justify=\"center\">\r\n      <Col sm={24} md={22} lg={18} xl={14} xxl={12}>\r\n        <Form layout=\"vertical\">\r\n          <Row gutter={8}>\r\n            <Col>\r\n              <Form.Item>\r\n                <Select defaultValue=\"1\">\r\n                  <Option value=\"1\">Nhà</Option>\r\n                  <Option value=\"2\">Đất</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex={1}>\r\n              <Form.Item>\r\n                <Input placeholder=\"Nhập từ khóa tìm kiếm\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col>\r\n              <Form.Item>\r\n                <Button type=\"primary\">Tìm kiếm</Button>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter=\"8\">\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Tỉnh/thành phố\">\r\n                <Select defaultValue=\"1\">\r\n                  <Option value=\"1\">Cần Thơ</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Quận/huyện\">\r\n                <Select defaultValue=\"1\">\r\n                  <Option value=\"1\">Ninh Kiều</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Phòng ngủ\">\r\n                <Input type=\"number\" defaultValue=\"1\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Phòng tắm\">\r\n                <Input type=\"number\" defaultValue=\"1\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={8} align=\"bottom\" justify=\"center\">\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Giá\">\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item>\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 100px\">\r\n              <Form.Item label=\"Diện tích\">\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 100px\">\r\n              <Form.Item>\r\n                <Input type=\"number\" defaultValue={0} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Năm xây dựng\">\r\n                <Input type=\"number\" defaultValue={new Date().getFullYear()} min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default SearchForm;","const apiPrefix = \"https://homedey.herokuapp.com/api\";\r\n\r\nexport const withAuthorization = token => {\r\n  return {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }\r\n}\r\n\r\nexport default apiPrefix;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function loginAPI(body) {\r\n  return axios.post(`${apiPrefix}/auth/login/`, body);\r\n}","import * as actionTypes from '../actionTypes';\r\nimport { getProfileAPI } from 'services/user/profile';\r\nimport { loginAPI } from 'services/auth/login';\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction getProfileSuccess(user) {\r\n  return {\r\n    type: actionTypes.GET_PROFILE,\r\n    payload: user\r\n  }\r\n}\r\n\r\n\r\nexport function loginAction(body) {\r\n  return async dispatch => {\r\n    try {\r\n      const loginRes = await loginAPI(body);\r\n      const responseData = loginRes.data;\r\n      const access_token = responseData.data.access_token;\r\n      const refresh_token = responseData.data.refresh_token;\r\n      Cookies.set('access', access_token, { expires: 10 * 60 });\r\n      Cookies.set('refresh', refresh_token, { expires: 24 * 3660 });\r\n      dispatch(setAccessToken(access_token));\r\n      dispatch(setRefreshToken(refresh_token));\r\n      dispatch(getProfileAction(access_token));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getProfileAction(access_token) {\r\n  return async dispatch => {\r\n    try {\r\n      const getProfileRes = await getProfileAPI(access_token);\r\n      dispatch(getProfileSuccess(getProfileRes.data.data));\r\n    } catch (error) {\r\n      console.log({ error: error });\r\n    }\r\n  }\r\n}\r\n\r\nexport function logoutAction() {\r\n  localStorage.removeItem('user');\r\n  Cookies.remove('access');\r\n  Cookies.remove('refresh');\r\n  return {\r\n    type: actionTypes.LOGOUT\r\n  }\r\n}\r\n\r\nexport function setAccessToken(access_token) {\r\n  Cookies.set('access', access_token, { expires: 10 * 60 });\r\n  return {\r\n    type: actionTypes.SET_ACCESS_TOKEN,\r\n    payload: access_token\r\n  }\r\n}\r\n\r\nexport function setRefreshToken(refresh_token) {\r\n  Cookies.set('refresh', refresh_token, { expires: 24 * 3660 });\r\n  return {\r\n    type: actionTypes.SET_REFRESH_TOKEN,\r\n    payload: refresh_token\r\n  }\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function getProfileAPI(token) {\r\n  return axios.get(`${apiPrefix}/user/profile/`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  });\r\n}","export const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const GET_PROFILE = \"GET_PROFILE\";\r\nexport const SET_ACCESS_TOKEN = \"SET_ACCESS_TOKEN\";\r\nexport const SET_REFRESH_TOKEN = \"SET_REFRESH_TOKEN\";\r\n\r\nexport const SET_LOADING = \"SET_LOADING\";","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function getAllRealEstateCategoriesAPI() {\r\n  return axios.get(`${apiPrefix}/user/real-estate-category/`);\r\n}","import React, { useState } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { Layout, Menu } from 'antd';\r\nimport './Header.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logoutAction } from 'store/actions/user.action';\r\nimport { useEffect } from 'react';\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport SubMenu from 'antd/lib/menu/SubMenu';\r\nimport LinearProgress from '@material/react-linear-progress';\r\n\r\nconst { Header } = Layout;\r\n\r\nconst PageHeader = (props) => {\r\n\r\n  const menuItems = [\r\n    { name: 'Dự án', path: '/project' },\r\n    { name: 'Tin tức', path: '/news' },\r\n    { name: 'Thông tin', path: '/about' },\r\n    // { name: 'Liên hệ', path: '/lien-he' },\r\n  ]\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [categories, setCategories] = useState(null);\r\n  const userState = useSelector(state => state.userState);\r\n  const loadingState = useSelector(state => state.loadingState);\r\n  const { user } = userState;\r\n  const userLocal = localStorage.getItem('user');\r\n  const href = window.location.href;\r\n\r\n  useEffect(() => {\r\n    const getCategories = async () => {\r\n      const response = await getAllRealEstateCategoriesAPI();\r\n      setCategories(response.data);\r\n    }\r\n    getCategories();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    history.replace('/');\r\n    dispatch(logoutAction());\r\n  }\r\n\r\n  return (\r\n    <Header className={`header${props.isDashboard ? ' header--dashboard' : ''}`}>\r\n      <div className=\"header_loading\">\r\n        {\r\n          loadingState.loading &&\r\n          <LinearProgress className=\"header_loading_linear\" indeterminate={true} />\r\n        }\r\n      </div>\r\n\r\n      <Link className=\"header_brand\" to=\"/\">\r\n        <img src={`${process.env.PUBLIC_URL}/images/logo.svg`} alt=\"Homedey\" width=\"32\" />\r\n      </Link>\r\n\r\n      {\r\n        !props.isDashboard &&\r\n        <Menu className=\"header_menu\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n          <SubMenu\r\n            className={`${href.includes('/real-estate?for_rent=false') ? ' ant-menu-item-selected' : ''}`}\r\n            title={<Link to=\"/real-estate?for_rent=false\" className=\"header_submenu\">Nhà đất bán</Link>}>\r\n            {\r\n              categories &&\r\n              categories.filter(c => !c.for_rent).map(c => {\r\n                return <Menu.Item key={`/for-sale-${c.id}`}>\r\n                  <Link to={`/real-estate?for_rent=false&&type=${c.id}`}>Bán {c.name}</Link>\r\n                </Menu.Item>\r\n              })\r\n            }\r\n          </SubMenu>\r\n          <SubMenu\r\n            className={`${href.includes('/real-estate?for_rent=true') ? ' ant-menu-item-selected' : ''}`}\r\n            title={<Link to=\"/real-estate?for_rent=true\" className=\"header_submenu\">Nhà đất cho thuê</Link>}>\r\n            {\r\n              categories &&\r\n              categories.filter(c => c.for_rent).map(c => {\r\n                return <Menu.Item key={`/real-estate?for_rent=true${c.id}`}>\r\n                  <Link to={`/real-estate?for_rent=true&&type=${c.id}`}>Cho thuê {c.name}</Link>\r\n                </Menu.Item>\r\n              })\r\n            }\r\n          </SubMenu>\r\n          {\r\n            menuItems.map(menu => {\r\n              return (\r\n                <Menu.Item key={menu.path}>\r\n                  <Link to={menu.path}>{menu.name}</Link>\r\n                </Menu.Item>\r\n              )\r\n            })\r\n          }\r\n        </Menu>\r\n      }\r\n      {\r\n        user || userLocal ?\r\n          <Menu className=\"header_menu header_menu--auth\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n            <Menu.Item key=\"/me/\">\r\n              <Link to={`${user ? (user.is_staff ? '/admin/' : '/me/') : ''}`}>{user ? user.first_name + ' ' + user.last_name : userLocal}</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/logout\">\r\n              <Link to=\"/\" onClick={handleLogout}>Đăng xuất</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n          :\r\n          <Menu className=\"header_menu header_menu--auth\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n            <Menu.Item key=\"/login\">\r\n              <Link to=\"/login\">Đăng nhập</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/register\">\r\n              <Link to=\"/register\">Đăng ký</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n      }\r\n\r\n    </Header>\r\n  )\r\n}\r\n\r\nexport default PageHeader;","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport PageHeader from 'components/Header/Header';\r\n// import PageFooter from 'components/Footer/Footer';\r\nimport './MainLayout.scss';\r\nconst { Content } = Layout;\r\n\r\nconst MainLayout = props => {\r\n  return (\r\n    <Layout className=\"main-layout\">\r\n      <PageHeader />\r\n      <Content className=\"main-layout_content\">\r\n\r\n        {\r\n          props.children\r\n        }\r\n\r\n      </Content>\r\n\r\n      {/* <Footer>\r\n          <PageFooter />\r\n        </Footer> */}\r\n    </Layout >\r\n  )\r\n}\r\n\r\nexport default MainLayout;","import React from 'react';\r\nimport SearchForm from 'forms/SearchForm/SearchForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst HomePage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-home\">\r\n        <section className=\"header\">\r\n          <div className=\"header_wrapper\">\r\n            <h1 className=\"header_heading\">Homedey</h1>\r\n          </div>\r\n        </section>\r\n        <div className=\"search-form\">\r\n          <SearchForm />\r\n        </div>\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './RealEstate.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCoins, faBorderAll, faMapMarkerAlt, faCalendar } from '@fortawesome/free-solid-svg-icons';\r\nimport { priceWithThousandSpace } from 'utils/number';\r\n\r\nconst RealEstate = props => {\r\n  const { thumbnail, realEstate } = props;\r\n  let addressStr = \"\";\r\n  if (realEstate) {\r\n    const { address } = realEstate;\r\n    const { ward } = address;\r\n    const { district } = ward;\r\n    const { city } = district;\r\n    const districtStr = district.prefix + \" \" + district.name;\r\n    const cityStr = city.prefix + \" \" + city.name;\r\n    addressStr = districtStr + \", \" + cityStr;\r\n  }\r\n\r\n  return (\r\n    realEstate ?\r\n      <li className={`real-estate${thumbnail ? ' real-estate--thumbnail' : ''}`}>\r\n        <Link className=\"real-estate__image\" to={`/real-estate/${realEstate.slug}`}>\r\n          <img src={realEstate.images[0]?.url || \"//via.placeholder.com/800x600\"} alt={realEstate.images[0]?.url || \"//via.placeholder.com/800x600\"} />\r\n        </Link>\r\n        <div className=\"real-estate__content\">\r\n          <h3 className=\"real-estate__heading\">\r\n            <Link to={`/real-estate/${realEstate.slug}`}>{realEstate.title}</Link>\r\n          </h3>\r\n          <p className=\"real-estate__summary\">{realEstate.detail.length > 120 ? realEstate.detail.substr(0, 120) + \"...\" : realEstate.detail}</p>\r\n          <div className=\"real-estate__columns\">\r\n            <span className=\"real-estate__price\"><FontAwesomeIcon icon={faCoins} /> {priceWithThousandSpace(realEstate.price)} VNĐ</span>\r\n            <span className=\"real-estate__area\"><FontAwesomeIcon icon={faBorderAll} /> {realEstate.area} m<sup>2</sup></span>\r\n          </div>\r\n          <div className=\"real-estate__address\"><FontAwesomeIcon icon={faMapMarkerAlt} /> {addressStr}</div>\r\n          <p className=\"real-estate__date\"><FontAwesomeIcon icon={faCalendar} /> {new Date(realEstate.created_at).toLocaleDateString(\"vi-VN\")}</p>\r\n        </div>\r\n      </li>\r\n      :\r\n      null\r\n  )\r\n}\r\n\r\nexport default RealEstate;","export function priceWithThousandSpace(price) {\r\n  return price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n}","import React from 'react';\r\n\r\nimport './LayoutWithAside.scss';\r\nimport { Divider } from 'antd';\r\nimport RealEstate from 'components/RealEstate/RealEstate';\r\n\r\nconst LayoutWithAside = props => {\r\n  return (\r\n    <div className=\"layout-aside\">\r\n      <div className=\"layout-aside_main\">{props.children}</div>\r\n      <aside className=\"layout-aside_aside\">\r\n        <h3>Nổi bật</h3>\r\n        <Divider style={{ marginTop: 0 }} />\r\n        <ul>\r\n          {\r\n            Array(3).fill().map((_, index) => {\r\n              return (\r\n                <RealEstate thumbnail key={index} />)\r\n            })\r\n          }\r\n        </ul>\r\n        <h3>Gần đây</h3>\r\n        <Divider style={{ marginTop: 0 }} />\r\n        <ul>\r\n          {\r\n            Array(3).fill().map((_, index) => {\r\n              return <RealEstate thumbnail key={index} />\r\n            })\r\n          }\r\n        </ul>\r\n      </aside>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LayoutWithAside;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/real-estate`;\r\n\r\nexport function getAllRealEstateAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}\r\n\r\nexport function createRealEstate(token, body) {\r\n  return axios.post(`${endpointPrefix}/listings/`, body, withAuthorization(token))\r\n}\r\n\r\nexport function getRealEstateDetailsAPI(slug) {\r\n  return axios.get(`${endpointPrefix}/${slug}/`);\r\n}\r\n\r\nexport function uploadImages(images) {\r\n  const formData = new FormData();\r\n  images.forEach(image => {\r\n    formData.append('images[]', image);\r\n  })\r\n  \r\n  return axios.post(`${endpointPrefix}/upload-image/`, formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}","import * as actionTypes from '../actionTypes';\r\n\r\nexport function setLoading(value) {\r\n  return {\r\n    type: actionTypes.SET_LOADING,\r\n    payload: value\r\n  }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { Divider } from 'antd';\r\nimport RealEstate from 'components/RealEstate/RealEstate';\r\nimport { getAllRealEstateAPI } from 'services/user/real-estate';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst RealEstatePage = props => {\r\n\r\n  const [realEstate, setRealEstate] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const getAllRealEstate = async () => {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getAllRealEstateAPI();\r\n      setRealEstate(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllRealEstate();\r\n  }, []);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        <h2>Nhà đất bán</h2>\r\n        <Divider />\r\n        {\r\n          realEstate &&\r\n          <ul className=\"real-estate-page_grid\">\r\n            {\r\n\r\n              realEstate.results.length > 0 ?\r\n                realEstate.results.map(item => {\r\n                  return <RealEstate realEstate={item} key={item.id} />\r\n                })\r\n                :\r\n                <li>No posts found.</li>\r\n            }\r\n          </ul>\r\n        }\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default RealEstatePage;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst AboutPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div>About page</div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default AboutPage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CalendarOutlined } from '@ant-design/icons';\r\nimport { truncateText } from 'utils/string';\r\nimport { Tag } from 'antd';\r\nimport './News.scss';\r\n\r\nconst News = props => {\r\n  const { news } = props;\r\n  const { title, content, created_at, images, news_category, slug } = news;\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.innerHTML = content;\r\n  const contentStr = truncateText(div.innerText, 100);\r\n\r\n  return (\r\n    <div className=\"news\">\r\n      <Link to={`/news/${slug}`} className=\"news_thumbnail\">\r\n        <img src={images[0]?.url || '//via.placeholder.com/800x600'} alt={images[0]?.url || '//via.placeholder.com/800x600'} />\r\n      </Link>\r\n      <div className=\"news-content\">\r\n        <h3 className=\"news_title\"><Link to={`/news/${slug}`}>{title}</Link></h3>\r\n        <p className=\"news_summary\">{contentStr}</p>\r\n\r\n        <p>\r\n          <Tag>\r\n            <Link to={`/news?category=${news_category.slug}`}>{news_category.name}</Link>\r\n          </Tag>\r\n        </p>\r\n\r\n        <p className=\"news_date\"><CalendarOutlined /> {new Date(created_at).toLocaleDateString(\"vi-VN\")}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","export function firstCapital(text) {\r\n  if (!text || text.length === 0) return '';\r\n\r\n  return text.charAt(0).toUpperCase() + text.substr(1);\r\n}\r\n\r\nexport function getFirstPararaphText(htmlString) {\r\n  const openTagIndex = htmlString.indexOf('<p>');\r\n  const closeTagIndex = htmlString.indexOf('</p>');\r\n\r\n  if (openTagIndex < 0 || closeTagIndex < 0) return htmlString;\r\n  return htmlString.substring(openTagIndex + '<p>'.length, closeTagIndex)\r\n}\r\n\r\nexport function truncateText(text, maxLength = 70, delimiter = \"...\") {\r\n  if (!text || text.length === 0) return text;\r\n\r\n  let result = \"\";\r\n  if (text.length > (maxLength + delimiter.length)) {\r\n    result = text.substr(0, maxLength) + delimiter;\r\n  } else {\r\n    result = text;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getShortAddressString(addressObj) {\r\n  const { ward } = addressObj;\r\n  const { district } = ward;\r\n  const { city } = district;\r\n  const districtStr = district.prefix + \" \" + district.name;\r\n  const cityStr = city.prefix + \" \" + city.name;\r\n  return districtStr + \", \" + cityStr;\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/news`;\r\n\r\nexport function getAllNewsAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}\r\n\r\nexport function getNewsDetailsAPI(slug) {\r\n  return axios.get(`${endpointPrefix}/${slug}/`);\r\n}\r\n\r\nexport function getNewsByCategoryAPI(categorySlug) {\r\n  return axios.get(`${endpointPrefix}/?news_category__slug=${categorySlug}`);\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/news-category`;\r\n\r\nexport function getAllNewsCategoriesAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { Divider, Tag, Empty } from 'antd';\r\nimport News from 'components/News/News';\r\nimport { getAllNewsAPI, getNewsByCategoryAPI } from 'services/user/news';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst NewsPage = props => {\r\n\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [news, setNews] = useState(null);\r\n  const { pathname } = useLocation();\r\n  const { search } = useLocation();\r\n  const searchParams = new URLSearchParams(search);\r\n  const category = searchParams.get('category');\r\n  const dispatch = useDispatch();\r\n\r\n  async function getNewsCategories() {\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async function getAllNews() {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getAllNewsAPI();\r\n      setNews(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  async function getNewsByCategory(categorySlug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getNewsByCategoryAPI(categorySlug);\r\n      setNews(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (category && category.length > 0) {\r\n      getNewsByCategory(category);\r\n    } else {\r\n      getAllNews();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [category]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <Helmet>\r\n        <title>Tin tức | Homedey</title>\r\n        <meta name=\"description\" content=\"Đọc tin tức tại homedey\"/>\r\n      </Helmet>\r\n      <LayoutWithAside>\r\n        <div className=\"page-news\">\r\n          <h2>Tin tức</h2>\r\n          <div>\r\n            <Tag color={(pathname === '/news' && !category) ? '#2db7f5' : ''}>\r\n              <Link to=\"/news\">Tất cả</Link>\r\n            </Tag>\r\n            {\r\n              newsCategories &&\r\n              newsCategories.map(c => {\r\n                return <Tag color={c.slug === category ? '#2db7f5' : ''} key={c.id}>\r\n                  <Link to={`/news?category=${c.slug}`}>{c.name}</Link>\r\n                </Tag>\r\n              })\r\n            }\r\n          </div>\r\n          <Divider />\r\n          <section className=\"page-news_wrapper\">\r\n            {\r\n              news &&\r\n                news.length > 0 ?\r\n                news.map(n => (\r\n                  <News key={n.id} news={n} />\r\n                ))\r\n                :\r\n                <Empty />\r\n            }\r\n          </section>\r\n        </div>\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default NewsPage;","import React from 'react';\r\n\r\nconst AuthForm = props => {\r\n  return (\r\n    <div className=\"auth-form\">\r\n      {\r\n        props.children\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthForm;","import React, { useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Form, Input, Divider, Button, Alert } from 'antd';\r\nimport { MailOutlined, KeyOutlined } from '@ant-design/icons';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginAction } from 'store/actions/user.action';\r\nimport { useEffect } from 'react';\r\n\r\nconst LoginForm = props => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n  const location = useLocation();\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  const search = location.search;\r\n  const searchParams = new URLSearchParams(search);\r\n  const next = searchParams.get('next');\r\n\r\n  const handleLogin = async values => {\r\n    setLoading(true);\r\n    try {\r\n      const body = values;\r\n      await dispatch(loginAction(body));\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { user, accessToken } = userState;\r\n    if (user && accessToken) {\r\n      localStorage.setItem('user', user.first_name + ' ' + user.last_name);\r\n      if (search.length > 0) {\r\n        if (next.length > 0) {\r\n          history.replace(next);\r\n        }\r\n      } else {\r\n        history.replace('/');\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <AuthForm>\r\n      {\r\n        next?.length > 0 &&\r\n          <>\r\n            <Alert message=\"Vui lòng đăng nhập để tiếp tục\" type=\"error\" />\r\n            <br />\r\n          </>\r\n      }\r\n      <h2>Đăng nhập</h2>\r\n      <Divider />\r\n      <Form layout=\"vertical\" onFinish={handleLogin} noValidate>\r\n        <Form.Item label=\"Địa chỉ email\" htmlFor=\"email\" name=\"email\" rules={[\r\n          { required: true, message: 'Vui lòng nhập email' },\r\n          { type: 'email', message: 'Email không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"email\" type=\"email\" prefix={<MailOutlined />} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Mật khẩu\" htmlFor=\"password\" name=\"password\" rules={[\r\n          { required: true, message: 'Vui lòng nhập mật khẩu' }\r\n        ]}>\r\n          <Input.Password id=\"password\" prefix={<KeyOutlined />} />\r\n        </Form.Item>\r\n\r\n        <p><Link to=\"/quen-mat-khau\">Quên mật khẩu</Link></p>\r\n\r\n        <Form.Item >\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            loading={isLoading}\r\n            block>Đăng nhập</Button>\r\n        </Form.Item>\r\n        <p className=\"text-center\">Chưa có tài khoản? <Link to=\"/dang-ky\">Đăng ký</Link></p>\r\n      </Form>\r\n    </AuthForm>\r\n  )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from 'forms/LoginForm/LoginForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst LoginPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-auth\">\r\n        <LoginForm />\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Form, Input, Divider, Button, Row, Col, notification } from 'antd';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\n\r\nimport { registerAPI } from 'services/auth/register';\r\nimport { useState } from 'react';\r\n\r\nconst RegisterForm = props => {\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const handleRegister = async values => {\r\n    setLoading(true);\r\n    try {\r\n      const registerRes = await registerAPI(values);\r\n      notification.success({\r\n        message: 'Đăng ký thành công',\r\n        description: 'Vui lòng xác nhận tài khoản của bạn bằng email được gửi để đăng nhập.',\r\n        duration: 2000,\r\n        onClose: () => {\r\n          history.replace('/dang-nhap');\r\n        }\r\n      })\r\n      console.log(registerRes);\r\n    } catch (error) {\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <AuthForm>\r\n      <h2>Đăng ký</h2>\r\n      <Divider />\r\n      <Form layout=\"vertical\" onFinish={handleRegister} noValidate>\r\n        <Row gutter={10} style={{ flexWrap: 'nowrap' }}>\r\n          <Col>\r\n            <Form.Item label=\"Họ\" htmlFor=\"first-name\" name=\"first_name\" rules={[\r\n              { required: true, message: 'Vui lòng nhập họ' }\r\n            ]}>\r\n              <Input id=\"first-name\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col>\r\n            <Form.Item label=\"Tên\" htmlFor=\"last-name\" name=\"last_name\" rules={[\r\n              { required: true, message: 'Vui lòng nhập tên' }\r\n            ]}>\r\n              <Input id=\"last-name\" />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Form.Item label=\"Địa chỉ email\" htmlFor=\"email\" name=\"email\" rules={[\r\n          { required: true, message: 'Vui lòng nhập email' },\r\n          { type: 'email', message: 'Email không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"email\" type=\"email\" />\r\n        </Form.Item>\r\n        <Form.Item label=\"Mật khẩu\" htmlFor=\"password\" name=\"password\" rules={[\r\n          { required: true, message: 'Vui lòng nhập mật khẩu' },\r\n        ]} hasFeedback>\r\n          <Input.Password id=\"password\" />\r\n        </Form.Item>\r\n        <Form.Item label=\"Nhập lại mật khẩu\" htmlFor=\"confirm-password\" name=\"confirmPassword\" rules={[\r\n          { required: true, message: 'Vui lòng nhập lại mật khẩu' },\r\n          ({ getFieldValue }) => ({\r\n            validator(rule, value) {\r\n              if (!value || getFieldValue('password') === value) {\r\n                return Promise.resolve();\r\n              }\r\n              return Promise.reject('Mật khẩu không khớp nhau');\r\n            }\r\n          })\r\n        ]} hasFeedback>\r\n          <Input.Password id=\"confirm-password\" />\r\n        </Form.Item>\r\n        {/*\r\n        <Form.Item label=\"Điện thoại\" htmlFor=\"phone\" name=\"phone\" rules={[\r\n          { required: true, message: 'Vui lòng nhập số điện thoại' },\r\n          { pattern: phoneValidationString, message: 'Số điện thoại không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"phone\" />\r\n        </Form.Item>\r\n        */}\r\n        <Form.Item >\r\n          <Button type=\"primary\" loading={isLoading} htmlType=\"submit\" block>Đăng ký</Button>\r\n        </Form.Item>\r\n        <p className=\"text-center\">Đã có tài khoản? <Link to=\"/dang-nhap\">Đăng nhập</Link></p>\r\n      </Form>\r\n    </AuthForm>\r\n  )\r\n}\r\n\r\nexport default RegisterForm;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function registerAPI(body) {\r\n  return axios.post(`${apiPrefix}/auth/signup/`, body);\r\n}","import React from 'react';\r\nimport RegisterForm from 'forms/RegisterForm/RegisterForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst RegisterPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-auth\">\r\n        <RegisterForm />\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default RegisterPage;","import React from 'react';\r\nimport { Card } from 'antd';\r\n\r\nimport './Project.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Project = props => {\r\n  return (\r\n    <Card\r\n      className={`project${props.thumbnail ? ' project--thumbnail' : ''}`}\r\n      bordered={!props.thumbnail}\r\n      cover={<Link className=\"project_link\" to=\"/project/slug\" title=\"Lorem ipsum dolor sit amet consectetur adipisicing elit.\">\r\n        <img src=\"//via.placeholder.com/800x600\" alt=\"cover\" />\r\n      </Link>}>\r\n      <Card.Meta title={\r\n        <h3><small>\r\n          <Link className=\"project_link\" to=\"/project/slug\" title=\"Lorem ipsum dolor sit amet consectetur adipisicing elit.\">\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n          </Link>\r\n        </small></h3>\r\n      } />\r\n      {\r\n        !props.thumbnail &&\r\n        <div className=\"project_content\">\r\n          <div className=\"project_price\">Giá</div>\r\n          <div className=\"project_city\">Tỉnh/TP</div>\r\n        </div>\r\n      }\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Project;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { Divider, Row, Col } from 'antd';\r\nimport Project from 'components/Project/Project';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\n\r\nconst ProjectsPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        <div className=\"page-projects\">\r\n          <h2>DỰ ÁN</h2>\r\n          <Divider />\r\n\r\n          <section className=\"projects-wrapper\">\r\n            {\r\n              Array(10).fill().map((e, i) => {\r\n                return (\r\n                  <Project key={i} />\r\n                )\r\n              })\r\n            }\r\n          </section>\r\n        </div>\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default ProjectsPage;","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\n\r\nconst LLMap = props => {\r\n  return (\r\n    <Map className={props.className} id={props.id} center={{ lng: 106, lat: 16 }} zoom={5} onclick={props.onClick}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n      {\r\n        props.children\r\n      }\r\n    </Map>\r\n  )\r\n}\r\n\r\nexport default LLMap;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { Carousel, Row, Col, Divider } from 'antd';\r\nimport LLMap from 'components/LLMap/LLMap';\r\n\r\nconst ProjectDetails = props => {\r\n\r\n  const handleMapClick = e => {\r\n    console.log(e);\r\n  }\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-project-details\">\r\n        <Divider>\r\n          <h2>Tên dự án</h2>\r\n        </Divider>\r\n        <Row gutter={15}>\r\n          <Col xs={24} md={16}>\r\n            <Carousel autoplay>\r\n              {\r\n                Array(4).fill().map((e, i) => (\r\n                  <div key={i}>\r\n                    <img src=\"http://via.placeholder.com/960x540\" alt=\"slider\" />\r\n                  </div>\r\n                ))\r\n              }\r\n            </Carousel>\r\n            <div>\r\n              <h3>Giới thiệu</h3>\r\n              <p>Thông tin tổng quan dự án Oyster Gành Hào</p>\r\n              <p>Oyster Gành Hào là dự án khách sạn nghỉ dưỡng đạt tiêu chuẩn 4 sao, nằm tại số 82 Trần Phú, phường 5, TP. Vũng Tàu. Dự án sau khi hoàn thiện sẽ cung cấp ra thị trường 277 căn hộ.</p>\r\n              <p>Oyster Gành Hào sở hữu kiến trúc tân cổ điển, gồm 2 tòa tháp cao 17 tầng mang đậm hơi thở Châu Âu hiện đại cùng vị trí có phong thủy được đánh giá cao với thế \"tọa sơn hướng thủy\": lưng tựa Núi Lớn - biểu tượng của sự phù trợ và trước mặt là bờ biển trải dài - nơi hội tụ sinh khí của đất trời, tất cả mang đến nguồn tài lực dồi dào và cả sự bình yên cho các chủ nhân tương lai của Oyster Gành Hào.</p>\r\n              <ul>\r\n                <li>Tên dự án: Oyster Gành Hào</li>\r\n                <li>Chủ đầu tư: Công ty CP Tập đoàn Vietpearl </li>\r\n                <li>Vị trí: 82 Trần Phú, phường 5, TP. Vũng Tàu</li>\r\n                <li>Tư vấn thiết kế: TTT</li>\r\n                <li>Tổng thầu thi công: CC14</li>\r\n                <li>Tư vấn giám sát: NAGECCO</li>\r\n                <li>Quản lý vận hành: Ayres Hotel</li>\r\n                <li>Tiêu chuẩn khách sạn 4 sao</li>\r\n                <li>Tổng diện tích: 2.571m2</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"project-details_map\">\r\n              <LLMap id=\"project-map\" onClick={handleMapClick} />\r\n            </div>\r\n          </Col>\r\n          <Col xs={24} md={8}>\r\n            <h3>Thông tin chung</h3>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Tên dự án</td>\r\n                  <td>Oyster Gành Hào</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Chủ đầu tư</td>\r\n                  <td>Công ty CP Tập đoàn VietPearl</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Địa chỉ</td>\r\n                  <td>82 đường Trần Phú, Phường 5, Vũng Tàu, Bà Rịa Vũng Tàu</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Tổng diện tích</td>\r\n                  <td>2.571 m²</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Loại hình phát triển</td>\r\n                  <td>Dự án khác</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Bàn giao nhà</td>\r\n                  <td>Quý II/2021</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Quy mô dự án</td>\r\n                  <td>277 căn hộ du lịch</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default ProjectDetails;","import React from 'react';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\nimport { Divider } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst VerifyPage = props => {\r\n  return (\r\n    <div className=\"page-auth\">\r\n      <AuthForm>\r\n        <h2>Xác thực tài khoản</h2>\r\n        <Divider />\r\n        <p>Tài khoản của bạn đã được kích hoạt, vui lòng <Link to=\"/dang-nhap\">Đăng nhập</Link> để bắt đầu.</p>\r\n      </AuthForm>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VerifyPage;","import React from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst withUserRoute = Component => {\r\n  return function Wrapper(props) {\r\n    const location = useLocation();\r\n    const accessToken = Cookies.get('access');\r\n\r\n    if (!accessToken || accessToken.length === 0) {\r\n      return <Redirect to={`/login?next=${location.pathname}`} />\r\n    } else {\r\n      return <Component {...props} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default withUserRoute;","import React from 'react';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst UserHomePage = props => {\r\n  return (\r\n    <div>Tài khoản</div>\r\n  )\r\n}\r\n\r\nexport default UserHomePage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst listingPrefix = `${apiPrefix}/user/real-estate/listings`;\r\n\r\nexport function getUserRealEstateAPI(token) {\r\n  return axios.get(`${listingPrefix}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getUserRealEstateDetailsAPI(token, realEstateId) {\r\n  return axios.get(`${listingPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getWaitingRealEstateAPI(token) {\r\n  return axios.get(`${listingPrefix}/waiting/`, withAuthorization(token));\r\n}\r\n\r\nexport function getRejectedRealEstateAPI(token) {\r\n  return axios.get(`${listingPrefix}/reject/`, withAuthorization(token));\r\n}\r\n\r\nexport function deleteRealEstateAPI(token, realEstateId) {\r\n  return axios.delete(`${listingPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Row, Col, Button, Tabs, Table, Tooltip, Modal } from 'antd';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { getUserRealEstateAPI, getWaitingRealEstateAPI, getRejectedRealEstateAPI } from 'services/user/listing';\r\nimport { deleteRealEstateAPI } from 'services/user/listing';\r\nimport Cookies from 'js-cookie';\r\nimport { EyeOutlined, DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nconst UserRealEstatePage = props => {\r\n  const { path } = useRouteMatch();\r\n  const accessToken = Cookies.get('access');\r\n  const [currentTab, setCurrentTab] = useState(1);\r\n\r\n  // Data states\r\n  const [realEstate, setRealEstate] = useState(null);\r\n  const [waitingRealEstate, setWaitingRealEstate] = useState(null);\r\n  const [rejectedRealEstate, setRejectedRealEstate] = useState(null);\r\n\r\n  // Loading states\r\n  const [isLoadingRealEstate, setLoadingRealEstate] = useState(false);\r\n  const [isLoadingWaitingRealEstate, setLoadingWaitingRealEstate] = useState(false);\r\n  const [isLoadingRejectedRealEstate, setLoadingRejectedRealEstate] = useState(false);\r\n\r\n  function getTableDataFromSource(dataSource) {\r\n    if (!dataSource || dataSource.length === 0) return null;\r\n    return dataSource.map(re => {\r\n      const district = re.address.ward.district;\r\n      const city = district.city;\r\n      return {\r\n        id: re.id,\r\n        title: re.title,\r\n        price: re.price,\r\n        address: `${district.prefix} ${district.name}, ${city.prefix} ${city.name}`\r\n      }\r\n    })\r\n  }\r\n\r\n  const tableColumns = [\r\n    { title: 'Tiêu đề', dataIndex: 'title' },\r\n    { title: 'Giá', dataIndex: 'price' },\r\n    { title: 'Địa chỉ', dataIndex: 'address' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record, index) => {\r\n        return (\r\n          <>\r\n            <Link to={`${path}/${record.id}`}>\r\n              <Tooltip title=\"Xem\">\r\n                <Button type=\"link\" icon={<EyeOutlined />} />\r\n              </Tooltip>\r\n            </Link>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Button onClick={() => handleDelete(record.id, index)} danger type=\"link\" icon={<DeleteOutlined />} />\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ]\r\n\r\n  async function getUserRealEstate() {\r\n    setLoadingRealEstate(true);\r\n    try {\r\n      const response = await getUserRealEstateAPI(accessToken);\r\n      setRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRealEstate(false);\r\n  }\r\n\r\n  async function getWaitingRealEstate() {\r\n    setLoadingWaitingRealEstate(true);\r\n    try {\r\n      const response = await getWaitingRealEstateAPI(accessToken);\r\n      setWaitingRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingWaitingRealEstate(false);\r\n  }\r\n\r\n  async function getRejectedRealEstate() {\r\n    setLoadingRejectedRealEstate(true);\r\n    try {\r\n      const response = await getRejectedRealEstateAPI(accessToken);\r\n      setRejectedRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRejectedRealEstate(false);\r\n  }\r\n\r\n  const handleTabsChange = tabKey => {\r\n    const numTabKey = Number.parseInt(tabKey);\r\n    setCurrentTab(tabKey);\r\n    switch (numTabKey) {\r\n      case 1:\r\n        getUserRealEstate();\r\n        break;\r\n      case 2:\r\n        getWaitingRealEstate();\r\n        break;\r\n      case 3:\r\n        getRejectedRealEstate();\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserRealEstate();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleDelete = (realEstateId, index) => {\r\n    confirm({\r\n      title: \"Xóa tin\",\r\n      content: \"Bạn có chắc muốn xóa tin này không?\",\r\n      onOk: async () => {\r\n        try {\r\n          await deleteRealEstateAPI(accessToken, realEstateId);\r\n          let newState;\r\n          if (currentTab === 1) {\r\n            newState = realEstate.splice(index, 1);\r\n            setRealEstate(newState);\r\n          } else if (currentTab === 2) {\r\n            newState = waitingRealEstate.splice(index, 1);\r\n          } else if (currentTab === 3) {\r\n            newState = rejectedRealEstate.splice(index, 3);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-re-page\">\r\n      <section className=\"user-re-page_new\">\r\n        <Row>\r\n          <Col flex=\"1\">\r\n            <h2><strong>Tin bất động sản</strong></h2>\r\n          </Col>\r\n          <Col>\r\n            <Button>\r\n              <Link to={`${path}/create`}>Thêm mới</Link>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        {/* <Divider /> */}\r\n      </section>\r\n      <section className=\"user-re-page_list\">\r\n        <Tabs onChange={handleTabsChange}>\r\n          <TabPane tab=\"Đã duyệt\" key={1} >\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={tableColumns}\r\n              dataSource={getTableDataFromSource(realEstate)}\r\n              loading={isLoadingRealEstate} />\r\n          </TabPane>\r\n          <TabPane tab=\"Đang chờ duyệt\" key={2}>\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={tableColumns}\r\n              dataSource={getTableDataFromSource(waitingRealEstate)}\r\n              loading={isLoadingWaitingRealEstate} />\r\n          </TabPane>\r\n          <TabPane tab=\"Từ chối\" key={3}>\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={tableColumns}\r\n              dataSource={rejectedRealEstate}\r\n              loading={isLoadingRejectedRealEstate} />\r\n          </TabPane>\r\n        </Tabs>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserRealEstatePage;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nconst addressAPI = apiPrefix + '/user/address';\r\n\r\nexport function getAllCitiesAPI() {\r\n  return axios.get(`${addressAPI}/city/?ordering=name`);\r\n}\r\n\r\nexport function getAllDistrictsAPI() {\r\n  return axios.get(`${addressAPI}/district/`);\r\n}\r\n\r\nexport function getAllWardsAPI() {\r\n  return axios.get(`${addressAPI}/ward/`);\r\n}\r\n\r\nexport function getDistrictsByCityAPI(city_id) {\r\n  return axios.get(`${addressAPI}/district/`, {\r\n    params: {\r\n      city_id: city_id\r\n    }\r\n  })\r\n}\r\n\r\nexport function getWardsByDistrictAPI(district_id) {\r\n  return axios.get(`${addressAPI}/ward/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}\r\n\r\nexport function getStreetsByDistrictAPI(district_id) {\r\n  return axios.get(`${addressAPI}/street/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix'\r\n\r\nexport function getAllProjectsAPI() {\r\n  return axios.get(`${apiPrefix}/user/project/`);\r\n}\r\n\r\nexport function getProjectsByDistrictAPI(district_id) {\r\n  return axios.get(`${apiPrefix}/user/project/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}","import React from 'react';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nimport './MapMarker.scss';\r\n\r\nconst MapMarker = props => {\r\n  return (\r\n    <Marker className=\"map-marker\" position={props.position}></Marker>\r\n  )\r\n}\r\n\r\nexport default MapMarker;","import React from 'react';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nimport './UploadButton.scss';\r\n\r\nconst UploadButton = props => {\r\n  return (\r\n    <label className=\"upload-btn\">\r\n      <PlusOutlined />\r\n      <input className=\"upload-btn_input\" ref={props.inputRef} type=\"file\" accept=\"image/*\" multiple onChange={props.onChange} />\r\n      <div className=\"upload-btn_text\">Chọn ảnh</div>\r\n    </label>\r\n  )\r\n}\r\n\r\nexport default UploadButton;","import React from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport './UploadPreview.scss';\r\n\r\nconst UploadPreview = props => {\r\n  const { file } = props;\r\n  const [base64, setBase64] = useState('');\r\n\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.onload = () => {\r\n    setBase64(reader.result);\r\n  }\r\n  return (\r\n    <div className=\"upload-preview\">\r\n      <img className=\"upload-preview_img\" src={base64} alt=\"\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadPreview;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Row, Col, Select, Button } from 'antd';\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI, getWardsByDistrictAPI, getStreetsByDistrictAPI } from 'services/user/address';\r\nimport { getProjectsByDistrictAPI } from 'services/user/project';\r\nimport { uploadImages, createRealEstate } from 'services/user/real-estate';\r\nimport MapMarker from 'components/MapMarker/MapMarker';\r\nimport UploadButton from 'components/UploadButton/UploadButton';\r\nimport { useRef } from 'react';\r\nimport UploadPreview from 'components/UploadPreview/UploadPreview';\r\nimport './CreateRealEstateForm.scss';\r\nimport { useSelector } from 'react-redux';\r\nimport LLMap from 'components/LLMap/LLMap';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst CreateRealEstateForm = props => {\r\n  // Loading states\r\n  const [isLoadingRECategories, setLoadingRECategories] = useState(false);\r\n  const [isLoadingCities, setLoadingCities] = useState(false);\r\n  const [isLoadingDistricts, setLoadingDistricts] = useState(false);\r\n  const [isLoadingWards, setLoadingWards] = useState(false);\r\n  const [isLoadingStreets, setLoadingStreets] = useState(false);\r\n  const [isLoadingProjects, setLoadingProjects] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Data states\r\n  const [RECategories, setRECategories] = useState(null);\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  // Others states\r\n  const [clickedPosition, setClickedPosition] = useState({ lat: 10.029948, lng: 105.770615 });\r\n  const [type, setType] = useState({ for_rent: false });\r\n\r\n  // Other hooks\r\n  const fileRef = useRef();\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  // Get all cateogries from API\r\n  const getRealEstateCategories = async () => {\r\n    setLoadingRECategories(true);\r\n    try {\r\n      const RECategoriesResponse = await getAllRealEstateCategoriesAPI()\r\n      setRECategories(RECategoriesResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingRECategories(false);\r\n  }\r\n\r\n  // Get cities from API\r\n  const getCities = async () => {\r\n    setLoadingCities(true);\r\n    try {\r\n      const getAllCitiesReponse = await getAllCitiesAPI()\r\n      setCities(getAllCitiesReponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingCities(false);\r\n  }\r\n\r\n\r\n  // Get districts by city\r\n  const handleCityChange = async cityId => {\r\n    setLoadingDistricts(true);\r\n    setDistricts(null);\r\n    setWards(null);\r\n    try {\r\n      const getDistrictsResponse = await getDistrictsByCityAPI(cityId);\r\n      setDistricts(getDistrictsResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingDistricts(false);\r\n  }\r\n\r\n  // Get wards and streets by district\r\n  const handleDistrictChange = async districtId => {\r\n    setLoadingWards(true);\r\n    setLoadingStreets(true);\r\n    setWards(null);\r\n    setStreets(null);\r\n    setProjects(null);\r\n    try {\r\n      const [getWardsResponse, getStreetsResponse, getProjectsResponse] = await Promise.all([\r\n        getWardsByDistrictAPI(districtId),\r\n        getStreetsByDistrictAPI(districtId),\r\n        getProjectsByDistrictAPI(districtId)\r\n      ]);\r\n      setWards(getWardsResponse.data);\r\n      setStreets(getStreetsResponse.data);\r\n      setProjects(getProjectsResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingWards(false);\r\n    setLoadingStreets(false);\r\n    setLoadingProjects(false);\r\n  }\r\n\r\n  const handleCategoryTypeChange = e => {\r\n    setType({ for_rent: e });\r\n  }\r\n\r\n\r\n  const handleMapClick = e => {\r\n    setClickedPosition(e.latlng);\r\n  }\r\n\r\n  const handleImageChange = e => {\r\n    const files = e.target.files;\r\n    if (files.length > 0) {\r\n      setFileList(prevValue => [...files, ...prevValue]);\r\n      fileRef.current.value = null;\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async values => {\r\n    let image_ids = [];\r\n    setIsLoading(true);\r\n    try {\r\n      const uploadResponse = await uploadImages(fileList);\r\n      image_ids = uploadResponse.data.image_ids;\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n\r\n    const {\r\n      title,\r\n      price,\r\n      bedroom,\r\n      bathroom,\r\n      area,\r\n      lot_size,\r\n      year_build,\r\n      detail,\r\n      real_estate_category_id,\r\n      ward_id,\r\n      street_id,\r\n      project_id\r\n    } = values;\r\n    const body = {\r\n      title: title,\r\n      price: price,\r\n      bedroom: bedroom,\r\n      bathroom: bathroom,\r\n      area: area,\r\n      lot_size: lot_size,\r\n      year_build: year_build,\r\n      detail: detail,\r\n      real_estate_category_id: real_estate_category_id,\r\n      ward_id: ward_id,\r\n      street_id: street_id,\r\n      latitude: clickedPosition.lat,\r\n      longitude: clickedPosition.lng,\r\n      project_id: project_id,\r\n      image_ids: image_ids\r\n    }\r\n\r\n    try {\r\n      await createRealEstate(userState.accessToken, body);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      await Promise.all([\r\n        getRealEstateCategories(),\r\n        getCities(),\r\n      ])\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n\r\n    <Form\r\n      className=\"create-re-form\"\r\n      layout=\"vertical\"\r\n      onFinish={handleSubmit} scrollToFirstError={true}\r\n      noValidate>\r\n      <Row gutter={20}>\r\n        <Col xs={24} lg={12}>\r\n          <Form.Item label=\"Tiêu đề\" name=\"title\" rules={[\r\n            { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n          ]}>\r\n            <Input />\r\n          </Form.Item>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Giá\"\r\n                name=\"price\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập giá' },\r\n                  { pattern: /^[1-9][0-9]*$/g, message: \"Giá không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"VNĐ\" min={1} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Năm xây dựng\"\r\n                name=\"year_build\"\r\n                initialValue={2000}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập năm xây dựng' },\r\n                  { pattern: /^\\d{4}$/g, message: \"Năm không hợp lệ\" }\r\n                ]}>\r\n                <Input min={0} type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Số phòng ngủ\"\r\n                name=\"bedroom\"\r\n                initialValue={0}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập phòng ngủ' },\r\n                  { pattern: /^[0-9]+$/g, message: \"Số không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"Phòng\" min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Số phòng tắm\"\r\n                name=\"bathroom\"\r\n                initialValue={0}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập phòng tắm' },\r\n                  { pattern: /^[0-9]+$/g, message: \"Số không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"Phòng\" min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item\r\n                label=\"Diện tích nền nhà\"\r\n                name=\"area\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập diện tích' },\r\n                  { pattern: /^[0-9]+$/g, message: 'Diện tích không hợp lệ' }\r\n                ]}>\r\n                <Input type=\"number\" min={1} suffix={<span>m<sup>2</sup></span>} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item\r\n                label=\"Tổng diện tích\"\r\n                name=\"lot_size\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập diện tích' },\r\n                  { pattern: /^[0-9]+$/g, message: 'Diện tích không hợp lệ' }\r\n                ]}>\r\n                <Input type=\"number\" suffix={<span>m<sup>2</sup></span>} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Hình thức\">\r\n                <Select onChange={handleCategoryTypeChange} defaultValue={false}>\r\n                  <Option value={false}>Bán</Option>\r\n                  <Option value={true}>Cho thuê</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"3\">\r\n              <Form.Item\r\n                label=\"Loại tin\"\r\n                name=\"real_estate_category_id\"\r\n                initialValue=\"Chọn loại tin\"\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng chọn loại tin' }\r\n                ]}>\r\n                <Select loading={isLoadingRECategories}>\r\n                  <Option disabled value=\"Chọn loại tin\">Chọn loại tin</Option>\r\n                  {\r\n                    RECategories &&\r\n                    RECategories.map(category => {\r\n                      const name = `${category.name.charAt(0).toUpperCase()}${category.name.substr(1)}`\r\n                      return category.for_rent === type.for_rent && <Option\r\n                        key={category.id}\r\n                        value={category.id} >\r\n                        {name}\r\n                      </Option>\r\n                    }\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"Nội dung\" name=\"detail\" rules={[\r\n            { required: true, message: 'Vui lòng nhập nội dung' }\r\n          ]}>\r\n            <TextArea placeholder=\"Nhập nội dung bài viết...\" rows=\"10\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        {/* Col 2 */}\r\n        <Col xs={24} lg={12}>\r\n          <Form.Item label=\"Bản đồ\">\r\n            <div>\r\n              <LLMap className=\"create-re-form_map\" onClick={handleMapClick}>\r\n                <MapMarker position={clickedPosition} />\r\n              </LLMap>\r\n            </div>\r\n          </Form.Item>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Tỉnh / thành phố\" name=\"city_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn tỉnh / thành phố' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingCities}\r\n                  disabled={isLoadingCities}\r\n                  onChange={handleCityChange}\r\n                  showSearch>\r\n                  <Option disabled value={null}>Chọn tỉnh/thành phố</Option>\r\n                  {\r\n                    cities &&\r\n                    cities.map(city => (\r\n                      <Option\r\n                        key={city.id}\r\n                        value={city.id}>\r\n                        {city.prefix + ' ' + city.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Quận / huyện\" name=\"district_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn quận / huyện' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingDistricts}\r\n                  disabled={isLoadingDistricts}\r\n                  onChange={handleDistrictChange}>\r\n                  <Option disabled value={null}>Chọn quận / huyện</Option>\r\n                  {\r\n                    districts &&\r\n                    districts.map(district => (\r\n                      <Option\r\n                        key={district.id}\r\n                        value={district.id}>\r\n                        {district.prefix + ' ' + district.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Xã / phường / thị trấn\" name=\"ward_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn xã / phường / thị trấn' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingWards}\r\n                  disabled={isLoadingWards}>\r\n                  <Option disabled value={null}>Chọn xã / phường / thị trấn</Option>\r\n                  {\r\n                    wards &&\r\n                    wards.map(ward => (\r\n                      <Option\r\n                        key={ward.id}\r\n                        value={ward.id}>\r\n                        {ward.prefix + ' ' + ward.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Đường\" name=\"street_id\" initialValue={null}>\r\n                <Select\r\n                  loading={isLoadingStreets}\r\n                  disabled={isLoadingStreets}>\r\n                  <Option disabled>Chọn đường</Option>\r\n                  {\r\n                    streets &&\r\n                    streets.map(str => (\r\n                      <Option\r\n                        key={str.id}\r\n                        value={str.id}>\r\n                        {str.prefix + ' ' + str.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"Dự án\" name=\"project_id\" initialValue={null}>\r\n            <Select loading={isLoadingProjects} disabled={isLoadingProjects && true}>\r\n              <Option value=\"Chọn dự án\" disabled>Chọn dự án</Option>\r\n              {\r\n                projects &&\r\n                projects.map(p => {\r\n                  return (\r\n                    <Option key={p.id} value={p.id}>{p.name}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item label=\"Hình ảnh\">\r\n        {\r\n          fileList.length > 0 &&\r\n          fileList.map((file, index) => {\r\n            return <UploadPreview key={index} file={file} />\r\n          })\r\n        }\r\n        <UploadButton inputRef={fileRef} onChange={handleImageChange} />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button loading={isLoading} type=\"primary\" htmlType=\"submit\" size=\"large\">Xác nhận</Button>\r\n      </Form.Item>\r\n    </Form >\r\n  )\r\n}\r\n\r\nexport default CreateRealEstateForm;","import React from 'react';\r\nimport { Divider } from 'antd';\r\nimport CreateRealEstateForm from 'forms/CreateRealEstateForm/CreateRealEstateForm';\r\n\r\nconst UserRealEstateCreatePage = () => {\r\n  return (\r\n    <section>\r\n      <h2>Đăng tin bất động sản</h2>\r\n      <Divider />\r\n      <CreateRealEstateForm />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default UserRealEstateCreatePage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/real-estate`;\r\n\r\nexport function getPendingRealEstateAPI(token) {\r\n  return axios.get(`${endpointPrefix}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getRealEstateDetailsAPI(token, realEstateId) {\r\n  return axios.get(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\nexport function approveRealEstateAPI(token, realEstateId) {\r\n  const body = {\r\n    is_active: \"True\"\r\n  }\r\n  return axios.patch(`${endpointPrefix}/${realEstateId}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function rejectRealEstateAPI(token, realEstateId) {\r\n  return axios.delete(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserRealEstateDetailsAPI } from 'services/user/listing';\r\nimport { getRealEstateDetailsAPI } from 'services/admin/real-estate';\r\nimport Cookies from 'js-cookie';\r\nimport { Skeleton, Divider } from 'antd';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nconst RealEstateDetails = props => {\r\n  const { params } = useRouteMatch();\r\n  const { realEstateId } = params;\r\n  const userState = useSelector(state => state.userState);\r\n  const { user } = userState;\r\n  const accessToken = Cookies.get('access');\r\n\r\n  const [realEstateDetails, setRealEstateDetails] = useState(null);\r\n  const [isLoadingRealEstateDetails, setLoadingRealEstateDetails] = useState(null);\r\n\r\n  async function getRealEstateDetails(realEstateId) {\r\n    setLoadingRealEstateDetails(true);\r\n    try {\r\n      const response = user && user.is_staff ?\r\n        await getRealEstateDetailsAPI(accessToken, realEstateId) :\r\n        await getUserRealEstateDetailsAPI(accessToken, realEstateId);\r\n      setRealEstateDetails(response.data.data);\r\n      console.log(response.data.data.address);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRealEstateDetails(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (realEstateId) {\r\n      getRealEstateDetails(realEstateId);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function getAddressString(realEstate) {\r\n    const street = realEstate.address.street;\r\n    const ward = realEstate.address.ward;\r\n    const district = ward.district;\r\n    const city = district.city;\r\n\r\n    const streetStr = (street && (street.prefix + ' ' + street.name + ', ')) || '';\r\n    const wardStr = ward.prefix + ' ' + ward.name;\r\n    const districtStr = district.prefix + ' ' + district.name;\r\n    const cityStr = city.prefix + ' ' + city.name;\r\n    return `${streetStr}${wardStr}, ${districtStr}, ${cityStr}`;\r\n  }\r\n\r\n  return (\r\n    realEstateDetails ?\r\n      <div className=\"re-details-page\">\r\n        <h2><strong>{realEstateDetails.title}</strong></h2>\r\n        <Divider />\r\n\r\n        <div className=\"re-details-page_summary\">\r\n          <p><strong>Thông tin chung</strong></p>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>Giá</td>\r\n                <td>{realEstateDetails.price} VND</td>\r\n                <td>Năm xây dựng</td>\r\n                <td>{realEstateDetails.year_build}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Diện tích nền nhà</td>\r\n                <td>{realEstateDetails.area} m<sup>2</sup></td>\r\n                <td>Tổng diện tích</td>\r\n                <td>{realEstateDetails.lot_size} m<sup>2</sup></td>\r\n              </tr>\r\n              <tr>\r\n                <td>Phòng ngủ</td>\r\n                <td>{realEstateDetails.bedroom}</td>\r\n                <td>Phòng tắm</td>\r\n                <td>{realEstateDetails.bathroom}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Hình thức</td>\r\n                <td>{realEstateDetails.real_estate_category.for_rent ? 'Cho thuê' : 'Bán'}</td>\r\n                <td>Loại</td>\r\n                <td>{realEstateDetails.real_estate_category.name.charAt(0).toUpperCase() + realEstateDetails.real_estate_category.name.substr(1)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Địa chỉ</td>\r\n                <td colSpan=\"3\">{getAddressString(realEstateDetails)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Dự án</td>\r\n                <td>{realEstateDetails.project?.name}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div className=\"re-details-page_details\">\r\n          <p><strong>Thông tin chi tiết</strong></p>\r\n          <div dangerouslySetInnerHTML={{ __html: realEstateDetails.detail }}></div>\r\n        </div>\r\n\r\n        <div className=\"re-details-page_images\">\r\n          {\r\n            realEstateDetails.images.map(image => <img key={image.id} src={image.url} alt={image.url} />)\r\n          }\r\n        </div>\r\n\r\n        <div className=\"re-details-page_map\">\r\n          <LLMap id=\"real-estate-map\">\r\n            <Marker position={{lat: realEstateDetails.address.latitude, lng: realEstateDetails.address.longitude}} />\r\n          </LLMap>\r\n        </div>\r\n      </div>\r\n      :\r\n      <Skeleton\r\n        active\r\n        title={{ width: 800 }}\r\n        paragraph={{ rows: 10, width: [500, 700, 400, 500, 600, 400, 500, 700, 400, 200] }}\r\n        loading={isLoadingRealEstateDetails} />\r\n  )\r\n}\r\n\r\nexport default RealEstateDetails;","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { HashRouter, Switch, Route, useRouteMatch, useLocation, Link, Redirect } from 'react-router-dom';\r\nimport withUserRoute from 'HOCs/withUserRoute';\r\nimport UserHomePage from 'pages/user';\r\nimport UserRealEstatePage from 'pages/user/real-estate';\r\nimport UserRealEstateCreatePage from 'pages/user/real-estate-create';\r\nimport Header from 'components/Header/Header';\r\n\r\nimport './UserLayout.scss';\r\nimport RealEstateDetails from 'pages/shared/real-estate-detail';\r\n\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nconst UserLayout = props => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n  const adminRoutes = [\r\n    { path: `${path}/`, name: 'Tài khoản' },\r\n    { path: `${path}/real-estate`, name: 'Bất động sản' },\r\n  ]\r\n  return (\r\n    <HashRouter>\r\n      <Layout className=\"user-layout\">\r\n        <Header isDashboard />\r\n        <Layout>\r\n          <Sider breakpoint=\"md\" collapsedWidth={0} width={200} className=\"user-layout_sider\">\r\n            <Menu theme=\"dark\" mode=\"vertical\" selectedKeys={[pathname]}>\r\n              {\r\n                adminRoutes.map(route => (\r\n                  <Menu.Item key={route.path}>\r\n                    <Link to={`${route.path}`}>\r\n                      {route.name}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Content className=\"user-layout_content\">\r\n            <Switch>\r\n              <Route path={`${path}/`} exact component={UserHomePage} />\r\n              <Route path={`${path}/real-estate`} exact component={UserRealEstatePage} />\r\n              <Route path={`${path}/real-estate/create`} component={UserRealEstateCreatePage} />\r\n              <Route path={`${path}/real-estate/:realEstateId`} component={RealEstateDetails} />\r\n              <Route path={`${path}/*`} component={() => <Redirect to={`${path}/`} />} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withUserRoute(UserLayout);","import React from 'react';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst AdminHomePage = props => {\r\n  return (\r\n    <div>Tổng quan</div>\r\n  )\r\n}\r\n\r\nexport default AdminHomePage;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Table, Tooltip, Button, Modal } from 'antd';\r\nimport { EyeFilled, CheckOutlined, DeleteFilled } from '@ant-design/icons';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport { getPendingRealEstateAPI, approveRealEstateAPI, rejectRealEstateAPI } from 'services/admin/real-estate';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst AdminRealestatePage = props => {\r\n  // Data state\r\n  const [realEstate, setRealEstate] = useState(null);\r\n\r\n  // Loading state\r\n  const [isLoadingRealEstate, setLoadingRealEstate] = useState(false);\r\n  const [isLoadingAapproveRealEstate, setLoadingApproveRealEstate] = useState(false);\r\n\r\n  // Other\r\n  const { path } = useRouteMatch();\r\n  const accessToken = Cookies.get('access');\r\n\r\n  const tableData = realEstate && realEstate.map(r => {\r\n    const district = r.address.ward.district;\r\n    const city = district.city;\r\n    return {\r\n      id: r.id,\r\n      title: r.title,\r\n      price: r.price,\r\n      address: `${district.prefix} ${district.name}, ${city.prefix} ${city.name}`\r\n    }\r\n  });\r\n\r\n  const tableColumns = [\r\n    { title: 'Tiêu đề', dataIndex: 'title' },\r\n    { title: 'Giá', dataIndex: 'price' },\r\n    { title: 'Địa chỉ', dataIndex: 'address' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Link to={`${path}/${record.id}`}>\r\n              <Tooltip title=\"Xem\">\r\n                <Button type=\"link\" icon={<EyeFilled />} />\r\n              </Tooltip>\r\n            </Link>\r\n            <Tooltip title=\"Duyệt bài\">\r\n              <Button onClick={() => handleApproveClick(record.id)} type=\"link\" style={{ color: 'green' }} icon={<CheckOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Từ chối\">\r\n              <Button type=\"link\" danger icon={<DeleteFilled />} />\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ]\r\n\r\n  useEffect(() => {\r\n    const getPendingRealEstate = async () => {\r\n      setLoadingRealEstate(true);\r\n      try {\r\n        const response = await getPendingRealEstateAPI(accessToken);\r\n        setRealEstate(response.data.results);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setLoadingRealEstate(false);\r\n    }\r\n    getPendingRealEstate();\r\n  }, []);\r\n\r\n  const handleApproveClick = realEstateId => {\r\n    confirm({\r\n      title: \"Duyệt bài viết\",\r\n      content: \"Bạn có chắc muốn duyệt tin này?\",\r\n      onOk: async () => {\r\n        setLoadingApproveRealEstate(true);\r\n        try {\r\n          await approveRealEstateAPI(accessToken, realEstateId);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n        setLoadingApproveRealEstate(false);\r\n      },\r\n      \r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-re-page\">\r\n      <h2><strong>Tin đang chờ duyệt</strong></h2>\r\n      <Divider />\r\n      <Table loading={isLoadingRealEstate} rowKey=\"id\" columns={tableColumns} dataSource={tableData} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminRealestatePage;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select } from 'antd';\r\nimport Quill from 'react-quill';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\n\r\nconst { Option } = Select;\r\n\r\nconst CreateNewsForm = props => {\r\n  const [content, setContent] = useState('');\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  async function getNewsCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        layout=\"vertical\"\r\n        form={props.form}\r\n        onFinish={props.onFinish}\r\n        news={props.news}>\r\n        <Form.Item label=\"Tiêu đề\" name=\"title\" rules={[\r\n          { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n        ]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Nội dung\" name=\"content\" initialValue=\"\" rules={[\r\n          { required: true, message: 'Vui lòng nhập nội dung' }\r\n        ]}>\r\n          <Quill value={content} onChange={setContent} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Loại tin\" name=\"news_category_id\" rules={[\r\n          { required: true, message: \"Vui lòng chọn loại tin\" }\r\n        ]}>\r\n          <Select loading={isLoading}>\r\n            {\r\n              newsCategories &&\r\n              newsCategories.map(c => {\r\n                return <Option value={c.id} key={c.id}>{c.name}</Option>\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateNewsForm;","import React from 'react';\r\nimport { Upload, Modal } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\n\r\nimport './UploadPictures.scss';\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nconst UploadPictures = props => {\r\n  const [previewVisible, setPreviewVisible] = useState(props.previewVisible || false);\r\n  const [previewImage, setPreviewImage] = useState(props.previewImage || '');\r\n  const [previewTitle, setPreviewTitle] = useState(props.previewTitle || '');\r\n\r\n  const handleCancel = () => {\r\n    setPreviewVisible(false);\r\n  }\r\n\r\n  const handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview);\r\n    setPreviewVisible(true);\r\n    setPreviewTitle(\"Xem trước ảnh\");\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      <PlusOutlined />\r\n      <div className=\"ant-upload-text\">Upload</div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"clearfix\">\r\n      <Upload\r\n        listType=\"picture-card\"\r\n        fileList={props.fileList}\r\n        onPreview={handlePreview}\r\n        onChange={props.onChange}\r\n        disabled={props.disabled}\r\n        beforeUpload={props.beforeUpload}>\r\n        {props.length ? (props.fileList?.length < props.length ? uploadButton : null) : uploadButton}\r\n      </Upload>\r\n      <Modal\r\n        visible={previewVisible}\r\n        title={previewTitle}\r\n        footer={null}\r\n        onCancel={handleCancel}>\r\n        <img src={previewImage} alt=\"\" />\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadPictures;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/news`;\r\n\r\nexport function createNewsAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateNewsAPI(token, news_id, body) {\r\n  return axios.put(`${endpointPrefix}/${news_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteNewsAPI(token, news_id) {\r\n  return axios.delete(`${endpointPrefix}/${news_id}/`, withAuthorization(token));\r\n}\r\n\r\nexport function uploadNewsImage(token, images) {\r\n  const formData = new FormData();\r\n  images.forEach(image => {\r\n    formData.append(\"images[]\", image);\r\n  });\r\n\r\n  return axios.post(`${endpointPrefix}/upload-image/`, formData, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select } from 'antd';\r\nimport Quill from 'react-quill';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\n\r\nconst { Option } = Select;\r\n\r\nconst EditNewsForm = props => {\r\n\r\n  const news = props.news;\r\n\r\n  const [content, setContent] = useState('');\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  async function getNewsCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        layout=\"vertical\"\r\n        form={props.form}\r\n        onFinish={props.onFinish}\r\n        news={props.news}>\r\n        <Form.Item label=\"Tiêu đề\" name=\"title\" initialValue={news.title} rules={[\r\n          { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n        ]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Nội dung\" name=\"content\" initialValue={news.content} rules={[\r\n          { required: true, message: 'Vui lòng nhập nội dung' }\r\n        ]}>\r\n          <Quill value={content} onChange={setContent} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Loại tin\" name=\"news_category_id\" initialValue={news.news_category.id} rules={[\r\n          { required: true, message: \"Vui lòng chọn loại tin\" }\r\n        ]}>\r\n          <Select loading={isLoading}>\r\n            {\r\n              newsCategories &&\r\n              newsCategories.map(c => {\r\n                return <Option value={c.id} key={c.id}>{c.name}</Option>\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditNewsForm;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Table, Button, Tooltip, Popconfirm, Modal, Form } from 'antd';\r\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { getAllNewsAPI } from 'services/user/news';\r\nimport CreateNewsForm from 'forms/CreateNewsForm/CreateNewsForm';\r\nimport UploadPictures from 'components/UploadPictures/UploadPictures';\r\nimport { uploadNewsImage, createNewsAPI, updateNewsAPI, deleteNewsAPI } from 'services/admin/news';\r\nimport Cookies from 'js-cookie';\r\nimport { Link } from 'react-router-dom';\r\nimport EditNewsForm from 'forms/EditNewsForm/EditNewsForm';\r\n\r\nconst { useForm } = Form;\r\n\r\nconst AdminNewsPage = props => {\r\n  const [news, setNews] = useState(null);\r\n  const [isLoadingNews, setLoadingNews] = useState(null);\r\n  const [isModalShow, setModalState] = useState(false);\r\n  const [createForm] = useForm();\r\n  const [editForm] = useForm();\r\n  const [action, setAction] = useState('');\r\n  const [imageList, setImageList] = useState([]);\r\n  const accessToken = Cookies.get('access');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [image_ids, setImages_ids] = useState(null);\r\n  const [selectedNews, setSelectedNews] = useState(null);\r\n\r\n  const tableColumns = [\r\n    { title: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tiêu đề', dataIndex: 'title', render: (text, record) => <Link to={`/news/${record.slug}`}>{record.title}</Link> },\r\n    { title: 'Loại', dataIndex: 'news_category.name', render: (text, record) => record.news_category.name },\r\n    { title: 'Ngày đăng', dataIndex: 'created_at', render: (text, record) => new Date(record.created_at).toLocaleDateString('vi-VN') },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (_, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button type=\"link\" icon={<EditOutlined />} onClick={() => handleEditClick(record)} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa tin này\" onConfirm={() => handleDelete(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  async function getAllNews() {\r\n    setLoadingNews(true);\r\n    try {\r\n      const response = await getAllNewsAPI();\r\n      setNews(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingNews(false);\r\n  }\r\n\r\n  const onUploadChange = ({ fileList }) => {\r\n    setImageList([...fileList]);\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setModalState(true);\r\n    setAction('create');\r\n  }\r\n\r\n  const handleCreate = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      let image_ids_uploaded;\r\n      if (!image_ids) {\r\n        const response = await uploadNewsImage(accessToken, imageList.map(image => image.originFileObj));\r\n        image_ids_uploaded = response.data.image_ids;\r\n        setImages_ids(image_ids_uploaded);\r\n      }\r\n      const newsBody = {\r\n        title: values.title,\r\n        content: values.content,\r\n        news_category_id: values.news_category_id,\r\n        image_ids: image_ids_uploaded\r\n      }\r\n      const createResponse = await createNewsAPI(accessToken, newsBody);\r\n      const newState = { ...news };\r\n      newState.results = [...news.results];\r\n      newState.results.unshift(createResponse.data.data);\r\n      setNews(newState);\r\n      setImages_ids(null);\r\n      setModalState(false);\r\n      setImageList(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const handleEditClick = news => {\r\n    setModalState(true);\r\n    setSelectedNews(news);\r\n    setAction('edit');\r\n    setImageList(news.images.map(image => {\r\n      return {\r\n        ...image,\r\n        uid: image.id\r\n      }\r\n    }))\r\n  }\r\n\r\n  const handleEdit = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      let image_ids_uploaded = [];\r\n      const old_images_ids = selectedNews.images.map(image => image.id);\r\n      if (!image_ids) {\r\n        const new_images = imageList.filter(image => image.originFileObj).map(image => image.originFileObj);\r\n        if (new_images.length > 0) {\r\n          const response = await uploadNewsImage(accessToken, new_images);\r\n          image_ids_uploaded = response.data.image_ids;\r\n          setImages_ids(image_ids_uploaded);\r\n        }\r\n      }\r\n      const newsBody = {\r\n        title: values.title,\r\n        content: values.content,\r\n        news_category_id: values.news_category_id,\r\n        image_ids: [...old_images_ids, ...image_ids_uploaded]\r\n      }\r\n      const updateResponse = await updateNewsAPI(accessToken, selectedNews.id, newsBody);\r\n      const updatedNews = updateResponse.data.data;\r\n      const newState = { ...news };\r\n      const index = newState.results.findIndex(n => n.id === selectedNews.id);\r\n      newState.results = [...news.results];\r\n      newState.results[index] = updatedNews;\r\n      setNews(newState)\r\n      setImages_ids(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n    setModalState(false);\r\n  }\r\n\r\n  const handleDelete = async id => {\r\n    try {\r\n      await deleteNewsAPI(accessToken, id);\r\n      const newState = { ...news };\r\n      const index = newState.results.findIndex(n => n.id === id);\r\n      newState.results = [...news.results];\r\n      newState.results.splice(index, 1);\r\n      setNews(newState);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const handleBeforeUpload = file => {\r\n    setImageList([...imageList, file]);\r\n    return false;\r\n  }\r\n\r\n  const handleOK = () => {\r\n    if (action === 'create') {\r\n      createForm.validateFields().then(values => {\r\n        handleCreate(values);\r\n      });\r\n    }\r\n\r\n    if (action === 'edit') {\r\n      editForm.validateFields().then(values => {\r\n        handleEdit(values);\r\n      })\r\n    }\r\n  }\r\n\r\n  const onAfterModalClose = () => {\r\n    editForm.resetFields();\r\n    createForm.resetFields();\r\n    setSelectedNews(null);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllNews();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-news-page\">\r\n      <div style={{ display: 'flex' }}>\r\n        <h2>Quản lý tin tức</h2>\r\n        <Button style={{ marginLeft: 'auto' }} onClick={handleCreateClick}>\r\n          <PlusOutlined /> Bài viết mới\r\n        </Button>\r\n      </div>\r\n      <Divider />\r\n      <Table rowKey={'id'} loading={isLoadingNews} columns={tableColumns} dataSource={news?.results} />\r\n\r\n      <Modal\r\n        destroyOnClose={true}\r\n        onOk={handleOK}\r\n        afterClose={onAfterModalClose}\r\n        onCancel={() => setModalState(false)}\r\n        confirmLoading={isLoading}\r\n        visible={isModalShow} width=\"80%\">\r\n        {\r\n          action === 'create' &&\r\n          <div>\r\n            <CreateNewsForm onFinish={handleCreate} form={createForm} />\r\n            <UploadPictures\r\n              onChange={onUploadChange}\r\n              fileList={imageList}\r\n              beforeUpload={handleBeforeUpload} />\r\n          </div>\r\n        }\r\n\r\n        {\r\n          action === 'edit' &&\r\n          <div>\r\n            <EditNewsForm onFinish={handleEdit} news={selectedNews} form={editForm} />\r\n            <UploadPictures\r\n              onChange={onUploadChange}\r\n              fileList={imageList}\r\n              beforeUpload={handleBeforeUpload} />\r\n          </div>\r\n        }\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminNewsPage;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/project-category`;\r\n\r\nexport function getAllProjectCategoriesAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/project-investor`;\r\n\r\nexport function getAllInvestorsAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/project-category`;\r\n\r\nexport function createProjectCategoryAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateProjectCategoryAPI(token, category_id, body) {\r\n  return axios.put(`${endpointPrefix}/${category_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteProjectCategoryAPI(token, category_id) {\r\n  return axios.delete(`${endpointPrefix}/${category_id}/`, withAuthorization(token));\r\n}","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/project-investor`;\r\n\r\nexport function createInvestorAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateInvestorAPI(token, investor_id, body) {\r\n  return axios.put(`${endpointPrefix}/${investor_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteInvestorAPI(token, investor_id) {\r\n  return axios.delete(`${endpointPrefix}/${investor_id}/`, withAuthorization(token));\r\n}\r\n\r\nexport function updateInvestorAvatarAPI(token, investor_id, image) {\r\n  const formData = new FormData();\r\n  formData.append('image', image);\r\n  return axios.patch(`${endpointPrefix}/${investor_id}/avatar/`, formData, withAuthorization(token));\r\n}","import React from 'react';\r\nimport { Table, Tooltip, Button, Popconfirm } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\n\r\nconst ProjectCategoryTab = props => {\r\n  const categories = props.categories;\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button onClick={() => props.onEditClick(record)} type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại này không?\" onConfirm={() => props.onDeleteClick(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Table loading={props.loading} rowKey=\"id\" dataSource={categories} columns={tableColumns} />\r\n  )\r\n}\r\n\r\nexport default ProjectCategoryTab;","import React from 'react';\r\nimport { Table, Tooltip, Button, Popconfirm } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\n\r\nconst ProjectInvestorTab = props => {\r\n  const investors = props.investors;\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button onClick={() => props.onEditClick(record)} type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại này không?\" onConfirm={() => props.onDeleteClick(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Table loading={props.loading} rowKey=\"id\" dataSource={investors} columns={tableColumns} />\r\n  )\r\n}\r\n\r\nexport default ProjectInvestorTab;","import React from 'react';\r\nimport { Table, Tooltip, Button, Popconfirm } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { getShortAddressString } from 'utils/string';\r\n\r\nconst ProjectTab = props => {\r\n  const projects = props.projects;\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name' },\r\n    { title: 'Địa chỉ', key: 'address', render: (text, record) => getShortAddressString(record.address) },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại này không?\">\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Table loading={props.loading} rowKey=\"id\" dataSource={projects} columns={tableColumns} />\r\n  )\r\n}\r\n\r\nexport default ProjectTab;","import React from 'react';\r\nimport { Form, Input } from 'antd';\r\n\r\nconst { Item } = Form;\r\n\r\nconst ProjectCategoryForm = props => {\r\n  const category = props.category;\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      form={props.form}\r\n      onFinish={props.onFinish}>\r\n      <Item label=\"Tên loại\" name=\"name\" initialValue={category?.name} rules={[\r\n        { required: true, message: 'Vui lòng nhập tên' }\r\n      ]}>\r\n        <Input />\r\n      </Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default ProjectCategoryForm;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select, Row, Col } from 'antd';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI, getWardsByDistrictAPI, getStreetsByDistrictAPI } from 'services/user/address';\r\nimport Quill from 'react-quill';\r\n\r\nconst { Item } = Form;\r\nconst { Option } = Select;\r\n\r\nconst InvestorForm = props => {\r\n  const investor = props.investor;\r\n\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(null);\r\n\r\n  async function getAllCities() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllCitiesAPI();\r\n      setCities(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getDistrictsByCity(city_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getDistrictsByCityAPI(city_id);\r\n      setDistricts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getWardsAndStreetsByDistrict(district_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const [wardRes, streetRes] = await Promise.all([\r\n        getWardsByDistrictAPI(district_id),\r\n        getStreetsByDistrictAPI(district_id)\r\n      ]);\r\n      setWards(wardRes.data);\r\n      setStreets(streetRes.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllCities();\r\n\r\n    if (investor) {\r\n      getDistrictsByCity(investor.address.ward.district.city.id);\r\n      getWardsAndStreetsByDistrict(investor.address.ward.district.id);\r\n    }\r\n  }, [investor]);\r\n\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      form={props.form}>\r\n      <img src={investor?.avatar} alt=\"\" />\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tên chủ đầu tư\" name=\"name\" initialValue={investor?.name}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Số điện thoại\" name=\"phone\" initialValue={investor?.phone}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Địa chỉ email\" name=\"email\" initialValue={investor?.email}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Website\" name=\"website\" initialValue={investor?.website}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n      <Item label=\"Thông tin chi tiết\" name=\"detail\" initialValue={investor?.detail || \"\"}>\r\n        <Quill theme=\"snow\" />\r\n      </Item>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tỉnh/thành phố\" name=\"city_id\" initialValue={investor?.address.ward.district.city.id}>\r\n            <Select loading={isLoading} onChange={getDistrictsByCity} disabled={!cities}>\r\n              {\r\n                cities &&\r\n                cities.map(city => {\r\n                  return <Option key={city.id} value={city.id}>{city.prefix + ' ' + city.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item\r\n            label=\"Quận/huyện\"\r\n            name=\"district_id\"\r\n            initialValue={investor?.address.ward.district.id}>\r\n            <Select loading={isLoading} onChange={getWardsAndStreetsByDistrict} disabled={!districts}>\r\n              {\r\n                districts &&\r\n                districts.map(district => {\r\n                  return <Option key={district.id} value={district.id}>{district.prefix + ' ' + district.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item\r\n            label=\"Xã/phường/trị trấn\"\r\n            name=\"ward_id\"\r\n            initialValue={investor?.address.ward.id}>\r\n            <Select loading={isLoading} disabled={!wards}>\r\n              {\r\n                wards &&\r\n                wards.map(ward => {\r\n                  return <Option key={ward.id} value={ward.id}>{ward.prefix + ' ' + ward.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item\r\n            label=\"Xã/phường/trị trấn\"\r\n            name=\"street_id\"\r\n            initialValue={investor?.address.street.id}>\r\n            <Select loading={isLoading} disabled={!streets}>\r\n              {\r\n                streets &&\r\n                streets.map(street => {\r\n                  return <Option key={street.id} value={street.id}>{street.prefix + ' ' + street.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default InvestorForm;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Tabs, Button, Modal, Form } from 'antd';\r\nimport { getAllProjectCategoriesAPI } from 'services/user/project-category';\r\nimport { getAllProjectsAPI } from 'services/user/project';\r\nimport { getAllInvestorsAPI } from 'services/user/investor';\r\nimport { createProjectCategoryAPI, updateProjectCategoryAPI, deleteProjectCategoryAPI } from 'services/admin/project-category';\r\nimport { createInvestorAPI, updateInvestorAPI, deleteInvestorAPI, updateInvestorAvatarAPI } from 'services/admin/investor';\r\nimport ProjectCategoryTab from 'components/ProjectCategoryTab/ProjectCategoryTab';\r\nimport ProjectInvestorTab from 'components/ProjectInvestorTab/ProjectInvestorTab';\r\nimport ProjectTab from 'components/ProjectTab/ProjectTab';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport ProjectCategoryForm from 'forms/ProjectCategoryForm/ProjectCategoryForm';\r\nimport Cookies from 'js-cookie';\r\nimport InvestorForm from 'forms/InvestorForm/InvestorForm';\r\nimport UploadPictures from 'components/UploadPictures/UploadPictures';\r\n\r\nconst { useForm } = Form;\r\n\r\nconst AdminProjectsPage = props => {\r\n  const [tab, setTab] = useState(1);\r\n\r\n  const [categories, setCategories] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n  const [investors, setInvestors] = useState(null);\r\n\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [selectedInvestor, setSelectedInvestor] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isModalShow, setIsModalShow] = useState(false);\r\n\r\n  const [object, setObject] = useState(null);\r\n  const [action, setAction] = useState(null);\r\n\r\n  const [projectCategoryForm] = useForm();\r\n  const [projectForm] = useForm();\r\n  const [investorForm] = useForm();\r\n\r\n  const [imageList, setImageList] = useState([]);\r\n\r\n  const accessToken = Cookies.get('access');\r\n\r\n\r\n  async function getAllProjectCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllProjectCategoriesAPI();\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getAllProjects() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllProjectsAPI();\r\n      setProjects(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getAllInvestors() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllInvestorsAPI();\r\n      setInvestors(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setIsModalShow(true);\r\n    switch (tab) {\r\n      case 1:\r\n        setObject('category');\r\n        setAction('create');\r\n        break;\r\n      case 2:\r\n        setObject('investor');\r\n        setAction('create');\r\n        break;\r\n      case 3:\r\n        setObject('project');\r\n        setAction('create');\r\n        break;\r\n      default:\r\n        setObject(null);\r\n    }\r\n  }\r\n\r\n  const handleCreateCategory = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      await createProjectCategoryAPI(accessToken, values);\r\n      getAllProjectCategories();\r\n      setIsModalShow(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleUpdateCategory = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      await updateProjectCategoryAPI(accessToken, selectedCategory.id, values);\r\n      getAllProjectCategories();\r\n      setIsModalShow(false);\r\n      setSelectedCategory(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleDeleteCategory = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteProjectCategoryAPI(accessToken, id);\r\n      getAllProjectCategories();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleCreateInvestor = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const body = {\r\n        name: values.name,\r\n        phone: values.phone,\r\n        email: values.email,\r\n        website: values.website,\r\n        detail: values.detail,\r\n        ward_id: values.ward_id,\r\n        street_id: values.street_id\r\n      }\r\n      const response = await createInvestorAPI(accessToken, body);\r\n      const object = response.data.data;\r\n      await updateInvestorAvatarAPI(accessToken, object.id, imageList[0].originFileObj);\r\n      setIsModalShow(false);\r\n      getAllInvestors();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n    \r\n  }\r\n\r\n  const handleUpdateInvestor = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const body = {\r\n        name: values.name,\r\n        phone: values.phone,\r\n        email: values.email,\r\n        website: values.website,\r\n        detail: values.detail,\r\n        ward_id: values.ward_id,\r\n        street_id: values.street_id\r\n      }\r\n      await updateInvestorAPI(accessToken, selectedInvestor.id, body);\r\n\r\n      if (imageList[0].originFileObj) {\r\n        await updateInvestorAvatarAPI(accessToken, selectedInvestor.id, imageList[0].originFileObj);\r\n      }\r\n\r\n      getAllInvestors();\r\n      setIsModalShow(false);\r\n      setSelectedInvestor(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n    \r\n  }\r\n\r\n  const handleDeleteInvestor = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteInvestorAPI(accessToken, id);\r\n      getAllInvestors();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleCreateProject = values => {\r\n    console.log(values);\r\n  }\r\n\r\n  const handleUpdateProject = values => {\r\n\r\n  }\r\n\r\n  const handleDeleteProject = id => {\r\n\r\n  }\r\n\r\n  const handleEditProjectCategoryClick = category => {\r\n    setSelectedCategory(category);\r\n    setAction('update');\r\n    setObject('category');\r\n    setIsModalShow(true);\r\n  }\r\n\r\n  const handleEditInvestorClick = investor => {\r\n    setSelectedInvestor(investor);\r\n    setAction('update');\r\n    setObject('investor');\r\n    setIsModalShow(true);\r\n  }\r\n\r\n  const handleEditProjectClick = project => {\r\n\r\n  }\r\n\r\n\r\n\r\n  const onModalOK = () => {\r\n    switch (tab) {\r\n      case 1:\r\n        if (action === 'create') {\r\n          projectCategoryForm.validateFields().then(values => handleCreateCategory(values));\r\n        } else if (action === 'update') {\r\n          projectCategoryForm.validateFields().then(values => handleUpdateCategory(values));\r\n        }\r\n        break;\r\n      case 2:\r\n        if (action === 'create') {\r\n          investorForm.validateFields().then(values => handleCreateInvestor(values));\r\n        } else if (action === 'update') {\r\n          investorForm.validateFields().then(values => handleUpdateInvestor(values));\r\n        }\r\n        break;\r\n      case 3:\r\n        if (action === 'create') {\r\n          projectForm.validateFields().then(values => handleCreateProject(values));\r\n        } else if (action === 'update') {\r\n          projectForm.validateFields().then(values => handleUpdateProject(values));\r\n        }\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  const onModalCancel = () => {\r\n    setIsModalShow(false);\r\n  }\r\n\r\n  const onModalAfterClose = () => {\r\n    projectCategoryForm.resetFields();\r\n    projectForm.resetFields();\r\n    investorForm.resetFields();\r\n    setImageList([]);\r\n  }\r\n\r\n  const handleImageChange = ({ fileList }) => {\r\n    setImageList([...fileList]);\r\n  }\r\n\r\n  const handleBeforeUpload = file => {\r\n    setImageList([...imageList, file]);\r\n    return false;\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllProjectCategories();\r\n  }, []);\r\n\r\n  const handleTabChange = key => {\r\n    switch (key) {\r\n      case \"1\":\r\n        setTab(1);\r\n        getAllProjectCategories();\r\n        break;\r\n      case \"2\":\r\n        setTab(2);\r\n        getAllInvestors();\r\n        break;\r\n      case \"3\":\r\n        setTab(3);\r\n        getAllProjects();\r\n        break;\r\n      default:\r\n        getAllProjectCategories();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-project-page\">\r\n      <h2>Quản lý dự án</h2>\r\n      <Divider />\r\n      <Tabs onChange={handleTabChange} tabBarExtraContent={\r\n        <>\r\n          {\r\n            tab === 1 &&\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>Thêm loại dự án</Button>\r\n          }\r\n          {\r\n            tab === 2 &&\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>Thêm chủ đầu tư</Button>\r\n          }\r\n          {\r\n            tab === 3 &&\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>Thêm dự án</Button>\r\n          }\r\n        </>\r\n      }>\r\n        <Tabs.TabPane tab=\"Loại dự án\" key=\"1\">\r\n          <ProjectCategoryTab\r\n            loading={isLoading}\r\n            categories={categories}\r\n            onEditClick={handleEditProjectCategoryClick}\r\n            onDeleteClick={handleDeleteCategory} />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Chủ đầu từ\" key=\"2\">\r\n          <ProjectInvestorTab\r\n            loading={isLoading}\r\n            investors={investors}\r\n            onEditClick={handleEditInvestorClick}\r\n            onDeleteClick={handleDeleteInvestor} />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Dự án\" key=\"3\">\r\n          <ProjectTab loading={isLoading} projects={projects} />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n      <Modal\r\n        confirmLoading={isLoading}\r\n        onOk={onModalOK}\r\n        afterClose={onModalAfterClose}\r\n        onCancel={onModalCancel}\r\n        visible={isModalShow}\r\n        destroyOnClose={true}\r\n        width=\"80%\">\r\n        {\r\n          tab === 1 &&\r\n          <ProjectCategoryForm form={projectCategoryForm} category={selectedCategory} />\r\n        }\r\n        {\r\n          tab === 2 &&\r\n          <>\r\n            <InvestorForm form={investorForm} investor={selectedInvestor} />\r\n            <UploadPictures\r\n              beforeUpload={handleBeforeUpload}\r\n              onChange={handleImageChange}\r\n              fileList={imageList}\r\n              length={1} />\r\n          </>\r\n        }\r\n\r\n\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminProjectsPage;","import React from 'react';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst AdminUserPage = props => {\r\n  return (\r\n    <div>Người dùng</div>\r\n  )\r\n}\r\n\r\nexport default AdminUserPage;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { notification } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst withAdminRoute = Component => {\r\n  return function Wrapper(props) {\r\n    const location = useLocation();\r\n    const userState = useSelector(state => state.userState);\r\n    const { user } = userState;\r\n    const accessToken = Cookies.get('access');\r\n\r\n    useEffect(() => {\r\n      if (user && !user.is_staff) {\r\n        notification.error({\r\n          message: 'Lỗi',\r\n          description: 'Bạn không có quyền truy cập vào trang này',\r\n        })\r\n      }\r\n    })\r\n\r\n    if (!accessToken || accessToken.length === 0) {\r\n      return <Redirect to={`/login?next=${location.pathname}`} />\r\n    } else {\r\n      if (user && !user.is_staff) {\r\n        return <Redirect to=\"/\" />\r\n      } else {\r\n        return <Component {...props} />\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default withAdminRoute;","import React from 'react';\r\nimport { Form, Input } from 'antd';\r\n\r\nconst EditNewsCategoryForm = props => {\r\n  return (\r\n    <Form form={props.form} layout=\"vertical\" onFinish={props.onFinish}>\r\n      <Form.Item label=\"Tên loại tin\" name=\"name\" initialValue={props.category?.name || null} rules={[\r\n        {required: true, message: \"Vui lòng nhập tên\"}\r\n      ]}>\r\n        <Input />\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default EditNewsCategoryForm;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/news-category`;\r\n\r\nexport function createNewsCategoryAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateNewsCategoryAPI(token, category_id, body) {\r\n  return axios.put(`${endpointPrefix}/${category_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteNewsCategoryAPI(token, category_id) {\r\n  return axios.delete(`${endpointPrefix}/${category_id}/`, withAuthorization(token));\r\n}","import React, { useState } from 'react';\r\nimport { Divider, Table, Button, Tooltip, Popconfirm, Modal, Form } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\nimport { firstCapital } from 'utils/string';\r\nimport { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport EditNewsCategoryForm from 'forms/EditNewsCategoryForm/EditNewsCategoryForm';\r\nimport { createNewsCategoryAPI, updateNewsCategoryAPI, deleteNewsCategoryAPI } from 'services/admin/news-category';\r\nimport Cookies from 'js-cookie';\r\nconst { useForm } = Form;\r\n\r\nconst AdminNewsCategoryPage = props => {\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [isLoadingNewsCategories, setLoadingNewsCategories] = useState(null);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [editForm] = useForm();\r\n  const [createForm] = useForm();\r\n  const accessToken = Cookies.get('access');\r\n  const tableColumns = [\r\n    { title: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name', render: (_, record) => firstCapital(record.name) },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button\r\n                type=\"link\"\r\n                icon={<EditOutlined />}\r\n                onClick={() => handleEditClick(record)} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại tin này\" onConfirm={() => handleDelete(record.id)}>\r\n                <Button\r\n                  danger\r\n                  type=\"link\"\r\n                  icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n\r\n  ]\r\n\r\n  async function getNewsCategories() {\r\n    setLoadingNewsCategories(true);\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n      console.log(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingNewsCategories(false);\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setShowCreateModal(true);\r\n  }\r\n\r\n  const handleCreate = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const body = {\r\n        name: values.name\r\n      }\r\n      const response = await createNewsCategoryAPI(accessToken, body);\r\n      const newItem = response.data.data;\r\n      const newState = [...newsCategories];\r\n      newState.unshift(newItem);\r\n      setNewsCategories(newState);\r\n      setShowCreateModal(false);\r\n    } catch (error) {\r\n    }\r\n    setIsLoading(false);\r\n    createForm.resetFields();\r\n  }\r\n\r\n  const handleEditClick = category => {\r\n    setSelectedCategory(category);\r\n    setShowEditModal(true);\r\n  }\r\n\r\n  const handleEdit = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const id = selectedCategory.id;\r\n      const body = {\r\n        name: values.name\r\n      }\r\n      await updateNewsCategoryAPI(accessToken, id, body);\r\n      const newState = [...newsCategories];\r\n      const index = newState.findIndex(cat => cat.id === id);\r\n      newState[index].name = values.name;\r\n      setNewsCategories(newState);\r\n      setShowEditModal(false);\r\n      setSelectedCategory(null);\r\n      editForm.resetFields();\r\n    } catch (error) {\r\n\r\n    }\r\n    setIsLoading(false);\r\n\r\n  }\r\n\r\n  const handleDelete = async id => {\r\n    try {\r\n      await deleteNewsCategoryAPI(accessToken, id);\r\n      const newState = [...newsCategories];\r\n      const index = newsCategories.findIndex(cat => cat.id === id);\r\n      newState.splice(index, 1);\r\n      setNewsCategories(newState);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    editForm.resetFields();\r\n    setSelectedCategory(null);\r\n    setShowEditModal(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-news-page\">\r\n      <div style={{ display: 'flex' }}>\r\n        <h2>Quản lý loại tin tức</h2>\r\n        <Button style={{ marginLeft: 'auto' }} onClick={handleCreateClick}>\r\n          <PlusOutlined /> Loại tin mới\r\n        </Button>\r\n      </div>\r\n      <Divider />\r\n      <Table\r\n        rowKey=\"id\"\r\n        loading={isLoadingNewsCategories}\r\n        dataSource={newsCategories}\r\n        columns={tableColumns} />\r\n      <Modal\r\n        forceRender={true}\r\n        destroyOnClose={true}\r\n        visible={showEditModal}\r\n        confirmLoading={isLoading}\r\n        afterClose={handleModalClose}\r\n        onOk={() => editForm.validateFields().then(values => {\r\n          editForm.resetFields();\r\n          handleEdit(values);\r\n        })}\r\n        onCancel={() => setShowEditModal(false)}>\r\n        <EditNewsCategoryForm form={editForm} onFinish={handleEdit} category={selectedCategory} />\r\n      </Modal>\r\n      <Modal\r\n        confirmLoading={isLoading}\r\n        visible={showCreateModal}\r\n        onOk={() => createForm.validateFields().then(values => {\r\n          createForm.resetFields();\r\n          handleCreate(values);\r\n        })}\r\n        onCancel={() => setShowCreateModal(false)}>\r\n        <EditNewsCategoryForm form={createForm} onFinish={handleCreate} />\r\n      </Modal>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminNewsCategoryPage;","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { HashRouter, Switch, Route, useRouteMatch, useLocation, Link, Redirect } from 'react-router-dom';\r\nimport AdminHomePage from 'pages/admin';\r\nimport AdminRealestatePage from 'pages/admin/real-estate';\r\nimport AdminNewsPage from 'pages/admin/news';\r\nimport AdminProjectsPage from 'pages/admin/projects';\r\nimport AdminUserPage from 'pages/admin/user';\r\nimport withAdminRote from 'HOCs/withAdminRoute';\r\nimport Header from 'components/Header/Header';\r\n\r\nimport './AdminLayout.scss';\r\nimport AdminNewsCategoryPage from 'pages/admin/news-category';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nconst AdminLayout = props => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n  const adminRoutes = [\r\n    { path: `${path}/`, name: 'Tổng quan' },\r\n    { path: `${path}/real-estate`, name: 'Quản lý tin bất động sản' },\r\n    { path: `${path}/project`, name: 'Quản lý dự án' },\r\n    { path: `${path}/news-category`, name: 'Quản lý loại tin tức' },\r\n    { path: `${path}/news`, name: 'Quản lý tin tức' },\r\n    { path: `${path}/user`, name: 'Quản lý người dùng' },\r\n  ]\r\n  return (\r\n    <HashRouter>\r\n      <Layout className=\"admin-layout\">\r\n        <Header isDashboard />\r\n        <Layout>\r\n          <Sider width={250} className=\"admin-layout_sider\">\r\n            <Menu theme=\"dark\" mode=\"vertical\" selectedKeys={[pathname]}>\r\n              {\r\n                adminRoutes.map(route => (\r\n                  <Menu.Item key={route.path}>\r\n                    <Link to={`${route.path}`}>\r\n                      {route.name}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Content className=\"admin-layout_content\">\r\n            <Switch>\r\n              <Route path={`${path}/`} exact component={AdminHomePage} />\r\n              <Route path={`${path}/real-estate`} component={AdminRealestatePage} />\r\n              <Route path={`${path}/news-category`} component={AdminNewsCategoryPage} />\r\n              <Route path={`${path}/news`} component={AdminNewsPage} />\r\n              <Route path={`${path}/project`} component={AdminProjectsPage} />\r\n              <Route path={`${path}/user`} component={AdminUserPage} />\r\n              <Route path={`${path}/*`} component={() => <Redirect to={`${path}/`} />} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withAdminRote(AdminLayout);","import React, { useEffect, useState } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { getRealEstateDetailsAPI } from 'services/user/real-estate';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { Empty, Divider } from 'antd';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\n\r\nconst RealEstateDetailsPage = () => {\r\n  const [realEstate, setRealEstate] = useState(null);\r\n  const { params } = useRouteMatch();\r\n  const slug = params.slug;\r\n  const dispatch = useDispatch();\r\n\r\n  async function getRealEstateDetails(slug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getRealEstateDetailsAPI(slug);\r\n      setRealEstate(response.data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (slug && slug.length > 0) {\r\n      getRealEstateDetails(slug);\r\n    }\r\n  }, [slug]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        {\r\n          realEstate ?\r\n            <div className=\"real-estate-details-page\">\r\n              <h2>{realEstate.title}</h2>\r\n              <p><small>{new Date(realEstate.created_at).toLocaleDateString('vi-VN')}</small></p>\r\n              <Divider />\r\n              <img src={realEstate.images[0]?.url || '//via.placeholder.com/800x600'} alt=\"{realEstate.images[0]?.url || '//via.placeholder.com/800x600'}\" />\r\n              <br />\r\n              <div>{realEstate.detail}</div>\r\n            </div>\r\n            :\r\n            <Empty />\r\n        }\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n\r\n  )\r\n}\r\n\r\nexport default RealEstateDetailsPage;","import React, { useState, useEffect } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { getNewsDetailsAPI } from 'services/user/news';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { Empty, Divider } from 'antd';\r\n\r\nconst NewsDetailsPage = props => {\r\n\r\n  const [newsDetails, setNewsDetails] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { params } = useRouteMatch();\r\n  const slug = params.slug;\r\n\r\n  async function getNewsDetails(slug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getNewsDetailsAPI(slug);\r\n      setNewsDetails(response.data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (slug && slug.length > 0) {\r\n      getNewsDetails(slug);\r\n    }\r\n  }, [slug]);\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        {\r\n          newsDetails ?\r\n            <div>\r\n              <h2>{newsDetails.title}</h2>\r\n              <p><small>{new Date(newsDetails.created_at).toLocaleDateString('vi-VN')}</small></p>\r\n              <Divider />\r\n              <div dangerouslySetInnerHTML={{ __html: newsDetails.content }}></div>\r\n            </div>\r\n\r\n            :\r\n            <Empty />\r\n        }\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default NewsDetailsPage;","import React, { useEffect } from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport {\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport HomePage from 'pages';\nimport RealEstatePage from 'pages/real-estate';\nimport AboutPage from 'pages/about';\nimport NewsPage from 'pages/news';\nimport LoginPage from 'pages/login';\nimport RegisterPage from 'pages/register';\nimport ProjectsPage from 'pages/projects';\nimport ProjectDetailsPage from 'pages/projects/project-details';\nimport VerifyPage from 'pages/verify-email';\nimport UserLayout from 'layouts/UserLayout/UserLayout';\nimport AdminLayout from 'layouts/AdminLayout/AdminLayout';\n\nimport Cookies from 'js-cookie';\nimport { setAccessToken, getProfileAction } from 'store/actions/user.action';\nimport { useDispatch, useSelector } from 'react-redux';\nimport RealEstateDetailsPage from 'pages/real-estate/real-estate-details';\nimport NewsDetailsPage from 'pages/news/news-details';\n\n\nconst App = props => {\n  const dispatch = useDispatch();\n  const userState = useSelector(state => state.userState);\n\n  useEffect(() => {\n    const accessToken = Cookies.get('access');\n    if (accessToken && !userState.accessToken && localStorage.user) {\n      dispatch(setAccessToken(accessToken));\n      dispatch(getProfileAction(accessToken));\n    }\n  });\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/real-estate\" exact component={RealEstatePage} />\n        <Route path=\"/real-estate/:slug\" component={RealEstateDetailsPage} />\n        <Route path=\"/project\" exact component={ProjectsPage} />\n        <Route path=\"/project/:slug\" component={ProjectDetailsPage} />\n        <Route path=\"/news\" exact component={NewsPage} />\n        <Route path=\"/news/:slug\" component={NewsDetailsPage} />\n        <Route path=\"/about\" component={AboutPage} />\n        <Route path=\"/login\" component={LoginPage} />\n        <Route path=\"/register\" component={RegisterPage} />\n        <Route path=\"/verify-email\" component={VerifyPage} />\n        <Route path=\"/me\" component={UserLayout} />\n        <Route path=\"/admin\" component={AdminLayout} />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  user: null,\r\n  accessToken: null,\r\n  refreshToken: null\r\n}\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.LOGIN:\r\n      return {\r\n        ...state,\r\n        token: action.payload\r\n      }\r\n    case actionTypes.GET_PROFILE:\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      }\r\n    case actionTypes.LOGOUT:\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null\r\n      }\r\n    case actionTypes.SET_ACCESS_TOKEN:\r\n      return {\r\n        ...state,\r\n        accessToken: action.payload\r\n      }\r\n    case actionTypes.SET_REFRESH_TOKEN:\r\n      return {\r\n        ...state,\r\n        refreshToken: action.payload\r\n      }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}","import * as actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  loading: false\r\n}\r\n\r\nexport default function loadingReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload\r\n      }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport userReducer from './reducers/user.reducer';\r\nimport loadingReducer from './reducers/loading.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  userState: userReducer,\r\n  loadingState: loadingReducer\r\n})\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from 'store/store';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\nimport { notification } from 'antd';\nimport { setAccessToken } from 'store/actions/user.action';\nimport apiPrefix from 'services/apiPrefix';\nimport Cookies from 'js-cookie';\n\nimport 'antd/dist/antd.css';\nimport 'styles/style.scss';\n\n// Setup axios interceptors\nfunction setupAxios(store) {\n  axios.interceptors.request.use(config => {\n\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  axios.interceptors.response.use(response => {\n    return response\n  }, (error) => {\n\n    let message = \"\";\n    let description = \"\";\n\n    if (error.response) {\n      if (error.response.status === 401) {\n        const refreshToken = Cookies.get('refresh');\n        if (refreshToken) {\n          return axios.post(`${apiPrefix}/auth/refresh-token/`, {\n            refresh_token: refreshToken\n          }).then(response => {\n            const accessToken = response.data.data.access_token;\n            store.dispatch(setAccessToken(accessToken));\n            const config = error.config;\n            config.headers['Authorization'] = `Bearer ${accessToken}`;\n            return new Promise((resolve, reject) => {\n              axios.request(config).then(res => {\n                resolve(res);\n              }).catch(err => {\n                reject(err);\n              })\n            })\n          }).catch(err => {\n            Promise.reject(err);\n          })\n        }\n      }\n\n      if (error.response.data) {\n        message = error.response.data.code;\n        description = error.response.data.message;\n      }\n\n    } else if (error.request) {\n      message = error.status;\n      description = error.message;\n    } else {\n      message = error.status;\n      description = error.message;\n    }\n    notification.error({\n      message: `Lỗi (${message})`,\n      description: description\n    });\n\n    return Promise.reject(error);\n  });\n}\n\nsetupAxios(store);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport rootReducer from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n\r\nexport default store;"],"sourceRoot":""}