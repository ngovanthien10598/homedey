(this["webpackJsonpnien-luan-web"]=this["webpackJsonpnien-luan-web"]||[]).push([[0],{146:function(e,a,t){e.exports=t(313)},276:function(e,a,t){},301:function(e,a,t){},310:function(e,a,t){},312:function(e,a,t){},313:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),c=t.n(l),m=t(34),u=t(9),o=t(10),s=t(321),i=t(315),p=t(316),h=t(319),E=t(322),d=t(92),g=s.a.Option,f=function(e){return r.a.createElement(i.a,{justify:"center"},r.a.createElement(p.a,{sm:24,md:22,lg:18,xl:14,xxl:12},r.a.createElement(h.a,{layout:"vertical"},r.a.createElement(i.a,{gutter:8},r.a.createElement(p.a,null,r.a.createElement(h.a.Item,null,r.a.createElement(s.a,{defaultValue:"1"},r.a.createElement(g,{value:"1"},"Nh\xe0"),r.a.createElement(g,{value:"2"},"\u0110\u1ea5t")))),r.a.createElement(p.a,{flex:1},r.a.createElement(h.a.Item,null,r.a.createElement(E.a,{placeholder:"Nh\u1eadp t\u1eeb kh\xf3a t\xecm ki\u1ebfm"}))),r.a.createElement(p.a,null,r.a.createElement(h.a.Item,null,r.a.createElement(d.a,{type:"primary"},"T\xecm ki\u1ebfm")))),r.a.createElement(i.a,{gutter:"8"},r.a.createElement(p.a,{flex:"1"},r.a.createElement(h.a.Item,{label:"T\u1ec9nh/th\xe0nh ph\u1ed1"},r.a.createElement(s.a,{defaultValue:"1"},r.a.createElement(g,{value:"1"},"C\u1ea7n Th\u01a1")))),r.a.createElement(p.a,{flex:"1"},r.a.createElement(h.a.Item,{label:"Qu\u1eadn/huy\u1ec7n"},r.a.createElement(s.a,{defaultValue:"1"},r.a.createElement(g,{value:"1"},"Ninh Ki\u1ec1u")))),r.a.createElement(p.a,{flex:"1"},r.a.createElement(h.a.Item,{label:"Ph\xf2ng ng\u1ee7"},r.a.createElement(E.a,{type:"number",defaultValue:"1"}))),r.a.createElement(p.a,{flex:"1"},r.a.createElement(h.a.Item,{label:"Ph\xf2ng t\u1eafm"},r.a.createElement(E.a,{type:"number",defaultValue:"1"})))),r.a.createElement(i.a,{gutter:8,align:"bottom",justify:"center"},r.a.createElement(p.a,{flex:"0 0 150px"},r.a.createElement(h.a.Item,{label:"Gi\xe1"},r.a.createElement(E.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(p.a,{flex:"0 0 150px"},r.a.createElement(h.a.Item,null,r.a.createElement(E.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(p.a,{flex:"0 0 100px"},r.a.createElement(h.a.Item,{label:"Di\u1ec7n t\xedch"},r.a.createElement(E.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(p.a,{flex:"0 0 100px"},r.a.createElement(h.a.Item,null,r.a.createElement(E.a,{type:"number",defaultValue:0,min:0}))),r.a.createElement(p.a,{flex:"0 0 150px"},r.a.createElement(h.a.Item,{label:"N\u0103m x\xe2y d\u1ef1ng"},r.a.createElement(E.a,{type:"number",defaultValue:(new Date).getFullYear(),min:0})))))))},b=t(317),k=t(320),y=(t(276),t(17)),v=t(27),O=t.n(v),j=t(43),x=t(38),w=t.n(x);function I(e){return w.a.get("".concat("https://homedey.herokuapp.com/api","/user/profile/"),{headers:{Authorization:"Bearer ".concat(e)}})}function N(e){return w.a.post("".concat("https://homedey.herokuapp.com/api","/auth/login/"),e)}function _(e){return{type:"LOGIN",payload:e}}function T(e){return function(){var a=Object(j.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N(e);case 3:n=a.sent,r=n.data.data,t(_(r)),t(V(r)),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}function V(e){return function(){var a=Object(j.a)(O.a.mark((function a(t){var n;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I(e);case 3:n=a.sent,t({type:"GET_PROFILE",payload:n.data.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log({error:a.t0});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}function S(){return localStorage.removeItem("user"),{type:"LOGOUT"}}var F=t(324),P=b.a.Header,q=function(e){var a=Object(o.h)(),t=Object(y.b)(),n=Object(y.c)((function(e){return e.userState})).user,l=localStorage.getItem("user"),c=Object(F.a)(["token"]),s=Object(m.a)(c,3)[2];return r.a.createElement(P,{className:"header"},r.a.createElement(u.b,{className:"header_brand",to:"/"},r.a.createElement("img",{src:"".concat("/homedey","/images/logo.svg"),alt:"Homedey",width:"32"})),r.a.createElement(k.a,{className:"header_menu",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},[{name:"Th\xf4ng tin",path:"/thong-tin"},{name:"B\u1ea5t \u0111\u1ed9ng s\u1ea3n",path:"/bat-dong-san"},{name:"D\u1ef1 \xe1n",path:"/du-an"},{name:"Tin t\u1ee9c",path:"/tin-tuc"}].map((function(e){return r.a.createElement(k.a.Item,{key:e.path},r.a.createElement(u.b,{to:e.path},e.name))}))),n||l?r.a.createElement(k.a,{className:"header_menu header_menu--auth",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},r.a.createElement(k.a.Item,{key:"/me"},r.a.createElement(u.b,{to:"/me"},n?n.first_name+" "+n.last_name:l)),r.a.createElement(k.a.Item,{key:"/dang-xuat"},r.a.createElement(u.b,{to:"/",onClick:function(){t(S()),s("token"),localStorage.removeItem("user")}},"\u0110\u0103ng xu\u1ea5t"))):r.a.createElement(k.a,{className:"header_menu header_menu--auth",theme:"dark",mode:"horizontal",selectedKeys:[a.pathname]},r.a.createElement(k.a.Item,{key:"/dang-nhap"},r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp")),r.a.createElement(k.a.Item,{key:"/dang-ky"},r.a.createElement(u.b,{to:"/dang-ky"},"\u0110\u0103ng k\xfd"))))},L=(t(301),b.a.Content),C=function(e){return r.a.createElement(b.a,{className:"layout"},r.a.createElement(q,null),r.a.createElement(L,{className:"layout_content"},e.children))},G=function(e){return r.a.createElement(C,null,r.a.createElement("div",{className:"page-home"},r.a.createElement("section",{className:"header"},r.a.createElement("div",{className:"header_wrapper"},r.a.createElement("h1",{className:"header_heading"},"Homedey"))),r.a.createElement("div",{className:"search-form"},r.a.createElement(f,null))))},K=function(e){return r.a.createElement(C,null,r.a.createElement("div",null,"About page"))},D=function(e){return r.a.createElement(C,null,r.a.createElement("div",null,"Listings page"))},H=function(e){return r.a.createElement(C,null,r.a.createElement("div",null,"News page"))},Q=t(318),B=t(325),z=t(326),M=function(e){return r.a.createElement("div",{className:"auth-form"},e.children)},R=function(e){var a=Object(y.b)(),t=Object(o.g)(),l=Object(n.useState)(!1),c=Object(m.a)(l,2),s=c[0],i=c[1],p=Object(o.h)(),g=Object(F.a)(["token"]),f=Object(m.a)(g,2)[1],b=Object(y.c)((function(e){return e.userState})),k=function(){var e=Object(j.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,n=t,e.next=5,a(T(n));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log({error:e.t0});case 10:i(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=b.user,a=b.token;if(e&&a){f("token",a,{maxAge:604800}),localStorage.setItem("user",e.first_name+" "+e.last_name);var n=p.search;if(n.length>0){var r=new URLSearchParams(n).get("next");r.length>0&&t.replace(r)}else t.replace("/")}})),r.a.createElement(M,null,r.a.createElement("h2",null,"\u0110\u0103ng nh\u1eadp"),r.a.createElement(Q.a,null),r.a.createElement(h.a,{layout:"vertical",onFinish:k,noValidate:!0},r.a.createElement(h.a.Item,{label:"\u0110\u1ecba ch\u1ec9 email",htmlFor:"email",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(E.a,{id:"email",type:"email",prefix:r.a.createElement(B.a,null)})),r.a.createElement(h.a.Item,{label:"M\u1eadt kh\u1ea9u",htmlFor:"password",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}]},r.a.createElement(E.a.Password,{id:"password",prefix:r.a.createElement(z.a,null)})),r.a.createElement("p",null,r.a.createElement(u.b,{to:"/quen-mat-khau"},"Qu\xean m\u1eadt kh\u1ea9u")),r.a.createElement(h.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",loading:s,block:!0},"\u0110\u0103ng nh\u1eadp")),r.a.createElement("p",{className:"text-center"},"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",r.a.createElement(u.b,{to:"/dang-ky"},"\u0110\u0103ng k\xfd"))))},U=function(e){return r.a.createElement(C,null,r.a.createElement("div",{className:"page-auth"},r.a.createElement(R,null)))},A=t(323);var W=function(e){var a=Object(o.g)(),t=Object(n.useState)(!1),l=Object(m.a)(t,2),c=l[0],s=l[1],g=function(){var e=Object(j.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,r=t,w.a.post("".concat("https://homedey.herokuapp.com/api","/auth/signup/"),r);case 4:n=e.sent,A.a.success({message:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng",description:"Vui l\xf2ng x\xe1c nh\u1eadn t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n b\u1eb1ng email \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ec3 \u0111\u0103ng nh\u1eadp.",duration:2e3,onClose:function(){a.replace("/dang-nhap")}}),console.log(n),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:s(!1);case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(M,null,r.a.createElement("h2",null,"\u0110\u0103ng k\xfd"),r.a.createElement(Q.a,null),r.a.createElement(h.a,{layout:"vertical",onFinish:g,noValidate:!0},r.a.createElement(i.a,{gutter:10,style:{flexWrap:"nowrap"}},r.a.createElement(p.a,null,r.a.createElement(h.a.Item,{label:"H\u1ecd",htmlFor:"first-name",name:"first_name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\u1ecd"}]},r.a.createElement(E.a,{id:"first-name"}))),r.a.createElement(p.a,null,r.a.createElement(h.a.Item,{label:"T\xean",htmlFor:"last-name",name:"last_name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean"}]},r.a.createElement(E.a,{id:"last-name"})))),r.a.createElement(h.a.Item,{label:"\u0110\u1ecba ch\u1ec9 email",htmlFor:"email",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"},{type:"email",message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}]},r.a.createElement(E.a,{id:"email",type:"email"})),r.a.createElement(h.a.Item,{label:"M\u1eadt kh\u1ea9u",htmlFor:"password",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}],hasFeedback:!0},r.a.createElement(E.a.Password,{id:"password"})),r.a.createElement(h.a.Item,{label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",htmlFor:"confirm-password",name:"confirmPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp nhau"):Promise.resolve()}}}],hasFeedback:!0},r.a.createElement(E.a.Password,{id:"confirm-password"})),r.a.createElement(h.a.Item,null,r.a.createElement(d.a,{type:"primary",loading:c,htmlType:"submit",block:!0},"\u0110\u0103ng k\xfd")),r.a.createElement("p",{className:"text-center"},"\u0110\xe3 c\xf3 t\xe0i kho\u1ea3n? ",r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp"))))},X=function(e){return r.a.createElement(C,null,r.a.createElement("div",{className:"page-auth"},r.a.createElement(W,null)))},J=function(e){return r.a.createElement(C,null,r.a.createElement("div",null,"Projects page"))},Y=function(e){return r.a.createElement("div",{className:"page-auth"},r.a.createElement(M,null,r.a.createElement("h2",null,"X\xe1c th\u1ef1c t\xe0i kho\u1ea3n"),r.a.createElement(Q.a,null),r.a.createElement("p",null,"T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t, vui l\xf2ng ",r.a.createElement(u.b,{to:"/dang-nhap"},"\u0110\u0103ng nh\u1eadp")," \u0111\u1ec3 b\u1eaft \u0111\u1ea7u.")))},$=function(e){return r.a.createElement("div",null,"T\u1ed5ng quan")},Z=function(e){return r.a.createElement("div",null,"Tin t\u1ee9c")},ee=function(e){return r.a.createElement("div",null,"D\u1ef1 \xe1n")},ae=function(e){return function(a){var t=Object(y.c)((function(e){return e.userState})).user,n=Object(o.h)();return t?t.is_staff?r.a.createElement(e,a):(A.a.error({message:"L\u1ed7i",description:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp v\xe0o trang n\xe0y"}),r.a.createElement(o.a,{to:"/"})):r.a.createElement(o.a,{to:"/dang-nhap?next=".concat(n.pathname)})}},te=(t(310),b.a.Header),ne=b.a.Sider,re=b.a.Content,le=ae((function(e){var a=Object(o.i)().path,t=Object(o.h)().pathname,n=[{path:"".concat(a,"/"),name:"T\u1ed5ng quan"},{path:"".concat(a,"/bds"),name:"Qu\u1ea3n l\xfd b\u1ea5t \u0111\u1ed9ng s\u1ea3n"},{path:"".concat(a,"/du-an"),name:"Qu\u1ea3n l\xfd d\u1ef1 \xe1n"},{path:"".concat(a,"/tin-tuc"),name:"Qu\u1ea3n l\xfd tin t\u1ee9c"},{path:"".concat(a,"/nguoi-dung"),name:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"}];return r.a.createElement(u.a,null,r.a.createElement(b.a,{className:"admin-layout"},r.a.createElement(te,{className:"admin-layout_header"},r.a.createElement(u.b,{to:"/",className:"admin-layout_brand"},r.a.createElement("img",{src:"".concat("/homedey","/images/logo.svg"),alt:"Homedey",width:32}))),r.a.createElement(b.a,null,r.a.createElement(ne,{width:200,className:"admin-layout_sider"},r.a.createElement(k.a,{theme:"dark",mode:"vertical",selectedKeys:[t]},n.map((function(e){return r.a.createElement(k.a.Item,{key:e.path},r.a.createElement(u.b,{to:"".concat(e.path)},e.name))})))),r.a.createElement(re,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"".concat(a,"/"),exact:!0,component:$}),r.a.createElement(o.b,{path:"".concat(a,"/tin-tuc"),component:Z}),r.a.createElement(o.b,{path:"".concat(a,"/du-an"),component:ee}))))))})),ce=function(e){var a=Object(F.a)(["token"]),t=Object(m.a)(a,1)[0],l=Object(y.b)(),c=Object(y.c)((function(e){return e.userState}));return Object(n.useEffect)((function(){t.token&&!c.token&&localStorage.user&&(l({type:"SET_TOKEN",payload:t.token}),l(V(t.token)))})),r.a.createElement(u.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:G}),r.a.createElement(o.b,{path:"/thong-tin",component:K}),r.a.createElement(o.b,{path:"/bat-dong-san",component:D}),r.a.createElement(o.b,{path:"/du-an",component:J}),r.a.createElement(o.b,{path:"/tin-tuc",component:H}),r.a.createElement(o.b,{path:"/dang-nhap",component:U}),r.a.createElement(o.b,{path:"/dang-ky",component:X}),r.a.createElement(o.b,{path:"/verify-email",component:Y}),r.a.createElement(o.b,{path:"/admin",component:le})))};t(311),t(312),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=t(40),ue=t(141),oe=t(32),se={user:null,token:null};var ie=Object(me.c)({userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(oe.a)(Object(oe.a)({},e),{},{token:a.payload});case"GET_PROFILE":return Object(oe.a)(Object(oe.a)({},e),{},{user:a.payload});case"LOGOUT":return Object(oe.a)(Object(oe.a)({},e),{},{user:null,token:null});case"SET_TOKEN":return Object(oe.a)(Object(oe.a)({},e),{},{user:null,token:a.payload});default:return Object(oe.a)({},e)}}}),pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,he=Object(me.e)(ie,pe(Object(me.a)(ue.a)));w.a.interceptors.response.use((function(e){return e}),(function(e){var a="",t="";if(e.response){if(401===e.response.status||403===e.response.status)return he.dispatch(S());e.response.data&&(a=e.response.data.code,t=e.response.data.message)}else e.request,a=e.status,t=e.message;A.a.error({message:"L\u1ed7i (".concat(a,")"),description:t})})),c.a.render(r.a.createElement(y.a,{store:he},r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.863faeaa.chunk.js.map