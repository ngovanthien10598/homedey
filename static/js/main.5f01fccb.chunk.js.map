{"version":3,"sources":["services/apiPrefix.js","services/user/address.js","forms/SearchForm/SearchForm.jsx","services/user/profile.js","services/auth/login.js","store/actions/user.action.js","store/actionTypes.js","services/user/real-estate-category.js","components/Header/Header.jsx","layouts/MainLayout/MainLayout.jsx","pages/index.jsx","utils/number.js","utils/string.js","components/RealEstate/RealEstate.jsx","layouts/LayoutWithAside/LayoutWithAside.jsx","services/user/real-estate.js","store/actions/loading.action.js","pages/real-estate/index.jsx","pages/about.jsx","components/News/News.jsx","services/user/news.js","services/user/news-category.js","pages/news/index.jsx","containers/AuthForm/AuthForm.jsx","forms/LoginForm/LoginForm.jsx","pages/login.jsx","forms/RegisterForm/RegisterForm.jsx","services/auth/register.js","pages/register.jsx","components/Project/Project.jsx","services/user/project-category.js","services/user/project.js","pages/projects/index.jsx","components/LLMap/LLMap.jsx","pages/projects/project-details.jsx","pages/verify-email.jsx","HOCs/withUserRoute.jsx","components/UploadPictures/UploadPictures.jsx","forms/UserForm/UserForm.jsx","services/auth/user.js","forms/ChangePasswordForm/ChangePasswordForm.jsx","pages/user/index.jsx","services/user/listing.js","forms/RealEstateForm/RealEstateForm.jsx","pages/user/real-estate.jsx","components/MapMarker/MapMarker.jsx","components/UploadButton/UploadButton.jsx","components/UploadPreview/UploadPreview.jsx","forms/CreateRealEstateForm/CreateRealEstateForm.jsx","pages/user/real-estate-create.jsx","services/admin/real-estate.js","pages/shared/real-estate-detail.jsx","layouts/UserLayout/UserLayout.jsx","pages/admin/index.jsx","pages/admin/real-estate.jsx","forms/CreateNewsForm/CreateNewsForm.jsx","services/admin/news.js","forms/EditNewsForm/EditNewsForm.jsx","pages/admin/news.jsx","services/user/investor.js","services/admin/project-category.js","services/admin/investor.js","services/admin/project.js","components/ProjectCategoryTab/ProjectCategoryTab.jsx","components/ProjectInvestorTab/ProjectInvestorTab.jsx","components/ProjectTab/ProjectTab.jsx","forms/ProjectCategoryForm/ProjectCategoryForm.jsx","forms/InvestorForm/InvestorForm.jsx","forms/ProjectForm/ProjectForm.jsx","pages/admin/projects.jsx","services/admin/user.js","pages/admin/user.jsx","HOCs/withAdminRoute.jsx","forms/EditNewsCategoryForm/EditNewsCategoryForm.jsx","services/admin/news-category.js","pages/admin/news-category.jsx","layouts/AdminLayout/AdminLayout.jsx","pages/real-estate/real-estate-details.jsx","pages/news/news-details.jsx","App.js","serviceWorker.js","store/reducers/user.reducer.js","store/reducers/loading.reducer.js","store/reducer.js","index.js","store/store.js"],"names":["withAuthorization","token","headers","Authorization","apiPrefix","addressAPI","getAllCitiesAPI","axios","get","getDistrictsByCityAPI","city_id","params","getWardsByDistrictAPI","district_id","getStreetsByDistrictAPI","Option","Select","SearchForm","props","useState","isLoading","setIsLoading","cities","setCities","districts","setDistricts","history","useHistory","a","response","data","console","log","useEffect","getAllCities","justify","sm","md","lg","xl","xxl","layout","onFinish","values","searchParams","obj","Object","keys","forEach","key","undefined","str","p","hasOwnProperty","push","encodeURIComponent","join","serialize","gutter","Item","name","initialValue","value","flex","placeholder","type","htmlType","label","loading","disabled","onChange","map","city","id","prefix","district","align","endpointPrefix","updateAvatarAPI","image","formData","FormData","append","patch","loginAPI","body","post","loginAction","dispatch","loginRes","responseData","access_token","refresh_token","Cookies","set","expires","setAccessToken","setRefreshToken","getProfileAction","getProfileRes","payload","error","logoutAction","localStorage","removeItem","remove","getAllRealEstateCategoriesAPI","Header","Layout","PageHeader","location","useLocation","useDispatch","categories","setCategories","userState","useSelector","state","loadingState","user","userLocal","getItem","href","window","getCategories","className","isDashboard","indeterminate","to","src","process","alt","width","theme","mode","selectedKeys","pathname","includes","title","filter","c","for_rent","slug","path","menu","is_staff","first_name","last_name","onClick","replace","Content","MainLayout","children","HomePage","priceWithThousandSpace","price","toString","truncateText","text","maxLength","delimiter","length","substr","getShortAddressString","addressObj","ward","getAddressString","street","RealEstate","thumbnail","realEstate","addressStr","address","div","document","createElement","innerHTML","detail","detailStr","innerText","images","url","dangerouslySetInnerHTML","__html","icon","faCoins","faBorderAll","area","faMapMarkerAlt","faCalendar","Date","created_at","toLocaleDateString","LayoutWithAside","style","marginTop","featured","index","latest","getRealEstateForSaleAPI","query","getRealEstateForRentAPI","createRealEstateAPI","getRealEstateDetailsAPI","getFeaturedRealEstatesAPI","limit","setLoading","RealEstatePage","setRealEstate","featuredRealEstates","setFeaturedRealEstates","search","URLSearchParams","getAllRealEstate","getRealEstateForSale","getRealEstateForRent","newSearchParams","delete","getFeatured","results","slice","item","AboutPage","News","news","content","news_category","contentStr","CalendarOutlined","getAllNewsAPI","getNewsDetailsAPI","getNewsByCategoryAPI","categorySlug","getAllNewsCategoriesAPI","NewsPage","newsCategories","setNewsCategories","setNews","category","getNewsCategories","getNewsByCategory","getAllNews","Helmet","color","n","AuthForm","LoginForm","next","handleLogin","accessToken","setItem","message","noValidate","htmlFor","rules","required","MailOutlined","Password","KeyOutlined","block","LoginPage","RegisterForm","handleRegister","registerRes","notification","success","description","duration","onClose","flexWrap","hasFeedback","getFieldValue","validator","rule","Promise","reject","resolve","RegisterPage","Project","project","bordered","cover","Meta","getAllProjectCategoriesAPI","getAllProjectsAPI","getProjectsByCategoryAPI","category_slug","getProjectDetailsAPI","getProjectsByDistrictAPI","ProjectsPage","projectCategories","setProjectCategories","projects","setProjects","getProjectCategories","getProjectsByCategory","getAllProjects","LLMap","Map","center","lng","lat","zoom","onclick","e","latlng","TileLayer","attribution","Marker","position","ProjectDetails","projectDetails","setProjectDetails","useRouteMatch","getProjectDetails","xs","autoplay","latitude","longitude","project_investor","avatar","VerifyPage","withUserRoute","Component","getBase64","file","reader","FileReader","readAsDataURL","onload","result","onerror","UploadPictures","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","handlePreview","preview","originFileObj","uploadButton","PlusOutlined","listType","fileList","onPreview","beforeUpload","visible","footer","onCancel","Form","UserForm","imageList","setImageList","DOB","toISOString","put","maxWidth","size","charAt","email","readOnly","phone","useForm","ChangePasswordForm","form","handleChangePassword","resetFields","UserHomePage","getUserRealEstateAPI","getUserRealEstateDetailsAPI","realEstateId","updateRealEstateAPI","real_estate_id","uploadRealEstateImagesAPI","RealEstateForm","wards","setWards","streets","setStreets","forRent","setForRent","getDistrictsByCity","getWardsStreetsProjectsByDistrict","all","wardRes","streetRes","projectRes","getAllProjectCategories","getAllcities","lot_size","bedroom","bathroom","year_build","real_estate_category","cat","height","UserRealEstatePage","realEstateForm","imageIds","setImageIds","selectedRealEstate","setSelectedRealEstate","action","setAction","isModalShow","setModalState","tableColumns","dataIndex","render","record","status","handleEditClick","EditOutlined","onConfirm","handleDeleteRealEstate","danger","DeleteOutlined","getUserRealEstate","handleCreateRealEstate","originFileList","image_ids","real_estate_category_id","ward_id","street_id","handleUpdateRealEstate","old_image_ids","uid","rowKey","columns","dataSource","afterClose","destroyOnClose","confirmLoading","onOk","validateFields","then","MapMarker","UploadButton","ref","inputRef","accept","multiple","UploadPreview","base64","setBase64","TextArea","Input","CreateRealEstateForm","isLoadingRECategories","setLoadingRECategories","isLoadingCities","setLoadingCities","isLoadingDistricts","setLoadingDistricts","isLoadingWards","setLoadingWards","isLoadingStreets","setLoadingStreets","isLoadingProjects","setLoadingProjects","RECategories","setRECategories","setFileList","clickedPosition","setClickedPosition","setType","fileRef","useRef","getRealEstateCategories","RECategoriesResponse","getCities","getAllCitiesReponse","handleCityChange","cityId","getDistrictsResponse","handleDistrictChange","districtId","getWardsResponse","getStreetsResponse","getProjectsResponse","handleSubmit","uploadResponse","project_id","getData","scrollToFirstError","pattern","suffix","min","defaultValue","toUpperCase","rows","showSearch","files","target","prevValue","current","UserRealEstateCreatePage","approveRealEstateAPI","is_active","RealEstateDetails","realEstateDetails","setRealEstateDetails","isLoadingRealEstateDetails","setLoadingRealEstateDetails","getRealEstateDetails","colSpan","streetStr","wardStr","districtStr","cityStr","active","paragraph","Sider","adminRoutes","breakpoint","collapsedWidth","route","exact","component","AdminHomePage","AdminRealestatePage","handleViewClick","EyeFilled","handleApprove","CheckOutlined","handleReject","DeleteFilled","getRealEstate","closeModal","adaptiveHeight","CreateNewsForm","setContent","uploadNewsImage","EditNewsForm","AdminNewsPage","isLoadingNews","setLoadingNews","createForm","editForm","setImages_ids","selectedNews","setSelectedNews","_","handleDelete","onUploadChange","handleCreate","image_ids_uploaded","newsBody","news_category_id","createResponse","newState","unshift","handleEdit","old_images_ids","new_images","news_id","updateResponse","updatedNews","findIndex","splice","handleBeforeUpload","display","marginLeft","getAllInvestorsAPI","createInvestorAPI","updateInvestorAPI","investor_id","updateInvestorAvatarAPI","createProjectAPI","updateProjectAPI","uploadProjectImagesAPI","ProjectCategoryTab","onEditClick","onDeleteClick","ProjectInvestorTab","investors","ProjectTab","ProjectCategoryForm","InvestorForm","investor","getWardsAndStreetsByDistrict","website","ProjectForm","setInvestors","wardsRes","streetsRes","cityRes","categoryRes","investorRes","project_category","AdminProjectsPage","tab","setTab","selectedCategory","setSelectedCategory","selectedProject","setSelectedProject","selectedInvestor","setSelectedInvestor","setIsModalShow","projectCategoryForm","projectForm","investorForm","getAllInvestors","handleCreateClick","handleCreateCategory","handleUpdateCategory","category_id","handleDeleteCategory","handleCreateInvestor","object","handleUpdateInvestor","handleDeleteInvestor","handleCreateProject","upload_response","project_category_id","project_investor_id","handleUpdateProject","handleDeleteProject","handleImageChange","tabBarExtraContent","TabPane","getAllUsersAPI","page","AdminUserPage","users","setUsers","CheckCircleFilled","blockUser","unblockUser","getAllUsers","user_id","pagination","total","count","withAdminRoute","EditNewsCategoryForm","createNewsCategoryAPI","updateNewsCategoryAPI","AdminNewsCategoryPage","isLoadingNewsCategories","setLoadingNewsCategories","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","newItem","forceRender","withAdminRote","RealEstateDetailsPage","NewsDetailsPage","newsDetails","setNewsDetails","getNewsDetails","App","ProjectDetailsPage","UserLayout","AdminLayout","Boolean","hostname","match","initialState","refreshToken","store","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","interceptors","request","use","config","origionalRequest","_retry","res","catch","err","code","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4mBAEaA,EAAoB,SAAAC,GAC/B,MAAO,CACLC,QAAS,CACPC,cAAc,UAAD,OAAYF,MAKhBG,EAVG,oCCGZC,EAAaD,EAAY,gBAExB,SAASE,IACd,OAAOC,IAAMC,IAAN,UAAaH,EAAb,yBAWF,SAASI,EAAsBC,GACpC,OAAOH,IAAMC,IAAN,UAAaH,EAAb,cAAqC,CAC1CM,OAAQ,CACND,QAASA,KAKR,SAASE,EAAsBC,GACpC,OAAON,IAAMC,IAAN,UAAaH,EAAb,UAAiC,CACtCM,OAAQ,CACNE,YAAaA,KAKZ,SAASC,EAAwBD,GACtC,OAAON,IAAMC,IAAN,UAAaH,EAAb,YAAmC,CACxCM,OAAQ,CACNE,YAAaA,K,IC/BXE,EAAWC,IAAXD,OA8IOE,EA5II,SAAAC,GAAU,IAAD,EAEQC,oBAAS,GAFjB,mBAEnBC,EAFmB,KAERC,EAFQ,OAGEF,mBAAS,MAHX,mBAGnBG,EAHmB,KAGXC,EAHW,OAIQJ,mBAAS,MAJjB,mBAInBK,EAJmB,KAIRC,EAJQ,KAKpBC,EAAUC,cALU,4CAO1B,4BAAAC,EAAA,6DACEP,GAAa,GADf,kBAG2Bf,IAH3B,OAGUuB,EAHV,OAIIN,EAAUM,EAASC,MAJvB,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAP0B,kEAkB1B,WAAkCX,GAAlC,eAAAkB,EAAA,6DACEP,GAAa,GADf,kBAG2BZ,EAAsBC,GAHjD,OAGUmB,EAHV,OAIIJ,EAAaI,EAASC,MAJ1B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAlB0B,sBAgD1B,OAJAY,qBAAU,YA5CgB,mCA6CxBC,KACC,IAGD,kBAAC,IAAD,CAAKC,QAAQ,UACX,kBAAC,IAAD,CAAKC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,IAAK,IACxC,kBAAC,IAAD,CAAMC,OAAO,WAAWC,SAZT,SAAAC,GACnB,IAAMC,EAXU,SAASC,GACzBC,OAAOC,KAAKF,GAAKG,SAAQ,SAAAC,GAAG,YAAiBC,IAAbL,EAAII,UAA4BJ,EAAII,GAAO,MAC3E,IAAIE,EAAM,GACV,IAAK,IAAIC,KAAKP,EACRA,EAAIQ,eAAeD,IACrBD,EAAIG,KAAKC,mBAAmBH,GAAK,IAAMG,mBAAmBV,EAAIO,KAElE,OAAOD,EAAIK,KAAK,KAIKC,CAAUd,GAC/BjB,EAAQ4B,KAAR,uBAA6BV,MAWvB,kBAAC,IAAD,CAAKc,OAAQ,GACX,kBAAC,IAAD,KACE,kBAAC,IAAKC,KAAN,CAAWC,KAAK,WAAWC,cAAc,GACvC,kBAAC,IAAD,KACE,kBAAC9C,EAAD,CAAQ+C,OAAO,GAAf,UACA,kBAAC/C,EAAD,CAAQ+C,OAAO,GAAf,kBAIN,kBAAC,IAAD,CAAKC,KAAM,GACT,kBAAC,IAAKJ,KAAN,CAAWC,KAAK,UACd,kBAAC,IAAD,CAAOI,YAAY,iDAGvB,kBAAC,IAAD,KACE,kBAAC,IAAKL,KAAN,KACE,kBAAC,IAAD,CAAQM,KAAK,UAAUC,SAAS,UAAhC,uBAIN,kBAAC,IAAD,CAAKR,OAAO,KACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,8BAAiBP,KAAK,oCACrC,kBAAC,IAAD,CAAQQ,QAAShD,EAAWiD,UAAW/C,EAAQgD,SA3EnC,6CA2EZ,OAEIhD,QAFJ,IAEIA,OAFJ,EAEIA,EAAQiD,KAAI,SAAAC,GACV,OAAO,kBAACzD,EAAD,CAAQkC,IAAKuB,EAAKC,GAAIX,MAAOU,EAAKC,IAAKD,EAAKE,OAAS,IAAMF,EAAKZ,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,uBAAaP,KAAK,8BACjC,kBAAC,IAAD,CAAQQ,QAAShD,EAAWiD,UAAW7C,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAW+C,KAAI,SAAAI,GACb,OAAO,kBAAC5D,EAAD,CAAQkC,IAAK0B,EAASF,GAAIX,MAAOa,EAASF,IAAKE,EAASD,OAAS,IAAMC,EAASf,YAOjG,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,oBAAYP,KAAK,WAChC,kBAAC,IAAD,CAAOK,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,oBAAYP,KAAK,YAChC,kBAAC,IAAD,CAAOK,KAAK,cAIlB,kBAAC,IAAD,CAAKP,OAAQ,EAAGkB,MAAM,SAASzC,QAAQ,UACrC,kBAAC,IAAD,CAAK4B,KAAK,aACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,eAAYP,KAAK,cAChC,kBAAC,IAAD,CAAOK,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,aACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,eAAYP,KAAK,cAChC,kBAAC,IAAD,CAAOK,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,aACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,0BAAkBP,KAAK,iBACtC,kBAAC,IAAD,CAAOK,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,aACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,0BAAkBP,KAAK,iBACtC,kBAAC,IAAD,CAAOK,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,aACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,4BAAeP,KAAK,cACnC,kBAAC,IAAD,CAAOK,KAAK,kB,kCCvItBY,EAAc,UAAMzE,EAAN,iBAcb,SAAS0E,EAAgB7E,EAAO8E,GACrC,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBxE,IAAM4E,MAAN,UAAeN,EAAf,YAAyCG,EAAUhF,EAAkBC,IChBvE,SAASmF,EAASC,GACvB,OAAO9E,IAAM+E,KAAN,UAAclF,EAAd,gBAAuCiF,G,qBCSzC,SAASE,EAAYF,GAC1B,8CAAO,WAAMG,GAAN,qBAAA5D,EAAA,+EAEoBwD,EAASC,GAF7B,OAEGI,EAFH,OAGGC,EAAeD,EAAS3D,KACxB6D,EAAeD,EAAa5D,KAAK6D,aACjCC,EAAgBF,EAAa5D,KAAK8D,cACxCC,IAAQC,IAAI,SAAUH,EAAc,CAAEI,QAAS,MAC/CF,IAAQC,IAAI,UAAWF,EAAe,CAAEG,QAAS,QACjDP,EAASQ,EAAeL,IACxBH,EAASS,EAAgBL,IACzBJ,EAASU,EAAiBP,IAVvB,kDAYH5D,QAAQC,IAAR,MAZG,0DAAP,sDAiBK,SAASkE,EAAiBP,GAC/B,8CAAO,WAAMH,GAAN,eAAA5D,EAAA,+EF5BqB3B,EE8BkB0F,EF7BvCpF,IAAMC,IAAN,UAAaqE,EAAb,KAAgC,CACrC3E,QAAS,CACPC,cAAc,UAAD,OAAYF,MEyBtB,OAEGkG,EAFH,OAGHX,EA7BG,CACLvB,KCLuB,cDMvBmC,QA2B6BD,EAAcrE,KAAKA,OAH3C,gDAKHC,QAAQC,IAAI,CAAEqE,MAAM,EAAD,KALhB,kCA3BT,IFD8BpG,IE4BrB,oBAAP,sDAUK,SAASqG,IAId,OAHAC,aAAaC,WAAW,QACxBX,IAAQY,OAAO,UACfZ,IAAQY,OAAO,WACR,CACLxC,KC9CkB,UDkDf,SAAS+B,EAAeL,GAE7B,OADAE,IAAQC,IAAI,SAAUH,EAAc,CAAEI,QAAS,MACxC,CACL9B,KCnD4B,mBDoD5BmC,QAAST,GAIN,SAASM,EAAgBL,GAE9B,OADAC,IAAQC,IAAI,UAAWF,EAAe,CAAEG,QAAS,QAC1C,CACL9B,KC1D6B,oBD2D7BmC,QAASR,GE5DN,SAASc,IACd,OAAOnG,IAAMC,IAAN,UAAaJ,EAAb,gC,wCCODuG,EAAWC,IAAXD,OA4GOE,EA1GI,SAAC3F,GAElB,IAKM4F,EAAWC,cACXrF,EAAUC,cACV6D,EAAWwB,cATW,EAUQ7F,mBAAS,MAVjB,mBAUrB8F,EAVqB,KAUTC,EAVS,KAWtBC,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aACvCG,EAAeF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBACxCC,EAASJ,EAATI,KACFC,EAAYjB,aAAakB,QAAQ,QACjCC,EAAOC,OAAOb,SAASY,KAE7BzF,qBAAU,YACW,uCAAG,4BAAAL,EAAA,sEACG8E,IADH,OACd7E,EADc,OAEpBqF,EAAcrF,EAASC,MAFH,2CAAH,qDAInB8F,KACC,IAOH,OACE,kBAAC,EAAD,CAAQC,UAAS,gBAAW3G,EAAM4G,YAAc,qBAAuB,KACrE,yBAAKD,UAAU,kBAEXP,EAAalD,SACb,kBAAC,IAAD,CAAgByD,UAAU,wBAAwBE,eAAe,KAIrE,kBAAC,IAAD,CAAMF,UAAU,eAAeG,GAAG,KAChC,yBAAKC,IAAG,UAAKC,WAAL,oBAA+CC,IAAI,UAAUC,MAAM,SAI1ElH,EAAM4G,aACP,kBAAC,IAAD,CAAMD,UAAU,cAAcQ,MAAM,OAAOC,KAAK,aAAaC,aAAc,CAACzB,EAAS0B,WACnF,kBAAC,IAAD,CACEX,UAAS,UAAKH,EAAKe,SAAS,+BAAiC,0BAA4B,IACzFC,MAAO,kBAAC,IAAD,CAAMV,GAAG,8BAA8BH,UAAU,kBAAjD,gCAELZ,GACAA,EAAW0B,QAAO,SAAAC,GAAC,OAAKA,EAAEC,YAAUtE,KAAI,SAAAqE,GACtC,OAAO,kBAAC,IAAKjF,KAAN,CAAWV,IAAG,oBAAe2F,EAAEnE,KACpC,kBAAC,IAAD,CAAMuD,GAAE,iEAA4DY,EAAEE,OAAtE,UAAmFF,EAAEhF,WAK7F,kBAAC,IAAD,CACEiE,UAAS,UAAKH,EAAKe,SAAS,8BAAgC,0BAA4B,IACxFC,MAAO,kBAAC,IAAD,CAAMV,GAAG,6BAA6BH,UAAU,kBAAhD,qCAELZ,GACAA,EAAW0B,QAAO,SAAAC,GAAC,OAAIA,EAAEC,YAAUtE,KAAI,SAAAqE,GACrC,OAAO,kBAAC,IAAKjF,KAAN,CAAWV,IAAG,oCAA+B2F,EAAEnE,KACpD,kBAAC,IAAD,CAAMuD,GAAE,gEAA2DY,EAAEE,OAArE,eAAuFF,EAAEhF,WA/DvF,CAChB,CAAEA,KAAM,gBAASmF,KAAM,YACvB,CAAEnF,KAAM,eAAWmF,KAAM,UAmEPxE,KAAI,SAAAyE,GACZ,OACE,kBAAC,IAAKrF,KAAN,CAAWV,IAAK+F,EAAKD,MACnB,kBAAC,IAAD,CAAMf,GAAIgB,EAAKD,MAAOC,EAAKpF,WAQrC2D,GAAQC,EACN,kBAAC,IAAD,CAAMK,UAAU,gCAAgCQ,MAAM,OAAOC,KAAK,aAAaC,aAAc,CAACzB,EAAS0B,WACrG,kBAAC,IAAK7E,KAAN,CAAWV,IAAI,QACb,kBAAC,IAAD,CAAM+E,GAAE,UAAKT,EAAQA,EAAK0B,SAAW,UAAY,OAAU,KAAO1B,EAAOA,EAAK2B,WAAa,IAAM3B,EAAK4B,UAAY3B,IAEpH,kBAAC,IAAK7D,KAAN,CAAWV,IAAI,WACb,kBAAC,IAAD,CAAM+E,GAAG,IAAIoB,QA/DJ,WACnB1H,EAAQ2H,QAAQ,KAChB7D,EAASc,OA6DC,8BAIJ,kBAAC,IAAD,CAAMuB,UAAU,gCAAgCQ,MAAM,OAAOC,KAAK,aAAaC,aAAc,CAACzB,EAAS0B,WACrG,kBAAC,IAAK7E,KAAN,CAAWV,IAAI,UACb,kBAAC,IAAD,CAAM+E,GAAG,UAAT,6BAEF,kBAAC,IAAKrE,KAAN,CAAWV,IAAI,aACb,kBAAC,IAAD,CAAM+E,GAAG,aAAT,4BCzGNsB,G,OAAY1C,IAAZ0C,SAqBOC,EAnBI,SAAArI,GACjB,OACE,kBAAC,IAAD,CAAQ2G,UAAU,eAChB,kBAAC,EAAD,MACA,kBAACyB,EAAD,CAASzB,UAAU,uBAGf3G,EAAMsI,YCODC,EAjBE,SAAAvI,GACf,OACE,kBAAC,EAAD,KACE,yBAAK2G,UAAU,aACb,6BAASA,UAAU,UACjB,yBAAKA,UAAU,kBACb,wBAAIA,UAAU,kBAAd,aAGJ,yBAAKA,UAAU,eACb,kBAAC,EAAD,U,+CCdH,SAAS6B,GAAuBC,GACrC,OAAOA,EAAMC,WAAWP,QAAQ,wBAAyB,KCapD,SAASQ,GAAaC,GAA0C,IAApCC,EAAmC,uDAAvB,GAAIC,EAAmB,uDAAP,MAC7D,IAAKF,GAAwB,IAAhBA,EAAKG,OAAc,OAAOH,EAQvC,OALIA,EAAKG,OAAUF,EAAYC,EAAUC,OAC9BH,EAAKI,OAAO,EAAGH,GAAaC,EAE5BF,EAKN,SAASK,GAAsBC,GAAa,IAEzCzF,EADSyF,EAATC,KACA1F,SACAH,EAASG,EAATH,KAGR,OAFoBG,EAASD,OAAS,IAAMC,EAASf,KAEhC,MADLY,EAAKE,OAAS,IAAMF,EAAKZ,MAIpC,SAAS0G,GAAiBF,GAE/B,IAAKA,EAAY,MAAO,GAFmB,IAKzCC,EAQED,EARFC,KALyC,EAavCD,EAPFC,KACE1F,EAPuC,EAOvCA,SAEEH,EATqC,EAQvCG,SACEH,KAGJ+F,EACEH,EADFG,OAMF,MAAO,CAJWA,EAAO7F,OAAS,IAAM6F,EAAO3G,KAC/ByG,EAAK3F,OAAS,IAAM2F,EAAKzG,KACrBe,EAASD,OAAS,IAAMC,EAASf,KACrCY,EAAKE,OAAS,IAAMF,EAAKZ,MACSJ,KAAK,MC7CzD,IAyCegH,GAzCI,SAAAtJ,GAAU,IAAD,IAClBuJ,EAA0BvJ,EAA1BuJ,UAAWC,EAAexJ,EAAfwJ,WACfC,EAAa,GACjB,GAAID,EAAY,CAAC,IAGP/F,EAFY+F,EAAZE,QACAP,KACA1F,SACAH,EAASG,EAATH,KAGRmG,EAFoBhG,EAASD,OAAS,IAAMC,EAASf,KAE1B,MADXY,EAAKE,OAAS,IAAMF,EAAKZ,MAI3C,IAAMiH,EAAMC,SAASC,cAAc,OACnCF,EAAIG,UAAJ,OAAgBN,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAYO,OAC5B,IAAMC,EAAYrB,GAAagB,EAAIM,UAAW,KAE9C,OACET,EACE,wBAAI7C,UAAS,qBAAgB4C,EAAY,0BAA4B,KACnE,kBAAC,IAAD,CAAM5C,UAAU,qBAAqBG,GAAE,uBAAkB0C,EAAW5B,OAClE,yBAAKb,KAAK,UAAAyC,EAAWU,OAAO,UAAlB,eAAsBC,MAAO,gCAAiClD,KAAK,UAAAuC,EAAWU,OAAO,UAAlB,eAAsBC,MAAO,mCAE5G,yBAAKxD,UAAU,wBACb,wBAAIA,UAAU,wBACZ,kBAAC,IAAD,CAAMG,GAAE,uBAAkB0C,EAAW5B,OAAS4B,EAAWhC,QAE3D,uBAAGb,UAAU,uBAAuByD,wBAAyB,CAACC,OAAQL,KACtE,yBAAKrD,UAAU,wBACb,0BAAMA,UAAU,sBAAqB,kBAAC,KAAD,CAAiB2D,KAAMC,OAA5D,IAAyE/B,GAAuBgB,EAAWf,OAA3G,aACA,0BAAM9B,UAAU,qBAAoB,kBAAC,KAAD,CAAiB2D,KAAME,OAA3D,IAA4EhB,EAAWiB,KAAvF,KAA8F,oCAEhG,yBAAK9D,UAAU,wBAAuB,kBAAC,KAAD,CAAiB2D,KAAMI,OAA7D,IAAiFjB,GACjF,uBAAG9C,UAAU,qBAAoB,kBAAC,KAAD,CAAiB2D,KAAMK,OAAxD,IAAwE,IAAIC,KAAKpB,EAAWqB,YAAYC,mBAAmB,YAI/H,MCTSC,GA9BS,SAAA/K,GAAU,IAAD,IAE/B,OADAa,QAAQC,IAAId,GAEV,yBAAK2G,UAAU,gBACb,yBAAKA,UAAU,qBAAqB3G,EAAMsI,UAC1C,2BAAO3B,UAAU,sBACf,iDACA,kBAAC,IAAD,CAASqE,MAAO,CAAEC,UAAW,KAC7B,sCAEIjL,EAAMkL,gBAFV,aAEI,EAAgB7H,KAAI,SAACmG,EAAY2B,GAC/B,OACE,kBAAC,GAAD,CAAY5B,WAAS,EAACC,WAAYA,EAAYzH,IAAKyH,EAAWjG,SAItE,oDACA,kBAAC,IAAD,CAASyH,MAAO,CAAEC,UAAW,KAC7B,sCAEIjL,EAAMoL,cAFV,aAEI,EAAc/H,KAAI,SAACmG,EAAY2B,GAC7B,OAAO,kBAAC,GAAD,CAAY5B,WAAS,EAACC,WAAYA,EAAYzH,IAAKyH,EAAWjG,Y,UCzB7EI,GAAc,UAAMzE,EAAN,qBAMb,SAASmM,GAAwBC,GACtC,OAAOjM,IAAMC,IAAN,UAAaqE,GAAb,qBAAwC2H,EAAK,WAAOA,GAAU,KAGhE,SAASC,GAAwBD,GACtC,OAAOjM,IAAMC,IAAN,UAAaqE,GAAb,qBAAwC2H,EAAK,WAAOA,GAAU,KAGhE,SAASE,GAAoBzM,EAAOoF,GACzC,OAAO9E,IAAM+E,KAAN,UAAcT,GAAd,cAA0CQ,EAAMrF,EAAkBC,IAGpE,SAAS0M,GAAwB7D,GACtC,OAAOvI,IAAMC,IAAN,UAAaqE,GAAb,YAA+BiE,EAA/B,MAGF,SAAS8D,KAAsC,IAAZC,EAAW,uDAAH,EAChD,OAAOtM,IAAMC,IAAN,UAAaqE,GAAb,4BAA+CgI,ICvBjD,SAASC,GAAWhJ,GACzB,MAAO,CACLG,KVEuB,cUDvBmC,QAAStC,GCKb,IA6FeiJ,GA7FQ,SAAA7L,GAAU,IAAD,EAEMC,mBAAS,MAFf,mBAEvBuJ,EAFuB,KAEXsC,EAFW,OAGwB7L,mBAAS,MAHjC,mBAGvB8L,EAHuB,KAGFC,EAHE,KAIxB1H,EAAWwB,cACTmG,EAAWpG,cAAXoG,OAEFtE,EADe,IAAIuE,gBAAgBD,GACX3M,IAAI,YAE5B6M,EAAgB,uCAAG,4BAAAzL,EAAA,6DACvB4D,EAASsH,IAAW,IADG,kBFdlBvM,IAAMC,IAAN,UAAaqE,GAAb,MEckB,OAGfhD,EAHe,OAIrBmL,EAAcnL,EAASC,MAJF,gDAMrBC,QAAQC,IAAR,MANqB,QAQvBwD,EAASsH,IAAW,IARG,yDAAH,qDAWhBQ,EAAoB,uCAAG,WAAOd,GAAP,eAAA5K,EAAA,6DAC3B4D,EAASsH,IAAW,IADO,kBAGFP,GAAwBC,GAHtB,OAGnB3K,EAHmB,OAIzBmL,EAAcnL,EAASC,MAJE,gDAMzBC,QAAQC,IAAR,MANyB,QAQ3BwD,EAASsH,IAAW,IARO,yDAAH,sDAWpBS,EAAoB,uCAAG,WAAOf,GAAP,eAAA5K,EAAA,6DAC3B4D,EAASsH,IAAW,IADO,kBAGFL,GAAwBD,GAHtB,OAGnB3K,EAHmB,OAIzBmL,EAAcnL,EAASC,MAJE,gDAMzBC,QAAQC,IAAR,MANyB,QAQ3BwD,EAASsH,IAAW,IARO,yDAAH,sDAuC1B,OA5BA7K,qBAAU,WACR,GAAiB,SAAb4G,EAAqB,CACvB,IAAM2E,EAAkB,IAAIJ,gBAAgBD,GAC5CK,EAAgBC,OAAO,YACvBF,EAAqBC,EAAgB5D,iBAEhC,GAAiB,UAAbf,EAAsB,CAC/B,IAAM2E,EAAkB,IAAIJ,gBAAgBD,GAC5CK,EAAgBC,OAAO,YACvBH,EAAqBE,EAAgB5D,iBAErCyD,MAGD,CAACF,IAEJlL,qBAAU,YACS,uCAAG,4BAAAL,EAAA,+EAEOgL,KAFP,OAEV/K,EAFU,OAGhBqL,EAAuBrL,EAASC,MAHhB,gDAKhBC,QAAQC,IAAR,MALgB,yDAAH,qDAQjB0L,KACC,IAGD,kBAAC,EAAD,KACE,kBAAC,GAAD,CAAiBtB,SAAUa,EAAqBX,OAAM,OAAE5B,QAAF,IAAEA,OAAF,EAAEA,EAAYiD,QAAQC,MAAM,EAAG,IACnF,oDAA0B,SAAb/E,EAAsB,cAAa,UAChD,kBAAC,IAAD,MAEE6B,GACA,wBAAI7C,UAAU,yBAEV6C,EAAWiD,QAAQ1D,OAAS,EAC1BS,EAAWiD,QAAQpJ,KAAI,SAAAsJ,GACrB,OAAO,kBAAC,GAAD,CAAYnD,WAAYmD,EAAM5K,IAAK4K,EAAKpJ,QAGjD,kBAAC,KAAD,UCnFDqJ,GARG,SAAA5M,GAChB,OACE,kBAAC,EAAD,KACE,6C,oBC8BS6M,I,OA7BF,SAAA7M,GAAU,IAAD,IACZ8M,EAAS9M,EAAT8M,KACAtF,EAA4DsF,EAA5DtF,MAAOuF,EAAqDD,EAArDC,QAASlC,EAA4CiC,EAA5CjC,WAAYX,EAAgC4C,EAAhC5C,OAAQ8C,EAAwBF,EAAxBE,cAAepF,EAASkF,EAATlF,KAErD+B,EAAMC,SAASC,cAAc,OACnCF,EAAIG,UAAYiD,EAChB,IAAME,EAAatE,GAAagB,EAAIM,UAAW,KAE/C,OACE,yBAAKtD,UAAU,QACb,kBAAC,IAAD,CAAMG,GAAE,gBAAWc,GAAQjB,UAAU,kBACnC,yBAAKI,KAAK,UAAAmD,EAAO,UAAP,eAAWC,MAAO,gCAAiClD,KAAK,UAAAiD,EAAO,UAAP,eAAWC,MAAO,mCAEtF,yBAAKxD,UAAU,gBACb,wBAAIA,UAAU,cAAa,kBAAC,IAAD,CAAMG,GAAE,gBAAWc,IAASJ,IACvD,uBAAGb,UAAU,gBAAgBsG,GAE7B,2BACE,kBAAC,KAAD,KACE,kBAAC,IAAD,CAAMnG,GAAE,yBAAoBkG,EAAcpF,OAASoF,EAActK,QAIrE,uBAAGiE,UAAU,aAAY,kBAACuG,GAAA,EAAD,MAAzB,IAA+C,IAAItC,KAAKC,GAAYC,mBAAmB,cC5BzFnH,GAAc,UAAMzE,EAAN,cAEb,SAASiO,KACd,OAAO9N,IAAMC,IAAN,UAAaqE,GAAb,MAGF,SAASyJ,GAAkBxF,GAChC,OAAOvI,IAAMC,IAAN,UAAaqE,GAAb,YAA+BiE,EAA/B,MAGF,SAASyF,GAAqBC,GACnC,OAAOjO,IAAMC,IAAN,UAAaqE,GAAb,iCAAoD2J,ICX7D,IAAM3J,GAAc,UAAMzE,EAAN,uBAEb,SAASqO,KACd,OAAOlO,IAAMC,IAAN,UAAaqE,GAAb,M,cCqGM6J,GA9FE,SAAAxN,GAAU,IAAD,EAEoBC,mBAAS,MAF7B,mBAEjBwN,EAFiB,KAEDC,EAFC,OAGAzN,mBAAS,MAHT,mBAGjB6M,EAHiB,KAGXa,EAHW,KAIhBrG,EAAazB,cAAbyB,SACA2E,EAAWpG,cAAXoG,OAEF2B,EADe,IAAI1B,gBAAgBD,GACX3M,IAAI,YAC5BgF,EAAWwB,cARO,4CAUxB,4BAAApF,EAAA,+EAE2B6M,KAF3B,OAEU5M,EAFV,OAGI+M,EAAkB/M,EAASC,MAH/B,gDAKIC,QAAQC,IAAR,MALJ,0DAVwB,kEAmBxB,4BAAAJ,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2BuB,KAH3B,OAGUxM,EAHV,OAIIgN,EAAQhN,EAASC,KAAK6L,SAJ1B,gDAMI5L,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DAnBwB,kEA8BxB,WAAiC0B,GAAjC,eAAA5M,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2ByB,GAAqBC,GAHhD,OAGU3M,EAHV,OAIIgN,EAAQhN,EAASC,KAAK6L,SAJ1B,gDAMI5L,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DA9BwB,sBAsDxB,OAbA7K,qBAAU,YAzCc,mCA0CtB8M,KACC,IAEH9M,qBAAU,WACJ6M,GAAYA,EAAS7E,OAAS,EA9CZ,oCA+CpB+E,CAAkBF,GA/CE,mCAiDpBG,KAGD,CAACH,IAGF,kBAAC,EAAD,KACE,kBAACI,GAAA,EAAD,KACE,yDACA,0BAAMtL,KAAK,cAAcqK,QAAQ,iDAEnC,kBAAC,GAAD,KACE,yBAAKpG,UAAU,aACb,4CACA,6BACE,kBAAC,KAAD,CAAKsH,MAAqB,UAAb3G,GAAyBsG,EAAwB,GAAZ,WAChD,kBAAC,IAAD,CAAM9G,GAAG,SAAT,qBAGA2G,GACAA,EAAepK,KAAI,SAAAqE,GACjB,OAAO,kBAAC,KAAD,CAAKuG,MAAOvG,EAAEE,OAASgG,EAAW,UAAY,GAAI7L,IAAK2F,EAAEnE,IAC9D,kBAAC,IAAD,CAAMuD,GAAE,yBAAoBY,EAAEE,OAASF,EAAEhF,WAKjD,kBAAC,IAAD,MACA,6BAASiE,UAAU,qBAEfmG,GACEA,EAAK/D,OAAS,EACd+D,EAAKzJ,KAAI,SAAA6K,GAAC,OACR,kBAAC,GAAD,CAAMnM,IAAKmM,EAAE3K,GAAIuJ,KAAMoB,OAGzB,kBAAC,KAAD,W,8BCrFDC,GAVE,SAAAnO,GACf,OACE,yBAAK2G,UAAU,aAEX3G,EAAMsI,WC+EC8F,GA5EG,SAAApO,GAChB,IAAMsE,EAAWwB,cACXtF,EAAUC,cAFS,EAGOR,oBAAS,GAHhB,mBAGlBC,EAHkB,KAGP0L,EAHO,KAInBhG,EAAWC,cACXI,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aAEvCgG,EAASrG,EAASqG,OAElBoC,EADe,IAAInC,gBAAgBD,GACf3M,IAAI,QAExBgP,EAAW,uCAAG,WAAM7M,GAAN,eAAAf,EAAA,6DAClBkL,GAAW,GADO,SAGVzH,EAAO1C,EAHG,SAIV6C,EAASD,EAAYF,IAJX,uDAMhBtD,QAAQC,IAAI,CAAEqE,MAAK,OANH,QAQlByG,GAAW,GARO,yDAAH,sDAyBjB,OAdA7K,qBAAU,WAAO,IACPsF,EAAsBJ,EAAtBI,KAAMkI,EAAgBtI,EAAhBsI,YACVlI,GAAQkI,IACVlJ,aAAamJ,QAAQ,OAAQnI,EAAK2B,WAAa,IAAM3B,EAAK4B,WACtDgE,EAAOlD,OAAS,EACdsF,EAAKtF,OAAS,GAChBvI,EAAQ2H,QAAQkG,GAGlB7N,EAAQ2H,QAAQ,SAMpB,kBAAC,GAAD,MAEQ,OAAJkG,QAAI,IAAJA,OAAA,EAAAA,EAAMtF,QAAS,GACb,oCACE,kBAAC,KAAD,CAAO0F,QAAQ,uEAAiC1L,KAAK,UACrD,8BAGN,wDACA,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAMxB,OAAO,WAAWC,SAAU8M,EAAaI,YAAU,GACvD,kBAAC,IAAKjM,KAAN,CAAWQ,MAAM,+BAAgB0L,QAAQ,QAAQjM,KAAK,QAAQkM,MAAO,CACnE,CAAEC,UAAU,EAAMJ,QAAS,+BAC3B,CAAE1L,KAAM,QAAS0L,QAAS,qCAE1B,kBAAC,IAAD,CAAOlL,GAAG,QAAQR,KAAK,QAAQS,OAAQ,kBAACsL,GAAA,EAAD,SAGzC,kBAAC,IAAKrM,KAAN,CAAWQ,MAAM,qBAAW0L,QAAQ,WAAWjM,KAAK,WAAWkM,MAAO,CACpE,CAAEC,UAAU,EAAMJ,QAAS,8CAE3B,kBAAC,IAAMM,SAAP,CAAgBxL,GAAG,WAAWC,OAAQ,kBAACwL,GAAA,EAAD,SAGxC,2BAAG,kBAAC,IAAD,CAAMlI,GAAG,oBAAT,+BAEH,kBAAC,IAAKrE,KAAN,KACE,kBAAC,IAAD,CACEM,KAAK,UACLC,SAAS,SACTE,QAAShD,EACT+O,OAAK,GAJP,6BAMF,uBAAGtI,UAAU,eAAb,sCAA8C,kBAAC,IAAD,CAAMG,GAAG,aAAT,4BCjEvCoI,GAVG,SAAAlP,GAChB,OACE,kBAAC,EAAD,KACE,yBAAK2G,UAAU,aACb,kBAAC,GAAD,S,UCAR,IAoFewI,GApFM,SAAAnP,GACnB,IAAMQ,EAAUC,cADY,EAEIR,oBAAS,GAFb,mBAErBC,EAFqB,KAEV0L,EAFU,KAItBwD,EAAc,uCAAG,WAAM3N,GAAN,eAAAf,EAAA,6DACrBkL,GAAW,GADU,kBCTGzH,EDYgB1C,ECXnCpC,IAAM+E,KAAN,UAAclF,EAAd,iBAAwCiF,GDQxB,OAGbkL,EAHa,OAInBC,KAAaC,QAAQ,CACnBd,QAAS,wCACTe,YAAa,uJACbC,SAAU,IACVC,QAAS,WACPlP,EAAQ2H,QAAQ,aAGpBtH,QAAQC,IAAIuO,GAZO,wDAerBzD,GAAW,GAfU,kCCTlB,IAAqBzH,IDSH,oBAAH,sDAkBpB,OACE,kBAAC,GAAD,KACE,oDACA,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAM5C,OAAO,WAAWC,SAAU4N,EAAgBV,YAAU,GAC1D,kBAAC,IAAD,CAAKlM,OAAQ,GAAIwI,MAAO,CAAE2E,SAAU,WAClC,kBAAC,IAAD,KACE,kBAAC,IAAKlN,KAAN,CAAWQ,MAAM,UAAK0L,QAAQ,aAAajM,KAAK,aAAakM,MAAO,CAClE,CAAEC,UAAU,EAAMJ,QAAS,mCAE3B,kBAAC,IAAD,CAAOlL,GAAG,iBAGd,kBAAC,IAAD,KACE,kBAAC,IAAKd,KAAN,CAAWQ,MAAM,SAAM0L,QAAQ,YAAYjM,KAAK,YAAYkM,MAAO,CACjE,CAAEC,UAAU,EAAMJ,QAAS,kCAE3B,kBAAC,IAAD,CAAOlL,GAAG,iBAIhB,kBAAC,IAAKd,KAAN,CAAWQ,MAAM,+BAAgB0L,QAAQ,QAAQjM,KAAK,QAAQkM,MAAO,CACnE,CAAEC,UAAU,EAAMJ,QAAS,+BAC3B,CAAE1L,KAAM,QAAS0L,QAAS,qCAE1B,kBAAC,IAAD,CAAOlL,GAAG,QAAQR,KAAK,WAEzB,kBAAC,IAAKN,KAAN,CAAWQ,MAAM,qBAAW0L,QAAQ,WAAWjM,KAAK,WAAWkM,MAAO,CACpE,CAAEC,UAAU,EAAMJ,QAAS,6CAC1BmB,aAAW,GACZ,kBAAC,IAAMb,SAAP,CAAgBxL,GAAG,cAErB,kBAAC,IAAKd,KAAN,CAAWQ,MAAM,wCAAoB0L,QAAQ,mBAAmBjM,KAAK,kBAAkBkM,MAAO,CAC5F,CAAEC,UAAU,EAAMJ,QAAS,qDAC3B,gBAAGoB,EAAH,EAAGA,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAMnN,GACd,OAAKA,GAASiN,EAAc,cAAgBjN,EAGrCoN,QAAQC,OAAO,8CAFbD,QAAQE,cAKpBN,aAAW,GACZ,kBAAC,IAAMb,SAAP,CAAgBxL,GAAG,sBAUrB,kBAAC,IAAKd,KAAN,KACE,kBAAC,IAAD,CAAQM,KAAK,UAAUG,QAAShD,EAAW8C,SAAS,SAASiM,OAAK,GAAlE,yBAEF,uBAAGtI,UAAU,eAAb,uCAA4C,kBAAC,IAAD,CAAMG,GAAG,UAAT,gCExErCqJ,GAVM,SAAAnQ,GACnB,OACE,kBAAC,EAAD,KACE,yBAAK2G,UAAU,aACb,kBAAC,GAAD,S,UC2BOyJ,I,OA5BC,SAAApQ,GAAU,IAAD,IACfqQ,EAAYrQ,EAAZqQ,QACA3N,EAAuC2N,EAAvC3N,KAAM+F,EAAiC4H,EAAjC5H,MAAOiB,EAA0B2G,EAA1B3G,QAASQ,EAAiBmG,EAAjBnG,OAAQtC,EAASyI,EAATzI,KACtC,OACE,kBAAC,KAAD,CACEjB,UAAS,iBAAY3G,EAAMuJ,UAAY,sBAAwB,IAC/D+G,UAAWtQ,EAAMuJ,UACjBgH,MAAO,kBAAC,IAAD,CAAM5J,UAAU,eAAeG,GAAE,mBAAcc,GAAQJ,MAAO9E,GACnE,yBAAKqE,KAAK,UAAAmD,EAAO,UAAP,eAAWC,MAAO,gCAAiClD,KAAK,UAAAiD,EAAO,UAAP,eAAWC,MAAO,oCAEtF,kBAAC,KAAKqG,KAAN,CAAWhJ,MACT,4BAAI,+BACF,kBAAC,IAAD,CAAMb,UAAU,eAAeG,GAAE,kBAAqBU,MAAO9E,GAC1DA,QAKJ1C,EAAMuJ,WACP,yBAAK5C,UAAU,mBACb,yBAAKA,UAAU,iBAAiB6B,GAAuBC,GAAS,SAAU,GAC1E,yBAAK9B,UAAU,gBAAgBsC,GAAsBS,QC1BzD/F,GAAc,UAAMzE,EAAN,0BAEb,SAASuR,KACd,OAAOpR,IAAMC,IAAN,UAAaqE,GAAb,MCHT,IAAMA,GAAc,UAAMzE,EAAN,iBAEb,SAASwR,KACd,OAAOrR,IAAMC,IAAN,UAAaqE,GAAb,MAGF,SAASgN,GAAyBC,GACvC,OAAOvR,IAAMC,IAAN,UAAaqE,GAAb,oCAAuDiN,IAGzD,SAASC,GAAqBjJ,GACnC,OAAOvI,IAAMC,IAAN,UAAaqE,GAAb,YAA+BiE,EAA/B,MAGF,SAASkJ,GAAyBnR,GACvC,OAAON,IAAMC,IAAN,UAAaqE,GAAb,mCAAsDhE,ICL/D,IAwFeoR,GAxFM,SAAA/Q,GAAU,IAAD,EAEsBC,mBAAS,MAF/B,mBAErB+Q,EAFqB,KAEFC,EAFE,OAGIhR,mBAAS,MAHb,mBAGrBiR,EAHqB,KAGXC,EAHW,KAIpB7J,EAAazB,cAAbyB,SACA2E,EAAWpG,cAAXoG,OAEF2B,EADe,IAAI1B,gBAAgBD,GACX3M,IAAI,YAC5BgF,EAAWwB,cARW,4CAU5B,4BAAApF,EAAA,+EAE2B+P,KAF3B,OAEU9P,EAFV,OAGIsQ,EAAqBtQ,EAASC,MAHlC,gDAKIC,QAAQC,IAAR,MALJ,0DAV4B,kEAmB5B,4BAAAJ,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2B8E,KAH3B,OAGU/P,EAHV,OAIIwQ,EAAYxQ,EAASC,KAAK6L,SAJ9B,gDAMI5L,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DAnB4B,kEA8B5B,WAAqC0B,GAArC,eAAA5M,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2B+E,GAAyBrD,GAHpD,OAGU3M,EAHV,OAIIwQ,EAAYxQ,EAASC,KAAK6L,SAJ9B,gDAMI5L,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DA9B4B,sBAsD5B,OAbA7K,qBAAU,YAzCkB,mCA0C1BqQ,KACC,IAEHrQ,qBAAU,WACJ6M,GAAYA,EAAS7E,OAAS,EA9CR,oCA+CxBsI,CAAsBzD,GA/CE,mCAiDxB0D,KAGD,CAAC1D,IAGF,kBAAC,EAAD,KACE,kBAAC,GAAD,KACE,yBAAKjH,UAAU,iBACb,6CAEA,6BACE,kBAAC,KAAD,CAAKsH,MAAqB,aAAb3G,GAA4BsG,EAAwB,GAAZ,WACnD,kBAAC,IAAD,CAAM9G,GAAG,YAAT,qBAFJ,OAKIkK,QALJ,IAKIA,OALJ,EAKIA,EAAmB3N,KAAI,SAAAqE,GACrB,OAAO,kBAAC,KAAD,CAAKuG,MAAOvG,EAAEE,OAASgG,EAAW,UAAY,GAAI7L,IAAK2F,EAAEnE,IAC9D,kBAAC,IAAD,CAAMuD,GAAE,4BAAuBY,EAAEE,OAASF,EAAEhF,WAKpD,kBAAC,IAAD,MACA,6BAASiE,UAAU,oBAAnB,OAEIuK,QAFJ,IAEIA,OAFJ,EAEIA,EAAU7N,KAAI,SAAAgN,GACZ,OACE,kBAAC,GAAD,CAAStO,IAAKsO,EAAQ9M,GAAI8M,QAASA,Y,wCCvDtCkB,GA9BD,SAAAvR,GAAU,IAAD,EACYA,EAAzB4C,aADa,MACL,GADK,EACDQ,EAAapD,EAAboD,SAYpB,OACE,kBAACoO,GAAA,EAAD,CAAK7K,UAAW3G,EAAM2G,UAAWqE,MAAOhL,EAAMgL,MAAOzH,GAAIvD,EAAMuD,GAAGkO,OAAQzR,EAAMyR,QAAU,CAAEC,IAAK,IAAKC,IAAK,IAAMC,KAAM5R,EAAM4R,MAAQ,EAAGC,QAXpH,SAAAC,GAChB1O,GACFA,EAAS0O,EAAEC,QAGT/R,EAAM6R,SACR7R,EAAMkI,QAAQ4J,KAMd,kBAACE,GAAA,EAAD,CACEC,YAAY,wFACZ9H,IAAI,uDAGJnK,EAAMsI,SAGN1F,GAASA,EAAM+O,KAAO/O,EAAM8O,KAC5B,kBAACQ,GAAA,EAAD,CAAQC,SAAUvP,MCiFXwP,GAlGQ,SAAApS,GAAU,IAAD,QAEcC,mBAAS,MAFvB,mBAEvBoS,EAFuB,KAEPC,EAFO,KAGxBhO,EAAWwB,cAEX8B,EADa2K,cAAX9S,OACYmI,KALU,4CAO9B,WAAiCA,GAAjC,eAAAlH,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2BiF,GAAqBjJ,GAHhD,OAGUjH,EAHV,OAII2R,EAAkB3R,EAASC,KAAKA,MAJpC,gDAMIC,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DAP8B,sBAyB9B,OAPA7K,qBAAU,WACJ6G,GAAQA,EAAKmB,OAAS,GAnBE,oCAoB1ByJ,CAAkB5K,KAGnB,CAACA,IAGF,kBAAC,EAAD,KACE,yBAAKjB,UAAU,wBAEX0L,GACA,kBAAC,IAAD,KACE,4BAAKA,EAAe3P,OAKtB2P,EACE,kBAAC,IAAD,CAAK7P,OAAQ,IACX,kBAAC,IAAD,CAAKiQ,GAAI,GAAItR,GAAI,IACf,kBAAC,KAAD,CAAUuR,UAAQ,GAAlB,UAEIL,EAAenI,cAFnB,aAEI,EAAuB7G,KAAI,SAAAQ,GAAK,OAC9B,yBAAK9B,IAAK8B,EAAMN,IACd,yBAAKwD,IAAKlD,EAAMsG,IAAKjD,MAAM,OAAOD,IAAI,gBAK9C,6BACE,4BAAI,yDACJ,yBAAKmD,wBAAyB,CAAEC,OAAQgI,EAAetI,WAEzD,yBAAKpD,UAAU,uBACf,4BAAI,0DACF,kBAAC,GAAD,CACEpD,GAAG,cACHqO,KAAM,GACNH,OAAQ,CACNE,IAAKU,EAAe3I,QAAQiJ,SAC5BjB,IAAKW,EAAe3I,QAAQkJ,YAE9B,kBAACV,GAAA,EAAD,CAAQC,SAAU,CAChBR,IAAKU,EAAe3I,QAAQiJ,SAC5BjB,IAAKW,EAAe3I,QAAQkJ,gBAKpC,kBAAC,IAAD,CAAKH,GAAI,GAAItR,GAAI,GACf,4BAAI,uDAEJ,6BAAK,yDACL,2BAAIkR,EAAe3P,MAEnB,6BAAK,mEACL,4BAAI,UAAA2P,EAAeQ,wBAAf,eAAiCnQ,OAAQ,gCAE7C,6BAAK,2DACL,2BAAI0G,GAAiBiJ,EAAe3I,UAEpC,6BAAK,gEACL,2BAAI2I,EAAe5H,KAAO,8BAAO4H,EAAe5H,KAAtB,KAA6B,mCAAsB,iCAG3E,UAAA4H,EAAeQ,wBAAf,eAAiCC,SACjC,yBAAK/L,IAAKsL,EAAeQ,iBAAiBC,OAAQ7L,IAAKoL,EAAeQ,iBAAiBC,WAK7F,kBAAC,KAAD,SCpFGC,GAZI,SAAA/S,GACjB,OACE,yBAAK2G,UAAU,aACb,kBAAC,GAAD,KACE,kEACA,kBAAC,IAAD,MACA,gIAAiD,kBAAC,IAAD,CAAMG,GAAG,cAAT,4BAAjD,4CCMOkM,GAbO,SAAAC,GACpB,OAAO,SAAiBjT,GACtB,IAAM4F,EAAWC,cACX0I,EAAc5J,IAAQrF,IAAI,UAEhC,OAAKiP,GAAsC,IAAvBA,EAAYxF,OAGvB,kBAACkK,EAAcjT,GAFf,kBAAC,IAAD,CAAU8G,GAAE,sBAAiBlB,EAAS0B,c,wDCHnD,SAAS4L,GAAUC,GACjB,OAAO,IAAInD,SAAQ,SAACE,EAASD,GAC3B,IAAMmD,EAAS,IAAIC,WACnBD,EAAOE,cAAcH,GACrBC,EAAOG,OAAS,kBAAMrD,EAAQkD,EAAOI,SACrCJ,EAAOK,QAAU,SAAAtO,GAAK,OAAI8K,EAAO9K,OAIrC,IAgDeuO,GAhDQ,SAAA1T,GAAU,IAAD,IACcC,mBAASD,EAAM2T,iBAAkB,GAD/C,mBACvBA,EADuB,KACPC,EADO,OAEU3T,mBAASD,EAAM6T,cAAgB,IAFzC,mBAEvBA,EAFuB,KAETC,EAFS,OAGU7T,mBAASD,EAAM+T,cAAgB,IAHzC,mBAGvBA,EAHuB,KAGTC,EAHS,KASxBC,EAAa,uCAAG,WAAMd,GAAN,SAAAzS,EAAA,yDACfyS,EAAKhJ,KAAQgJ,EAAKe,QADH,gCAEGhB,GAAUC,EAAKgB,eAFlB,OAElBhB,EAAKe,QAFa,cAKpBJ,EAAgBX,EAAKhJ,KAAOgJ,EAAKe,SACjCN,GAAkB,GAClBI,EAAgB,gCAPI,2CAAH,sDAUbI,EACJ,6BACE,kBAACC,GAAA,EAAD,MACA,yBAAK1N,UAAU,mBAAf,WAIJ,OACE,yBAAKA,UAAU,YACb,kBAAC,KAAD,CACE2N,SAAS,eACTC,SAAUvU,EAAMuU,SAChBC,UAAWP,EACX7Q,SAAUpD,EAAMoD,SAChBD,SAAUnD,EAAMmD,SAChBsR,aAAczU,EAAMyU,cACnBzU,EAAM+I,QAAU,UAAA/I,EAAMuU,gBAAN,eAAgBxL,QAAS/I,EAAM+I,OAASqL,EAAe,KAAQA,GAElF,kBAAC,KAAD,CACEM,QAASf,EACTnM,MAAOuM,EACPY,OAAQ,KACRC,SApCe,WACnBhB,GAAkB,KAoCd,yBAAK7M,IAAK8M,EAAc5M,IAAI,QCpD5BxE,GAASoS,IAATpS,KAmFOqS,GAjFE,SAAA9U,GAAU,IACjBqG,EAASrG,EAATqG,KADgB,EAEUpG,mBAAS,IAFnB,mBAEjB8U,EAFiB,KAENC,EAFM,KAGlBzG,EAAc5J,IAAQrF,IAAI,UAHR,EAIUW,oBAAS,GAJnB,mBAIjBC,EAJiB,KAINC,EAJM,KAelBqB,EAAQ,uCAAG,WAAMC,GAAN,eAAAf,EAAA,yDACfe,EAAOwT,IAAM,IAAIrK,KAAKnJ,EAAOwT,KAAKC,cAAclM,OAAO,EAAG,IAC1D7I,GAAa,GAFE,WAIT4U,EAAUhM,OAAS,GAJV,uBAKLoK,EAAO4B,EAAU,GAAGZ,cALf,SAMLvQ,EAAgB2K,EAAa4E,GANxB,uBnCXcpU,EmCmBJwP,EnCnBWpK,EmCmBE1C,EnClBjCpC,IAAM8V,IAAN,UAAaxR,EAAb,KAAgCQ,EAAMrF,EAAkBC,ImCU9C,yDAUb8B,QAAQC,IAAR,MAVa,QAYfX,GAAa,GAZE,kCnCXZ,IAA0BpB,EAAOoF,ImCWrB,qBAAH,sDAed,OACE,kBAAC,IAAD,CACE6G,MAAO,CAAEoK,SAAU,KACnB7T,OAAO,WACPC,SAAUA,GACV,kBAAC,IAAD,CAAKgB,OAAO,MACV,kBAAC,IAAD,KACE,kBAAC,KAAD,CAAQ6S,KAAK,QAAQtO,IAAKV,EAAKyM,QAASzM,EAAK2B,WAAWsN,OAAO,KAEjE,kBAAC,IAAD,KACE,kBAAC,GAAD,CACEf,SAAUQ,EACVhM,OAAQ,EACR3F,SAhCiB,SAAC,GAAkB,IAAhBmR,EAAe,EAAfA,SAC5BS,EAAa,aAAIT,KAgCTE,aAtCiB,SAAAtB,GAEzB,OADA6B,EAAa,GAAD,oBAAKD,GAAL,CAAgB5B,MACrB,OAwCL,kBAAC,IAAD,CAAK3Q,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAACJ,GAAD,CAAMQ,MAAM,UAAKP,KAAK,aAAaC,aAAc0D,EAAK2B,YACpD,kBAAC,IAAD,QAGJ,kBAAC,IAAD,CAAKnF,KAAK,KACR,kBAACJ,GAAD,CAAMQ,MAAM,SAAMP,KAAK,YAAYC,aAAc0D,EAAK4B,WACpD,kBAAC,IAAD,SAKN,kBAACxF,GAAD,CAAMQ,MAAM,QAAQP,KAAK,QAAQC,aAAc0D,EAAKkP,OAClD,kBAAC,IAAD,CAAOC,UAAQ,KAGjB,kBAAC/S,GAAD,CAAMQ,MAAM,4BAAaP,KAAK,QAAQC,aAAc0D,EAAKoP,OACvD,kBAAC,IAAD,OAGF,kBAAChT,GAAD,CAAMQ,MAAM,eAAYP,KAAK,MAAMC,aAAc0D,EAAK4O,KACpD,kBAAC,IAAD,OAGF,kBAACxS,GAAD,KACE,kBAAC,IAAD,CAAQS,QAAShD,EAAWiD,SAAUjD,EAAW8C,SAAS,UAA1D,yBChFFW,GAAc,UAAMzE,EAAN,S,ICGZuD,GAAkBoS,IAAlBpS,KAAMiT,GAAYb,IAAZa,QA0CCC,GAxCY,SAAA3V,GAAU,IAAD,EACAC,oBAAS,GADT,mBAC3BC,EAD2B,KAChBC,EADgB,OAEnBuV,KAARE,EAF2B,oBAG5BrH,EAAc5J,IAAQrF,IAAI,UAG1BuW,EAAoB,uCAAG,WAAMpU,GAAN,SAAAf,EAAA,6DAC3BP,GAAa,GADc,kBDTGpB,ECYJwP,EDZWpK,ECYE1C,EDXlCpC,IAAM8V,IAAN,UAAaxR,GAAb,qBAAgDQ,EAAMrF,EAAkBC,ICQlD,OAIzB6W,EAAKE,cAJoB,gDAMzBjV,QAAQC,IAAR,MANyB,QAQ3BX,GAAa,GARc,kCDTxB,IAA2BpB,EAAOoF,ICSV,oBAAH,sDAW1B,OACE,kBAAC,IAAD,CACEyR,KAAMA,EACN5K,MAAO,CAACoK,SAAU,KAClB7T,OAAO,WACPC,SAAUqU,GACV,6BAAK,qEACL,kBAAC,GAAD,CAAM5S,MAAM,6BAAcP,KAAK,eAAemM,UAAQ,GACpD,kBAAC,IAAME,SAAP,OAEF,kBAAC,GAAD,CAAM9L,MAAM,8BAAeP,KAAK,eAAemM,UAAQ,GACrD,kBAAC,IAAME,SAAP,OAEF,kBAAC,GAAD,CAAM9L,MAAM,iDAAwBP,KAAK,mBAAmBmM,UAAQ,GAClE,kBAAC,IAAME,SAAP,OAEF,kBAAC,GAAD,KACE,kBAAC,IAAD,CAAQ7L,QAAShD,EAAWiD,SAAUjD,EAAW8C,SAAS,UAA1D,uCCbO+S,GArBM,SAAA/V,GACnB,IACQqG,EADUH,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aACrCI,KACR,OACE,6BACE,8DACA,kBAAC,IAAD,MAEEA,EACE,kBAAC,GAAD,CAAUA,KAAMA,IAEhB,kBAAC,KAAD,MAGFA,GACA,kBAAC,GAAD,Q,sCCpBF1C,GAAc,UAAMzE,EAAN,8BAEb,SAAS8W,GAAqBjX,GACnC,OAAOM,IAAMC,IAAN,UAAaqE,GAAb,KAAgC7E,EAAkBC,IAGpD,SAASkX,GAA4BlX,EAAOmX,GACjD,OAAO7W,IAAMC,IAAN,UAAaqE,GAAb,YAA+BuS,EAA/B,KAAgDpX,EAAkBC,IAWpE,SAASoX,GAAoBpX,EAAOqX,EAAgBjS,GACzD,OAAO9E,IAAM8V,IAAN,UAAaxR,GAAb,YAA+ByS,EAA/B,KAAkDjS,EAAMrF,EAAkBC,IAQ5E,SAASsX,GAA0BtX,EAAOmL,GAC/C,IAAMpG,EAAW,IAAIC,SAKrB,OAJAmG,EAAOpI,SAAQ,SAAA+B,GACbC,EAASE,OAAO,WAAYH,MAGvBxE,IAAM+E,KAAN,UAAcT,GAAd,kBAA8CG,EAAU,CAC7D9E,QAAS,CACP,eAAgB,sBAChB,cAAgB,UAAhB,OAA2BD,M,4CC5BzB0D,GAASoS,IAATpS,KACA5C,GAAWC,IAAXD,OAoNOyW,GAlNQ,SAAAtW,GAAU,IAAD,EACtBwJ,EAAexJ,EAAfwJ,WADsB,EAGMvJ,mBAAS,MAHf,mBAGvB8F,EAHuB,KAGXC,EAHW,OAIF/F,mBAAS,MAJP,mBAIvBG,EAJuB,KAIfC,EAJe,OAKIJ,mBAAS,MALb,mBAKvBK,EALuB,KAKZC,EALY,OAMJN,mBAAS,MANL,mBAMvBsW,EANuB,KAMhBC,EANgB,OAOAvW,mBAAS,MAPT,mBAOvBwW,EAPuB,KAOdC,EAPc,OAQEzW,mBAAS,MARX,mBAQvBiR,EARuB,KAQbC,EARa,OAUAlR,oBAAS,GAVT,mBAUvB0W,EAVuB,KAUdC,EAVc,OAWI3W,oBAAS,GAXb,mBAWvBC,EAXuB,KAWZC,EAXY,iDAa9B,4BAAAO,EAAA,6DACEP,GAAa,GADf,kBAG2BqF,IAH3B,OAGU7E,EAHV,OAIIqF,EAAcrF,EAASC,MAJ3B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAb8B,kEAwB9B,4BAAAO,EAAA,6DACEP,GAAa,GADf,kBAG2Bf,IAH3B,OAGUuB,EAHV,OAIIN,EAAUM,EAASC,MAJvB,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAxB8B,+BAmCf0W,EAnCe,8EAmC9B,WAAkCrX,GAAlC,eAAAkB,EAAA,6DACEP,GAAa,GADf,kBAG2BZ,EAAsBC,GAHjD,OAGUmB,EAHV,OAIIJ,EAAaI,EAASC,MAJ1B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAnC8B,+BA8Cf2W,GA9Ce,iFA8C9B,WAAiDnX,GAAjD,uBAAAe,EAAA,6DACEP,GAAa,GADf,kBAGmD6P,QAAQ+G,IAAI,CACzDrX,EAAsBC,GACtBC,EAAwBD,GACxBmR,GAAyBnR,KAN/B,mCAGWqX,EAHX,KAGoBC,EAHpB,KAG+BC,EAH/B,KAQIV,EAASQ,EAAQpW,MACjB8V,EAAWO,EAAUrW,MACrBuQ,EAAY+F,EAAWtW,MAV3B,kDAYIC,QAAQC,IAAR,MAZJ,QAcEX,GAAa,GAdf,2DA9C8B,sBA0E9B,OAXAY,qBAAU,YA/DoB,mCAgE5BoW,GAhE4B,mCAiE5BC,GAEI5N,IACFqN,EAAmBrN,EAAWE,QAAQP,KAAK1F,SAASH,KAAKC,IACzDuT,GAAkCtN,EAAWE,QAAQP,KAAK1F,SAASF,OAGpE,CAACiG,IAGF,kBAAC,IAAD,CACEoM,KAAM5V,EAAM4V,KACZrU,OAAO,YACP,kBAAC,GAAD,CAAM0B,MAAM,uBAAUP,KAAK,QAAQC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYhC,OAC3D,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAKhF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,oBAAYP,KAAK,OAAOC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYiB,MAC5D,kBAAC,IAAD,CAAO1H,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,8BAAiBP,KAAK,WAAWC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAY6N,UACrE,kBAAC,IAAD,CAAOtU,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,4BAAeP,KAAK,UAAUC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAY8N,SAClE,kBAAC,IAAD,CAAOvU,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,4BAAeP,KAAK,WAAWC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAY+N,UACnE,kBAAC,IAAD,CAAOxU,KAAK,cAIlB,kBAAC,IAAD,CAAKP,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,SAAMP,KAAK,QAAQC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYf,OACvD,kBAAC,IAAD,CAAO1F,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,4BAAeP,KAAK,aAAaC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYgO,YACrE,kBAAC,IAAD,CAAOzU,KAAK,aAGhB,kBAAC,IAAD,CAAKF,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,oBAAYN,cAAwB,OAAV6G,QAAU,IAAVA,OAAA,EAAAA,EAAYiO,qBAAqB9P,WAAYgP,EAASjU,KAAK,QAC/F,kBAAC,IAAD,CAAQU,SAAU,SAACR,GAAD,OAAWgU,EAAWhU,KACtC,kBAAC,GAAD,CAAQA,OAAO,GAAf,UACA,kBAAC,GAAD,CAAQA,OAAO,GAAf,kBAIN,kBAAC,IAAD,CAAKC,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,gBAAWP,KAAK,0BAA0BC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYiO,qBAAqBlU,IACnG,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAW4C,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAY0B,QAAO,SAAAiQ,GAAG,OAAIA,EAAI/P,WAAagP,KAAStT,KAAI,SAAAqU,GACtD,OAAO,kBAAC,GAAD,CAAQ3V,IAAK2V,EAAInU,GAAIX,MAAO8U,EAAInU,IAAKmU,EAAIhV,aAO5D,kBAAC,IAAD,CAAKF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,8BAAiBP,KAAK,UAAUC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQP,KAAK1F,SAASH,KAAKC,IAC/F,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAW/C,EAAQgD,SAAUyT,GAAzD,OAEIzW,QAFJ,IAEIA,OAFJ,EAEIA,EAAQiD,KAAI,SAAAC,GACV,OAAO,kBAAC,GAAD,CAAQvB,IAAKuB,EAAKC,GAAIX,MAAOU,EAAKC,IAAKD,EAAKE,OAAS,IAAMF,EAAKZ,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,uBAAaP,KAAK,cAAcC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQP,KAAK1F,SAASF,IAC1F,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAW7C,EAAW8C,SAAU0T,IAA5D,OAEIxW,QAFJ,IAEIA,OAFJ,EAEIA,EAAW+C,KAAI,SAAAI,GACb,OAAO,kBAAC,GAAD,CAAQ1B,IAAK0B,EAASF,GAAIX,MAAOa,EAASF,IAAKE,EAASD,OAAS,IAAMC,EAASf,aAOnG,kBAAC,IAAD,CAAKF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,4CAAqBP,KAAK,UAAUC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQP,KAAK5F,IACrF,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAWoT,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAOlT,KAAI,SAAA8F,GACT,OAAO,kBAAC,GAAD,CAAQpH,IAAKoH,EAAK5F,GAAIX,MAAOuG,EAAK5F,IAAK4F,EAAK3F,OAAS,IAAM2F,EAAKzG,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,uBAAQP,KAAK,YAAYC,aAAY,OAAE6G,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQL,OAAO9F,IAC5E,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAWsT,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAASpT,KAAI,SAAAgG,GACX,OAAO,kBAAC,GAAD,CAAQtH,IAAKsH,EAAO9F,GAAIX,MAAOyG,EAAO9F,IAAK8F,EAAO7F,OAAS,IAAM6F,EAAO3G,YAMzF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,2BAAcP,KAAK,aAAaC,aAAY,OAAE6G,QAAF,IAAEA,GAAF,UAAEA,EAAY6G,eAAd,aAAE,EAAqB9M,IAC7E,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAW+N,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAU7N,KAAI,SAAAgN,GACZ,OAAO,kBAAC,GAAD,CAAQtO,IAAKsO,EAAQ9M,GAAIX,MAAOyN,EAAQ9M,IAAK8M,EAAQ3N,aAOxE,kBAAC,GAAD,CAAMO,MAAM,gBAAWP,KAAK,SAASC,cAAwB,OAAV6G,QAAU,IAAVA,OAAA,EAAAA,EAAYO,SAAU,IACvE,kBAAC,KAAD,CAAO5C,MAAM,UAEf,kBAAC,GAAD,CAAMlE,MAAM,kFAAoCP,KAAK,WAAWC,aAC9D,CAAEgP,IAAG,OAAEnI,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQiJ,SAAUjB,IAAG,OAAElI,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQkJ,iBAAe5Q,GAG3EwH,EACE,kBAAC,GAAD,CAAOoI,KAAM,GAAIH,OAAQ,CAAEE,IAAG,OAAEnI,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQiJ,SAAUjB,IAAG,OAAElI,QAAF,IAAEA,OAAF,EAAEA,EAAYE,QAAQkJ,iBAAe5Q,EAAWgJ,MAAO,CAAE2M,OAAQ,OAElI,kBAAC,GAAD,CAAO/F,KAAM,EAAG5G,MAAO,CAAE2M,OAAQ,UC9MrCjC,GAAYb,IAAZa,QAmROkC,GAjRY,SAAA5X,GACzB,IAAMuO,EAAc5J,IAAQrF,IAAI,UADE,EAEToW,KAAlBmC,EAF2B,sBAKE5X,mBAAS,MALX,mBAK3BuJ,EAL2B,KAKfsC,EALe,OAOA7L,mBAAS,IAPT,mBAO3B8U,EAP2B,KAOhBC,EAPgB,OAQF/U,mBAAS,MARP,mBAQ3B6X,EAR2B,KAQjBC,EARiB,OASkB9X,mBAAS,MAT3B,mBAS3B+X,EAT2B,KASPC,EATO,OAUNhY,mBAAS,UAVH,mBAU3BiY,EAV2B,KAUnBC,EAVmB,OAYAlY,mBAAS,MAZT,mBAY3BC,EAZ2B,KAYhBC,EAZgB,OAcGF,oBAAS,GAdZ,mBAc3BmY,EAd2B,KAcdC,EAdc,KAgB5BC,EAAe,CACnB,CAAE9Q,MAAO,uBAAW+Q,UAAW,SAC/B,CAAE/Q,MAAO,SAAO+Q,UAAW,SAC3B,CAAE/Q,MAAO,yBAAW+Q,UAAW,UAAWC,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkBxP,GAAsBwP,EAAO/O,WACjG,CACElC,MAAO,qBAAc+Q,UAAW,SAAUC,OAAQ,SAAC5P,EAAD,GAAuB,IAAd8P,EAAa,EAAbA,OACzD,MAAkB,YAAXA,EACL,kBAAC,KAAD,CAAKzK,MAAM,cAAX,2BAEW,aAAXyK,EACE,kBAAC,KAAD,CAAKzK,MAAM,WAAX,yBAEA,kBAAC,KAAD,CAAKA,MAAM,SAAX,uBAGR,CACEzG,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAM6P,EAAQtN,GACxD,OACE,oCACE,kBAAC,KAAD,CAAS3D,MAAM,uBACb,kBAAC,IAAD,CAAQU,QAAS,kBAAMyQ,EAAgBF,IAAS1V,KAAK,OAAOuH,KAAM,kBAACsO,GAAA,EAAD,SAEpE,kBAAC,KAAD,CAASpR,MAAM,UACb,kBAAC,KAAD,CAAYA,MAAM,iEAAoCqR,UAAW,kBAAMC,EAAuBL,EAAOlV,MACnG,kBAAC,IAAD,CAAQwV,QAAM,EAAChW,KAAK,OAAOuH,KAAM,kBAAC0O,GAAA,EAAD,cAxCb,SAiDnBC,IAjDmB,2EAiDlC,4BAAAvY,EAAA,6DACEP,GAAa,GADf,kBAG2B6V,GAAqBzH,GAHhD,OAGU5N,EAHV,OAIImL,EAAcnL,EAASC,KAAK6L,SAJhC,gDAMI5L,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAjDkC,sBA4DlC,IASM+Y,EAAsB,uCAAG,WAAMzX,GAAN,iDAAAf,EAAA,yDAC7BP,GAAa,GADgB,SAIrBgZ,EAAiBpE,EAAU1R,KAAI,SAAAQ,GAAK,OAAIA,EAAMsQ,iBAE/C2D,EANsB,gCAOFzB,GAA0B9H,EAAa4K,GAPrC,OAOnBxY,EAPmB,OAQzByY,EAAYzY,EAASC,KAAKwY,UAC1BrB,EAAYqB,GATa,cAazB5R,EAeE/F,EAfF+F,MACAiB,EAcEhH,EAdFgH,MACA6O,EAaE7V,EAbF6V,QACAC,EAYE9V,EAZF8V,SACA9M,EAWEhJ,EAXFgJ,KACA4M,EAUE5V,EAVF4V,SACAG,EASE/V,EATF+V,WACAzN,EAQEtI,EARFsI,OACAsP,EAOE5X,EAPF4X,wBACAC,EAME7X,EANF6X,QACAC,EAKE9X,EALF8X,UAvByB,EA4BvB9X,EAJF0Q,SACER,EAzBuB,EAyBvBA,IACAD,EA1BuB,EA0BvBA,IAIEvN,EAAO,CACXqD,QACAiB,QACA6O,UACAC,WACA9M,OACA4M,WACAG,aACAzN,SACAsP,0BACAC,UACAC,YACA3G,UAAWlB,EACXiB,SAAUhB,EACVyH,UAAWA,GA5Cc,UA8CrB5N,GAAoB+C,EAAapK,GA9CZ,QAgD3B8U,IACAZ,GAAc,GACdN,EAAY,IACZ/C,EAAa,MAnDc,kDAqD3BnU,QAAQC,IAAR,MACAX,GAAa,GAtDc,0DAAH,sDA0DtBqZ,EAAsB,uCAAG,WAAM/X,GAAN,mDAAAf,EAAA,yDAC7BP,GAAa,GADgB,SAGrBsZ,EAAgB1E,EAAUtN,QAAO,SAAA5D,GAAK,OAAIA,EAAMN,MAAIF,KAAI,SAAAQ,GAAK,OAAIA,EAAMN,SACvE4V,EAAiBpE,EAAUtN,QAAO,SAAA5D,GAAK,OAAIA,EAAMsQ,iBAAe9Q,KAAI,SAAAQ,GAAK,OAAIA,EAAMsQ,kBAGtEpL,OAAS,GAPD,oBAQpB+O,EARoB,iCASAzB,GAA0B9H,EAAa4K,GATvC,OASjBxY,EATiB,OAUvByY,EAAYzY,EAASC,KAAKwY,UAC1BrB,EAAYqB,GAXW,eAgBzB5R,EAeE/F,EAfF+F,MACAiB,EAcEhH,EAdFgH,MACA6O,EAaE7V,EAbF6V,QACAC,EAYE9V,EAZF8V,SACA9M,EAWEhJ,EAXFgJ,KACA4M,EAUE5V,EAVF4V,SACAG,EASE/V,EATF+V,WACAzN,EAQEtI,EARFsI,OACAsP,EAOE5X,EAPF4X,wBACAC,EAME7X,EANF6X,QACAC,EAKE9X,EALF8X,UA1ByB,EA+BvB9X,EAJF0Q,SACER,EA5BuB,EA4BvBA,IACAD,EA7BuB,EA6BvBA,IAIEvN,EAAO,CACXqD,QACAiB,QACA6O,UACAC,WACA9M,OACA4M,WACAG,aACAzN,SACAsP,0BACAC,UACAC,YACA3G,UAAWlB,EACXiB,SAAUhB,EACVyH,UAAWA,EAAS,uBAAOK,GAAP,aAAyBL,IAAzB,aAA0CK,IA/CrC,UAiDrBtD,GAAoB5H,EAAayJ,EAAmBzU,GAAIY,GAjDnC,QAmD3B8U,IACAZ,GAAc,GACdN,EAAY,IACZ/C,EAAa,MAtDc,kDAwD3BnU,QAAQC,IAAR,MACAX,GAAa,GAzDc,0DAAH,sDA6DtB2Y,EAAsB,uCAAG,WAAMvV,GAAN,SAAA7C,EAAA,6DAC7BP,GAAa,GADgB,kBFhLGpB,EEmLJwP,EFnLW2H,EEmLE3S,EFlLpClE,IAAMkN,OAAN,UAAgB5I,GAAhB,YAAkCuS,EAAlC,KAAmDpX,EAAkBC,IE+K7C,OAI3Bka,IAJ2B,gDAM3BpY,QAAQC,IAAR,MACAX,GAAa,GAPc,kCFhL1B,IAA6BpB,EAAOmX,IEgLV,oBAAH,sDAgBtByC,EAAkB,SAAAnP,GACtB2O,EAAU,UACVF,EAAsBzO,GACtB6O,GAAc,GACdrD,EAAaxL,EAAWU,OAAO7G,KAAI,SAAAQ,GACjC,OAAO,6BACFA,GADL,IAEE6V,IAAK7V,EAAMN,UA0BjB,OALAxC,qBAAU,WACRkY,MAEC,IAGD,yBAAKtS,UAAU,gBACb,6BAASA,UAAU,oBACjB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAK9D,KAAK,KACR,4BAAI,0EAEN,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQyH,KAAM,kBAAC+J,GAAA,EAAD,MAAkBnM,QA9ChB,WACxBiQ,EAAU,UACVE,GAAc,KA4CN,yBAON,6BAAS1R,UAAU,qBACjB,kBAAC,KAAD,CAAOzD,QAAShD,EAAWyZ,OAAO,KAAKC,QAAStB,EAAcuB,WAAYrQ,KAE5E,kBAAC,KAAD,CACEkL,QAAS0D,EACT0B,WAzCwB,WAC5BjC,EAAe/B,cACfmC,EAAsB,MACtBjD,EAAa,KAuCT+E,gBAAgB,EAChBC,eAAgB9Z,EAChB+Z,KAtCgB,WACL,WAAX/B,GACFL,EAAeqC,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAIyX,EAAuBzX,MAGzD,WAAXyW,GACFL,EAAeqC,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAI+X,EAAuB/X,OAiCpEmT,SAAU,kBAAMyD,GAAc,IAC9BnR,MAAM,OACN,kBAAC,GAAD,CAAgB0O,KAAMiC,EAAgBrO,WAAYwO,IAClD,kBAAC,GAAD,CACEzD,SAAUQ,EACVN,aA9MmB,SAAAtB,GAEzB,OADA6B,EAAa,GAAD,oBAAKD,GAAL,CAAgB5B,MACrB,GA6MD/P,SA1MmB,SAAC,GAAkB,IAAhBmR,EAAe,EAAfA,SAC5BS,EAAa,aAAIT,UCnEN6F,I,OANG,SAAApa,GAChB,OACE,kBAACkS,GAAA,EAAD,CAAQvL,UAAU,aAAawL,SAAUnS,EAAMmS,aCQpCkI,I,OAVM,SAAAra,GACnB,OACE,2BAAO2G,UAAU,cACf,kBAAC0N,GAAA,EAAD,MACA,2BAAO1N,UAAU,mBAAmB2T,IAAKta,EAAMua,SAAUxX,KAAK,OAAOyX,OAAO,UAAUC,UAAQ,EAACrX,SAAUpD,EAAMoD,WAC/G,yBAAKuD,UAAU,mBAAf,yBCWS+T,I,OAhBO,SAAA1a,GAAU,IACtBmT,EAASnT,EAATmT,KADqB,EAEDlT,mBAAS,IAFR,mBAEtB0a,EAFsB,KAEdC,EAFc,KAIvBxH,EAAS,IAAIC,WAKnB,OAJAD,EAAOE,cAAcH,GACrBC,EAAOG,OAAS,WACdqH,EAAUxH,EAAOI,SAGjB,yBAAK7M,UAAU,kBACb,yBAAKA,UAAU,qBAAqBI,IAAK4T,EAAQ1T,IAAI,QCDnDpH,I,OAAWC,IAAXD,QACAgb,GAAaC,IAAbD,SAgbOE,GA9ac,SAAA/a,GAAS,MAEoBC,oBAAS,GAF7B,mBAE7B+a,EAF6B,KAENC,EAFM,OAGQhb,oBAAS,GAHjB,mBAG7Bib,EAH6B,KAGZC,EAHY,OAIclb,oBAAS,GAJvB,mBAI7Bmb,EAJ6B,KAITC,EAJS,OAKMpb,oBAAS,GALf,mBAK7Bqb,EAL6B,KAKbC,EALa,OAMUtb,oBAAS,GANnB,mBAM7Bub,EAN6B,KAMXC,EANW,OAOYxb,oBAAS,GAPrB,mBAO7Byb,EAP6B,KAOVC,EAPU,OAQF1b,oBAAS,GARP,mBAQ7BC,EAR6B,KAQlBC,EARkB,OAWIF,mBAAS,MAXb,mBAW7B2b,EAX6B,KAWfC,EAXe,OAYR5b,mBAAS,MAZD,mBAY7BG,EAZ6B,KAYrBC,EAZqB,QAaFJ,mBAAS,MAbP,qBAa7BK,GAb6B,MAalBC,GAbkB,SAcVN,mBAAS,MAdC,qBAc7BsW,GAd6B,MActBC,GAdsB,SAeNvW,mBAAS,MAfH,qBAe7BwW,GAf6B,MAepBC,GAfoB,SAgBJzW,mBAAS,MAhBL,qBAgB7BiR,GAhB6B,MAgBnBC,GAhBmB,SAiBJlR,mBAAS,IAjBL,qBAiB7BsU,GAjB6B,MAiBnBuH,GAjBmB,SAoBU7b,mBAAS,CAAE0R,IAAK,UAAWD,IAAK,aApB1C,qBAoB7BqK,GApB6B,MAoBZC,GApBY,SAqBZ/b,mBAAS,CAAE0H,UAAU,IArBT,qBAqB7B5E,GArB6B,MAqBvBkZ,GArBuB,MAwB9BC,GAAUC,mBACVlW,GAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aAGvCmW,GAAuB,uCAAG,4BAAA1b,EAAA,6DAC9Bua,GAAuB,GADO,kBAGOzV,IAHP,OAGtB6W,EAHsB,OAI5BR,EAAgBQ,EAAqBzb,MAJT,gDAM5BC,QAAQC,IAAI,CAAEqE,MAAK,OANS,QAQ9B8V,GAAuB,GARO,yDAAH,qDAYvBqB,GAAS,uCAAG,4BAAA5b,EAAA,6DAChBya,GAAiB,GADD,kBAGoB/b,IAHpB,OAGRmd,EAHQ,OAIdlc,EAAUkc,EAAoB3b,MAJhB,gDAMdC,QAAQC,IAAI,CAAEqE,MAAK,OANL,QAQhBgW,GAAiB,GARD,yDAAH,qDAaTqB,GAAgB,uCAAG,WAAMC,GAAN,eAAA/b,EAAA,6DACvB2a,GAAoB,GACpB9a,GAAa,MACbiW,GAAS,MAHc,kBAKcjX,EAAsBkd,GALpC,OAKfC,EALe,OAMrBnc,GAAamc,EAAqB9b,MANb,kDAQrBC,QAAQC,IAAI,CAAEqE,MAAK,OARE,QAUvBkW,GAAoB,GAVG,0DAAH,sDAchBsB,GAAoB,uCAAG,WAAMC,GAAN,uBAAAlc,EAAA,6DAC3B6a,GAAgB,GAChBE,GAAkB,GAClBjF,GAAS,MACTE,GAAW,MACXvF,GAAY,MALe,kBAOiDnB,QAAQ+G,IAAI,CACpFrX,EAAsBkd,GACtBhd,EAAwBgd,GACxB9L,GAAyB8L,KAVF,mCAOlBC,EAPkB,KAOAC,EAPA,KAOoBC,EAPpB,KAYzBvG,GAASqG,EAAiBjc,MAC1B8V,GAAWoG,EAAmBlc,MAC9BuQ,GAAY4L,EAAoBnc,MAdP,kDAgBzBC,QAAQC,IAAI,CAAEqE,MAAK,OAhBM,QAkB3BoW,GAAgB,GAChBE,GAAkB,GAClBE,GAAmB,GApBQ,0DAAH,sDAwCpBqB,GAAY,uCAAG,WAAMvb,GAAN,2CAAAf,EAAA,6DACf0Y,EAAY,GAChBjZ,GAAa,GAFM,kBAIYkW,GAA0B9B,IAJtC,OAIX0I,EAJW,OAKjB7D,EAAY6D,EAAerc,KAAKwY,UALf,gDAOjBvY,QAAQC,IAAI,CAAEqE,MAAK,OAPF,eAWjBqC,EAYE/F,EAZF+F,MACAiB,EAWEhH,EAXFgH,MACA6O,EAUE7V,EAVF6V,QACAC,EASE9V,EATF8V,SACA9M,EAQEhJ,EARFgJ,KACA4M,EAOE5V,EAPF4V,SACAG,EAME/V,EANF+V,WACAzN,EAKEtI,EALFsI,OACAsP,EAIE5X,EAJF4X,wBACAC,EAGE7X,EAHF6X,QACAC,EAEE9X,EAFF8X,UACA2D,EACEzb,EADFyb,WAEI/Y,EAAO,CACXqD,MAAOA,EACPiB,MAAOA,EACP6O,QAASA,EACTC,SAAUA,EACV9M,KAAMA,EACN4M,SAAUA,EACVG,WAAYA,EACZzN,OAAQA,EACRsP,wBAAyBA,EACzBC,QAASA,EACTC,UAAWA,EACX5G,SAAUoJ,GAAgBpK,IAC1BiB,UAAWmJ,GAAgBrK,IAC3BwL,WAAYA,EACZ9D,UAAWA,GAvCM,oBA2CX5N,GAAoBvF,GAAUsI,YAAapK,GA3ChC,2DA6CjBtD,QAAQC,IAAI,CAAEqE,MAAK,OA7CF,QA+CnBhF,GAAa,GA/CM,iEAAH,sDA4DlB,OAVAY,qBAAU,YACK,uCAAG,sBAAAL,EAAA,sEACRsP,QAAQ+G,IAAI,CAChBqF,KACAE,OAHY,2CAAH,qDAMba,KACC,IAID,kBAAC,IAAD,CACExW,UAAU,iBACVpF,OAAO,WACPC,SAAUwb,GAAcI,oBAAoB,EAC5C1O,YAAU,GACV,kBAAC,IAAD,CAAKlM,OAAQ,IACX,kBAAC,IAAD,CAAKiQ,GAAI,GAAIrR,GAAI,IACf,kBAAC,IAAKqB,KAAN,CAAWQ,MAAM,uBAAUP,KAAK,QAAQkM,MAAO,CAC7C,CAAEC,UAAU,EAAMJ,QAAS,gDAE3B,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAKjM,OAAQ,IACX,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,SACfP,KAAK,QACLC,aAAc,EACdiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,gCAC3B,CAAE4O,QAAS,iBAAkB5O,QAAS,sCAExC,kBAAC,IAAD,CAAO1L,KAAK,SAASua,OAAO,WAAMC,IAAK,MAG3C,kBAAC,IAAD,CAAK1a,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,4BACfP,KAAK,aACLC,aAAc,IACdiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,mDAC3B,CAAE4O,QAAS,WAAY5O,QAAS,wCAElC,kBAAC,IAAD,CAAO8O,IAAK,EAAGxa,KAAK,cAI1B,kBAAC,IAAD,CAAKP,OAAQ,IACX,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,4BACfP,KAAK,UACLC,aAAc,EACdiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,2CAC3B,CAAE4O,QAAS,YAAa5O,QAAS,uCAEnC,kBAAC,IAAD,CAAO1L,KAAK,SAASua,OAAO,WAAQC,IAAK,MAG7C,kBAAC,IAAD,CAAK1a,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,4BACfP,KAAK,WACLC,aAAc,EACdiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,2CAC3B,CAAE4O,QAAS,YAAa5O,QAAS,uCAEnC,kBAAC,IAAD,CAAO1L,KAAK,SAASua,OAAO,WAAQC,IAAK,OAI/C,kBAAC,IAAD,CAAK/a,OAAQ,IACX,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CACEQ,MAAM,oCACNP,KAAK,OACLC,aAAc,EACdiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,2CAC3B,CAAE4O,QAAS,YAAa5O,QAAS,iDAEnC,kBAAC,IAAD,CAAO1L,KAAK,SAASwa,IAAK,EAAGD,OAAQ,kCAAO,uCAGhD,kBAAC,IAAD,CAAKza,KAAK,KACR,kBAAC,IAAKJ,KAAN,CACEQ,MAAM,8BACNP,KAAK,WACLC,aAAc,EACdiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,2CAC3B,CAAE4O,QAAS,YAAa5O,QAAS,iDAEnC,kBAAC,IAAD,CAAO1L,KAAK,SAASua,OAAQ,kCAAO,wCAI1C,kBAAC,IAAD,CAAK9a,OAAQ,IACX,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,qBACf,kBAAC,IAAD,CAAQG,SAxKW,SAAA0O,GAC/BmK,GAAQ,CAAEtU,SAAUmK,KAuKoC0L,cAAc,GACxD,kBAAC,GAAD,CAAQ5a,OAAO,GAAf,UACA,kBAAC,GAAD,CAAQA,OAAO,GAAf,kBAIN,kBAAC,IAAD,CAAKC,KAAK,KACR,kBAAC,IAAKJ,KAAN,CACEQ,MAAM,gBACNP,KAAK,0BACLC,aAAa,0BACbiM,MAAO,CACL,CAAEC,UAAU,EAAMJ,QAAS,yCAE7B,kBAAC,IAAD,CAAQvL,QAAS8X,GACf,kBAAC,GAAD,CAAQ7X,UAAQ,EAACP,MAAM,2BAAvB,2BAEEgZ,GACAA,EAAavY,KAAI,SAAAuK,GACf,IAAMlL,EAAI,UAAMkL,EAASlL,KAAK4S,OAAO,GAAGmI,eAA9B,OAA8C7P,EAASlL,KAAKsG,OAAO,IAC7E,OAAO4E,EAASjG,WAAa5E,GAAK4E,UAAY,kBAAC,GAAD,CAC5C5F,IAAK6L,EAASrK,GACdX,MAAOgL,EAASrK,IACfb,UASf,kBAAC,IAAKD,KAAN,CAAWQ,MAAM,gBAAWP,KAAK,SAASkM,MAAO,CAC/C,CAAEC,UAAU,EAAMJ,QAAS,yCAE3B,kBAACoM,GAAD,CAAU/X,YAAY,8CAA4B4a,KAAK,SAK3D,kBAAC,IAAD,CAAKjL,GAAI,GAAIrR,GAAI,IACf,kBAAC,IAAKqB,KAAN,CAAWQ,MAAM,yBACf,6BACE,kBAAC,GAAD,CAAO0D,UAAU,qBAAqBuB,QA9M3B,SAAA4J,GACrBkK,GAAmBlK,EAAEC,UA8MT,kBAAC,GAAD,CAAWI,SAAU4J,QAI3B,kBAAC,IAAD,CAAKvZ,OAAQ,IACX,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWE,aAAc,KAAMM,MAAM,gCAAmBP,KAAK,UAAUkM,MAAO,CAC5E,CAAEC,UAAU,EAAMJ,QAAS,yDAE3B,kBAAC,IAAD,CACEvL,QAASgY,EACT/X,SAAU+X,EACV9X,SAAUoZ,GACVmB,YAAU,GACV,kBAAC,GAAD,CAAQxa,UAAQ,EAACP,MAAO,MAAxB,yCAEExC,GACAA,EAAOiD,KAAI,SAAAC,GAAI,OACb,kBAAC,GAAD,CACEvB,IAAKuB,EAAKC,GACVX,MAAOU,EAAKC,IACXD,EAAKE,OAAS,IAAMF,EAAKZ,YAQtC,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWE,aAAc,KAAMM,MAAM,yBAAeP,KAAK,cAAckM,MAAO,CAC5E,CAAEC,UAAU,EAAMJ,QAAS,kDAE3B,kBAAC,IAAD,CACEvL,QAASkY,EACTjY,SAAUiY,EACVhY,SAAUuZ,IACV,kBAAC,GAAD,CAAQxZ,UAAQ,EAACP,MAAO,MAAxB,oCAEEtC,IACAA,GAAU+C,KAAI,SAAAI,GAAQ,OACpB,kBAAC,GAAD,CACE1B,IAAK0B,EAASF,GACdX,MAAOa,EAASF,IACfE,EAASD,OAAS,IAAMC,EAASf,aAShD,kBAAC,IAAD,CAAKF,OAAQ,IACX,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWE,aAAc,KAAMM,MAAM,gDAAyBP,KAAK,UAAUkM,MAAO,CAClF,CAAEC,UAAU,EAAMJ,QAAS,yEAE3B,kBAAC,IAAD,CACEvL,QAASoY,EACTnY,SAAUmY,GACV,kBAAC,GAAD,CAAQnY,UAAQ,EAACP,MAAO,MAAxB,2DAEE2T,IACAA,GAAMlT,KAAI,SAAA8F,GAAI,OACZ,kBAAC,GAAD,CACEpH,IAAKoH,EAAK5F,GACVX,MAAOuG,EAAK5F,IACX4F,EAAK3F,OAAS,IAAM2F,EAAKzG,YAQtC,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,IAAKJ,KAAN,CAAWQ,MAAM,uBAAQP,KAAK,YAAYC,aAAc,MACtD,kBAAC,IAAD,CACEO,QAASsY,EACTrY,SAAUqY,GACV,kBAAC,GAAD,CAAQrY,UAAQ,GAAhB,kCAEEsT,IACAA,GAAQpT,KAAI,SAAApB,GAAG,OACb,kBAAC,GAAD,CACEF,IAAKE,EAAIsB,GACTX,MAAOX,EAAIsB,IACVtB,EAAIuB,OAAS,IAAMvB,EAAIS,aAStC,kBAAC,IAAKD,KAAN,CAAWQ,MAAM,gBAAQP,KAAK,aAAaC,aAAc,MACvD,kBAAC,IAAD,CAAQO,QAASwY,EAAmBvY,SAAUuY,IAAqB,GACjE,kBAAC,GAAD,CAAQ9Y,MAAM,0BAAaO,UAAQ,GAAnC,2BAEE+N,IACAA,GAAS7N,KAAI,SAAAnB,GACX,OACE,kBAAC,GAAD,CAAQH,IAAKG,EAAEqB,GAAIX,MAAOV,EAAEqB,IAAKrB,EAAEQ,aAQjD,kBAAC,IAAKD,KAAN,CAAWQ,MAAM,oBAEbsR,GAASxL,OAAS,GAClBwL,GAASlR,KAAI,SAAC8P,EAAMhI,GAClB,OAAO,kBAAC,GAAD,CAAepJ,IAAKoJ,EAAOgI,KAAMA,OAG5C,kBAAC,GAAD,CAAcoH,SAAU2B,GAAS9Y,SAlUb,SAAA0O,GACxB,IAAM8L,EAAQ9L,EAAE+L,OAAOD,MACnBA,EAAM7U,OAAS,IACjB+S,IAAY,SAAAgC,GAAS,6BAAQF,GAAR,aAAkBE,OACvC5B,GAAQ6B,QAAQnb,MAAQ,UAgUxB,kBAAC,IAAKH,KAAN,KACE,kBAAC,IAAD,CAAQS,QAAShD,EAAW6C,KAAK,UAAUC,SAAS,SAASqS,KAAK,SAAlE,uBC5aO2I,GAVkB,WAC/B,OACE,iCACE,mFACA,kBAAC,IAAD,MACA,kBAAC,GAAD,QCPAra,I,OAAc,UAAMzE,EAAN,uBAMb,SAASuM,GAAwB1M,EAAOmX,GAC7C,OAAO7W,IAAMC,IAAN,UAAaqE,GAAb,YAA+BuS,EAA/B,KAAgDpX,EAAkBC,IAGpE,SAASkf,GAAqBlf,EAAOmX,GAI1C,OAAO7W,IAAMC,IAAN,UAAaqE,GAAb,YAA+BuS,EAA/B,cAHM,CACXgI,UAAW,QAEyDpf,EAAkBC,I,cC8G3Eof,GApHW,SAAAne,GAAU,IAAD,EAEzBkW,EADW3D,cAAX9S,OACAyW,aAEA7P,EADUH,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aACrCI,KACFkI,EAAc5J,IAAQrF,IAAI,UALC,EAOiBW,mBAAS,MAP1B,mBAO1Bme,EAP0B,KAOPC,EAPO,OAQiCpe,mBAAS,MAR1C,mBAQ1Bqe,EAR0B,KAQEC,EARF,iDAUjC,WAAoCrI,GAApC,eAAAxV,EAAA,yDACE6d,GAA4B,GAD9B,UAGqBlY,IAAQA,EAAK0B,SAHlC,gCAIY0D,GAAwB8C,EAAa2H,GAJjD,2DAKYD,GAA4B1H,EAAa2H,GALrD,4BAGUvV,EAHV,KAMI0d,EAAqB1d,EAASC,KAAKA,MACnCC,QAAQC,IAAIH,EAASC,KAAKA,KAAK8I,SAPnC,kDASI7I,QAAQC,IAAR,MATJ,QAWEyd,GAA4B,GAX9B,2DAViC,sBA4CjC,OApBAxd,qBAAU,WACJmV,GAzB2B,oCA0B7BsI,CAAqBtI,KAGtB,IAgBDkI,EACE,yBAAKzX,UAAU,mBACb,4BAAI,gCAASyX,EAAkB5W,QAC/B,kBAAC,IAAD,MAEA,yBAAKb,UAAU,2BACb,2BAAG,uDACH,+BACE,+BACE,4BACE,sCACA,4BAAKyX,EAAkB3V,MAAvB,QACA,yDACA,4BAAK2V,EAAkB5G,aAEzB,4BACE,iEACA,4BAAK4G,EAAkB3T,KAAvB,KAA8B,mCAC9B,2DACA,4BAAK2T,EAAkB/G,SAAvB,KAAkC,oCAEpC,4BACE,iDACA,4BAAK+G,EAAkB9G,SACvB,iDACA,4BAAK8G,EAAkB7G,WAEzB,4BACE,iDACA,4BAAK6G,EAAkB3G,qBAAqB9P,SAAW,cAAa,UACpE,yCACA,4BAAKyW,EAAkB3G,qBAAqB/U,KAAK4S,OAAO,GAAGmI,cAAgBW,EAAkB3G,qBAAqB/U,KAAKsG,OAAO,KAEhI,4BACE,sDACA,wBAAIyV,QAAQ,KAjD1B,SAA0BjV,GACxB,IAAMH,EAASG,EAAWE,QAAQL,OAC5BF,EAAOK,EAAWE,QAAQP,KAC1B1F,EAAW0F,EAAK1F,SAChBH,EAAOG,EAASH,KAEhBob,EAAarV,GAAWA,EAAO7F,OAAS,IAAM6F,EAAO3G,KAAO,MAAU,GACtEic,EAAUxV,EAAK3F,OAAS,IAAM2F,EAAKzG,KACnCkc,EAAcnb,EAASD,OAAS,IAAMC,EAASf,KAC/Cmc,EAAUvb,EAAKE,OAAS,IAAMF,EAAKZ,KACzC,MAAM,GAAN,OAAUgc,GAAV,OAAsBC,EAAtB,aAAkCC,EAAlC,aAAkDC,GAuCrBzV,CAAiBgV,KAEpC,4BACE,6CACA,sCAAKA,EAAkB/N,eAAvB,aAAK,EAA2B3N,UAMxC,yBAAKiE,UAAU,2BACb,2BAAG,+DACH,yBAAKyD,wBAAyB,CAAEC,OAAQ+T,EAAkBrU,WAG5D,yBAAKpD,UAAU,0BAEXyX,EAAkBlU,OAAO7G,KAAI,SAAAQ,GAAK,OAAI,yBAAK9B,IAAK8B,EAAMN,GAAIwD,IAAKlD,EAAMsG,IAAKlD,IAAKpD,EAAMsG,UAIzF,yBAAKxD,UAAU,uBACb,kBAAC,GAAD,CAAOpD,GAAG,mBACR,kBAAC2O,GAAA,EAAD,CAAQC,SAAU,CAACR,IAAKyM,EAAkB1U,QAAQiJ,SAAUjB,IAAK0M,EAAkB1U,QAAQkJ,gBAKjG,kBAAC,KAAD,CACEkM,QAAM,EACNtX,MAAO,CAAEN,MAAO,KAChB6X,UAAW,CAAErB,KAAM,GAAIxW,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAC5EhE,QAASob,KC7GTU,GAAmBtZ,IAAnBsZ,MAAO5W,GAAY1C,IAAZ0C,QA0CA4K,OAxCI,SAAAhT,GAAU,IACnB6H,EAAS0K,cAAT1K,KACAP,EAAazB,cAAbyB,SACF2X,EAAc,CAClB,CAAEpX,KAAK,GAAD,OAAKA,EAAL,KAAcnF,KAAM,qBAC1B,CAAEmF,KAAK,GAAD,OAAKA,EAAL,gBAAyBnF,KAAM,qCAEvC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQiE,UAAU,eAChB,kBAAC,EAAD,CAAQC,aAAW,IACnB,kBAAC,IAAD,KACE,kBAACoY,GAAD,CAAOE,WAAW,KAAKC,eAAgB,EAAGjY,MAAO,IAAKP,UAAU,qBAC9D,kBAAC,IAAD,CAAMQ,MAAM,OAAOC,KAAK,WAAWC,aAAc,CAACC,IAE9C2X,EAAY5b,KAAI,SAAA+b,GAAK,OACnB,kBAAC,IAAK3c,KAAN,CAAWV,IAAKqd,EAAMvX,MACpB,kBAAC,IAAD,CAAMf,GAAE,UAAKsY,EAAMvX,OAChBuX,EAAM1c,YAOnB,kBAAC,GAAD,CAASiE,UAAU,uBACjB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkB,KAAI,UAAKA,EAAL,KAAcwX,OAAK,EAACC,UAAWvJ,KAC1C,kBAAC,IAAD,CAAOlO,KAAI,UAAKA,EAAL,gBAAyBwX,OAAK,EAACC,UAAW1H,KACrD,kBAAC,IAAD,CAAO/P,KAAI,UAAKA,EAAL,uBAAgCyX,UAAWtB,KACtD,kBAAC,IAAD,CAAOnW,KAAI,UAAKA,EAAL,8BAAuCyX,UAAWnB,KAC7D,kBAAC,IAAD,CAAOtW,KAAI,UAAKA,EAAL,MAAeyX,UAAW,kBAAM,kBAAC,IAAD,CAAUxY,GAAE,UAAKe,EAAL,kBCpCtD0X,GANO,SAAAvf,GACpB,OACE,kBAAC,IAAD,CAAU8G,GAAG,wB,8BC4LF0Y,GAxLa,SAAAxf,GAAU,IAAD,IAECC,mBAAS,MAFV,mBAE5BuJ,EAF4B,KAEhBsC,EAFgB,OAKD7L,oBAAS,GALR,mBAK5BC,EAL4B,KAKjBC,EALiB,OAMiBF,mBAAS,MAN1B,mBAM5B+X,EAN4B,KAMRC,EANQ,OAOEhY,oBAAS,GAPX,mBAO5BmY,EAP4B,KAOfC,EAPe,KAU7B9J,EAAc5J,IAAQrF,IAAI,UAE1BgZ,EAAe,CACnB,CAAE9Q,MAAO,uBAAW+Q,UAAW,SAC/B,CAAE/Q,MAAO,SAAO+Q,UAAW,SAC3B,CAAE/Q,MAAO,yBAAWzF,IAAK,UAAWyW,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkBxP,GAAsBwP,EAAO/O,WAC3F,CACElC,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAM6P,GAChD,OACE,oCACE,kBAAC,KAAD,CAASjR,MAAM,OACb,kBAAC,IAAD,CAAQU,QAAS,kBAAMuX,EAAgBhH,IAAS1V,KAAK,OAAOuH,KAAM,kBAACoV,GAAA,EAAD,SAEpE,kBAAC,KAAD,CAASlY,MAAM,qBACb,kBAAC,KAAD,CAAYA,MAAM,4DAAkCqR,UAAW,kBAAM8G,EAAclH,EAAOlV,MACxF,kBAAC,IAAD,CAAQR,KAAK,OAAOiI,MAAO,CAAEiD,MAAO,SAAW3D,KAAM,kBAACsV,GAAA,EAAD,UAGzD,kBAAC,KAAD,CAASpY,MAAM,qBACb,kBAAC,KAAD,CAAYA,MAAM,mEAAoCqR,UAAW,kBAAMgH,EAAapH,EAAOlV,MACzF,kBAAC,IAAD,CAAQR,KAAK,OAAOgW,QAAM,EAACzO,KAAM,kBAACwV,GAAA,EAAD,cASzCC,EAAa,uCAAG,4BAAArf,EAAA,6DACpBP,GAAa,GADO,kBJ7CgBpB,EIgDawP,EJ/C5ClP,IAAMC,IAAN,UAAaqE,GAAb,KAAgC7E,EAAkBC,II4CnC,OAGZ4B,EAHY,OAIlBmL,EAAcnL,EAASC,KAAK6L,SAJV,gDAMlB5L,QAAQC,IAAR,MANkB,QAQpBX,GAAa,GARO,kCJ7CjB,IAAiCpB,II6ChB,oBAAH,qDAWnBgC,qBAAU,WACRgf,MAEC,IAEH,IAAMN,EAAkB,SAAAjW,GACtByO,EAAsBzO,GACtB6O,GAAc,IAGVsH,EAAa,uCAAG,WAAMzJ,GAAN,SAAAxV,EAAA,6DACpBP,GAAa,GADO,kBAGZ8d,GAAqB1P,EAAa2H,GAHtB,uBAIZ6J,IAJY,uDAMlBlf,QAAQC,IAAR,MACAX,GAAa,GAPK,yDAAH,sDAWb0f,EAAY,uCAAG,WAAMtc,GAAN,SAAA7C,EAAA,6DACnBP,GAAa,GADM,kBJ9DapB,EIiEJwP,EJjEW2H,EIiEE3S,EJhEpClE,IAAMC,IAAN,UAAaqE,GAAb,YAA+BuS,EAA/B,cAAyDpX,EAAkBC,II6D7D,uBAIXghB,IAJW,uDAMjBlf,QAAQC,IAAR,MACAX,GAAa,GAPI,kCJ9DhB,IAA6BpB,EAAOmX,II8DpB,oBAAH,sDAWZ8J,EAAa,WACjB3H,GAAc,GACdJ,EAAsB,OAGxB,OACE,yBAAKtR,UAAU,iBACb,4BAAI,sEACJ,kBAAC,IAAD,MACA,kBAAC,KAAD,CAAOzD,QAAShD,EAAWyZ,OAAO,KAAKC,QAAStB,EAAcuB,WAAYrQ,IAC1E,kBAAC,KAAD,CACEuQ,gBAAgB,EAChBrF,QAAS0D,EACTxD,SAAUoL,EACV/F,KAAM+F,EACN9Y,MAAM,OAEN,6BAAK,yDACL,kCAAI8Q,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBxQ,OAGxB,kBAAC,IAAD,CAAKhF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,6BAAK,sDACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBvN,OAE1B,kBAAC,IAAD,CAAK5H,KAAK,KACR,6BAAK,gEACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBX,WAE1B,kBAAC,IAAD,CAAKxU,KAAK,KACR,6BAAK,sDACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBV,UAE1B,kBAAC,IAAD,CAAKzU,KAAK,KACR,6BAAK,sDACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBT,YAI5B,kBAAC,IAAD,CAAK/U,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,6BAAK,2CACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBvP,QAE1B,kBAAC,IAAD,CAAK5F,KAAK,KACR,6BAAK,8DACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBR,aAE1B,kBAAC,IAAD,CAAK3U,KAAK,KACR,6BAAK,sDACL,4BAAsB,OAAlBmV,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBP,qBAAqB9P,UAAW,cAAa,WAEvE,kBAAC,IAAD,CAAK9E,KAAK,KACR,6BAAK,kDACL,kCAAImV,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBP,qBAAqB/U,QAIjD,kBAAC,IAAD,CAAKF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,6BAAK,2DACL,2BAAIuG,GAAgB,OAAC4O,QAAD,IAACA,OAAD,EAACA,EAAoBtO,WAE3C,kBAAC,IAAD,CAAK7G,KAAK,KACR,6BAAK,6DACL,4BAAsB,OAAlBmV,QAAkB,IAAlBA,GAAA,UAAAA,EAAoB3H,eAApB,eAA6B3N,OAAQ,cAI7C,6BAAK,kDACL,yBAAK0H,wBAAyB,CAAEC,OAAM,OAAE2N,QAAF,IAAEA,OAAF,EAAEA,EAAoBjO,UAE5D,6BAAK,0DAEHiO,GACA,kBAAC,GAAD,CAAOpG,KAAM,GAAI5G,MAAO,CAAE2M,OAAQ,KAAOlG,OACvC,CACEE,IAAKqG,EAAmBtO,QAAQiJ,SAChCjB,IAAKsG,EAAmBtO,QAAQkJ,YAGlC,kBAACV,GAAA,EAAD,CAAQC,SAAU,CAAER,IAAKqG,EAAmBtO,QAAQiJ,SAAUjB,IAAKsG,EAAmBtO,QAAQkJ,cAIlG,6BAAK,qDACL,kBAAC,KAAD,CAAUqN,gBAAc,EAACvN,UAAQ,GAAjC,OAEIsF,QAFJ,IAEIA,OAFJ,EAEIA,EAAoB9N,OAAO7G,KAAI,SAAAQ,GAC7B,OAAO,yBAAK9B,IAAK8B,EAAMN,IACrB,yBAAKwD,IAAKlD,EAAMsG,IAAKlD,IAAKpD,EAAMsG,cClLxCtK,GAAWC,IAAXD,OA2DOqgB,GAzDQ,SAAAlgB,GAAU,IAAD,EACAC,mBAAS,IADT,mBACvB8M,EADuB,KACdoT,EADc,OAEclgB,mBAAS,MAFvB,mBAEvBwN,EAFuB,KAEPC,EAFO,OAGIzN,oBAAS,GAHb,mBAGvBC,EAHuB,KAGZC,EAHY,iDAK9B,4BAAAO,EAAA,6DACEP,GAAa,GADf,kBAG2BoN,KAH3B,OAGU5M,EAHV,OAII+M,EAAkB/M,EAASC,MAJ/B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAL8B,sBAoB9B,OAJAY,qBAAU,YAhBoB,mCAiB5B8M,KACC,IAGD,6BACE,kBAAC,IAAD,CACEtM,OAAO,WACPqU,KAAM5V,EAAM4V,KACZpU,SAAUxB,EAAMwB,SAChBsL,KAAM9M,EAAM8M,MACZ,kBAAC,IAAKrK,KAAN,CAAWQ,MAAM,uBAAUP,KAAK,QAAQkM,MAAO,CAC7C,CAAEC,UAAU,EAAMJ,QAAS,gDAE3B,kBAAC,IAAD,OAGF,kBAAC,IAAKhM,KAAN,CAAWQ,MAAM,gBAAWP,KAAK,UAAUC,aAAa,GAAGiM,MAAO,CAChE,CAAEC,UAAU,EAAMJ,QAAS,yCAE3B,kBAAC,KAAD,CAAO7L,MAAOmK,EAAS3J,SAAU+c,KAGnC,kBAAC,IAAK1d,KAAN,CAAWQ,MAAM,gBAAWP,KAAK,mBAAmBkM,MAAO,CACzD,CAAEC,UAAU,EAAMJ,QAAS,yCAE3B,kBAAC,IAAD,CAAQvL,QAAShD,GAEbuN,GACAA,EAAepK,KAAI,SAAAqE,GACjB,OAAO,kBAAC,GAAD,CAAQ9E,MAAO8E,EAAEnE,GAAIxB,IAAK2F,EAAEnE,IAAKmE,EAAEhF,cCnDpDiB,GAAc,UAAMzE,EAAN,eAcb,SAASkhB,GAAgBrhB,EAAOmL,GACrC,IAAMpG,EAAW,IAAIC,SAKrB,OAJAmG,EAAOpI,SAAQ,SAAA+B,GACbC,EAASE,OAAO,WAAYH,MAGvBxE,IAAM+E,KAAN,UAAcT,GAAd,kBAA8CG,EAAUhF,EAAkBC,I,ICjB3Ec,GAAWC,IAAXD,OA8DOwgB,GA5DM,SAAArgB,GAEnB,IAAM8M,EAAO9M,EAAM8M,KAFS,EAIE7M,mBAAS,IAJX,mBAIrB8M,EAJqB,KAIZoT,EAJY,OAKgBlgB,mBAAS,MALzB,mBAKrBwN,EALqB,KAKLC,EALK,OAMMzN,oBAAS,GANf,mBAMrBC,EANqB,KAMVC,EANU,iDAQ5B,4BAAAO,EAAA,6DACEP,GAAa,GADf,kBAG2BoN,KAH3B,OAGU5M,EAHV,OAII+M,EAAkB/M,EAASC,MAJ/B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAR4B,sBAuB5B,OAJAY,qBAAU,YAnBkB,mCAoB1B8M,KACC,IAGD,6BACE,kBAAC,IAAD,CACEtM,OAAO,WACPqU,KAAM5V,EAAM4V,KACZpU,SAAUxB,EAAMwB,SAChBsL,KAAM9M,EAAM8M,MACZ,kBAAC,IAAKrK,KAAN,CAAWQ,MAAM,uBAAUP,KAAK,QAAQC,aAAcmK,EAAKtF,MAAOoH,MAAO,CACvE,CAAEC,UAAU,EAAMJ,QAAS,gDAE3B,kBAAC,IAAD,OAGF,kBAAC,IAAKhM,KAAN,CAAWQ,MAAM,gBAAWP,KAAK,UAAUC,aAAcmK,EAAKC,QAAS6B,MAAO,CAC5E,CAAEC,UAAU,EAAMJ,QAAS,yCAE3B,kBAAC,KAAD,CAAO7L,MAAOmK,EAAS3J,SAAU+c,KAGnC,kBAAC,IAAK1d,KAAN,CAAWQ,MAAM,gBAAWP,KAAK,mBAAmBC,aAAcmK,EAAKE,cAAczJ,GAAIqL,MAAO,CAC9F,CAAEC,UAAU,EAAMJ,QAAS,yCAE3B,kBAAC,IAAD,CAAQvL,QAAShD,GAEbuN,GACAA,EAAepK,KAAI,SAAAqE,GACjB,OAAO,kBAAC,GAAD,CAAQ9E,MAAO8E,EAAEnE,GAAIxB,IAAK2F,EAAEnE,IAAKmE,EAAEhF,cC7ClDgT,GAAYb,IAAZa,QA2NO4K,GAzNO,SAAAtgB,GAAU,IAAD,EACLC,mBAAS,MADJ,mBACtB6M,EADsB,KAChBa,EADgB,OAEW1N,mBAAS,MAFpB,mBAEtBsgB,EAFsB,KAEPC,EAFO,OAGQvgB,oBAAS,GAHjB,mBAGtBmY,EAHsB,KAGTC,EAHS,OAIR3C,KAAd+K,EAJsB,sBAKV/K,KAAZgL,EALsB,sBAMDzgB,mBAAS,IANR,mBAMtBiY,EANsB,KAMdC,EANc,OAOKlY,mBAAS,IAPd,mBAOtB8U,EAPsB,KAOXC,EAPW,KAQvBzG,EAAc5J,IAAQrF,IAAI,UARH,EASKW,oBAAS,GATd,mBAStBC,EATsB,KASXC,EATW,OAUMF,mBAAS,MAVf,mBAUtBmZ,EAVsB,KAUXuH,EAVW,OAWW1gB,mBAAS,MAXpB,mBAWtB2gB,EAXsB,KAWRC,EAXQ,KAavBvI,EAAe,CACnB,CAAE9Q,MAAO,IAAKgR,OAAQ,SAAC5P,EAAM6P,EAAQtN,GAAf,OAA0BA,EAAQ,IACxD,CAAE3D,MAAO,uBAAW+Q,UAAW,QAASC,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkB,kBAAC,IAAD,CAAM3R,GAAE,gBAAW2R,EAAO7Q,OAAS6Q,EAAOjR,SAC5G,CAAEA,MAAO,YAAQ+Q,UAAW,qBAAsBC,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkBA,EAAOzL,cAActK,OACjG,CAAE8E,MAAO,yBAAa+Q,UAAW,aAAcC,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkB,IAAI7N,KAAK6N,EAAO5N,YAAYC,mBAAmB,WACxH,CACEtD,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAACsI,EAAGrI,GAC7C,OACE,oCACE,kBAAC,KAAD,CAASjR,MAAM,uBACb,kBAAC,IAAD,CAAQzE,KAAK,OAAOuH,KAAM,kBAACsO,GAAA,EAAD,MAAkB1Q,QAAS,kBAAMyQ,EAAgBF,OAE7E,kBAAC,KAAD,CAASjR,MAAM,UACb,kBAAC,KAAD,CAAYA,MAAM,uDAA+BqR,UAAW,kBAAMkI,GAAatI,EAAOlV,MACpF,kBAAC,IAAD,CAAQwV,QAAM,EAAChW,KAAK,OAAOuH,KAAM,kBAAC0O,GAAA,EAAD,cA3BlB,4CAoC7B,4BAAAtY,EAAA,6DACE8f,GAAe,GADjB,kBAG2BrT,KAH3B,OAGUxM,EAHV,OAIIgN,EAAQhN,EAASC,MAJrB,gDAMIC,QAAQC,IAAR,MANJ,QAQE0f,GAAe,GARjB,0DApC6B,sBA+C7B,IAAMQ,EAAiB,SAAC,GAAkB,IAAhBzM,EAAe,EAAfA,SACxBS,EAAa,aAAIT,KAQb0M,EAAY,uCAAG,WAAMxf,GAAN,uBAAAf,EAAA,yDACnBP,GAAa,GADM,SAIZiZ,EAJY,gCAKQgH,GAAgB7R,EAAawG,EAAU1R,KAAI,SAAAQ,GAAK,OAAIA,EAAMsQ,kBALlE,OAKTxT,EALS,OAMfugB,EAAqBvgB,EAASC,KAAKwY,UACnCuH,EAAcO,GAPC,cASXC,EAAW,CACf3Z,MAAO/F,EAAO+F,MACduF,QAAStL,EAAOsL,QAChBqU,iBAAkB3f,EAAO2f,iBACzBhI,UAAW8H,GAbI,UFjEOniB,EEgFmBwP,EFhFZpK,EEgFyBgd,EF/ErD9hB,IAAM+E,KAAN,UAAcT,GAAd,KAAiCQ,EAAMrF,EAAkBC,IEgE3C,QAeXsiB,EAfW,QAgBXC,EAhBW,gBAgBKxU,IACbL,QAAT,aAAuBK,EAAKL,SAC5B6U,EAAS7U,QAAQ8U,QAAQF,EAAezgB,KAAKA,MAC7C+M,EAAQ2T,GACRX,EAAc,MACdtI,GAAc,GACdrD,EAAa,MAtBI,kDAwBjBnU,QAAQC,IAAR,MAxBiB,QA0BnBX,GAAa,GA1BM,kCFjEhB,IAAuBpB,EAAOoF,IEiEd,qBAAH,sDA6BZwU,EAAkB,SAAA7L,GACtBuL,GAAc,GACdwI,EAAgB/T,GAChBqL,EAAU,QACVnD,EAAalI,EAAK5C,OAAO7G,KAAI,SAAAQ,GAC3B,OAAO,6BACFA,GADL,IAEE6V,IAAK7V,EAAMN,UAKXie,GAAU,uCAAG,WAAM/f,GAAN,+BAAAf,EAAA,yDACjBP,GAAa,GADI,SAGX+gB,EAAqB,GACnBO,EAAiBb,EAAa1W,OAAO7G,KAAI,SAAAQ,GAAK,OAAIA,EAAMN,MACzD6V,EALU,uBAMPsI,EAAa3M,EAAUtN,QAAO,SAAA5D,GAAK,OAAIA,EAAMsQ,iBAAe9Q,KAAI,SAAAQ,GAAK,OAAIA,EAAMsQ,kBACtEpL,OAAS,GAPX,iCAQYqX,GAAgB7R,EAAamT,GARzC,OAQL/gB,EARK,OASXugB,EAAqBvgB,EAASC,KAAKwY,UACnCuH,EAAcO,GAVH,eAaTC,EAAW,CACf3Z,MAAO/F,EAAO+F,MACduF,QAAStL,EAAOsL,QAChBqU,iBAAkB3f,EAAO2f,iBACzBhI,UAAW8H,EAAkB,uBAAOO,GAAP,aAA0BP,IAA1B,aAAoDO,IAjBpE,UFtGS1iB,EEyHmBwP,EFzHZoT,EEyHyBf,EAAard,GFzH7BY,EEyHiCgd,EFxHtE9hB,IAAM8V,IAAN,UAAaxR,GAAb,YAA+Bge,EAA/B,KAA2Cxd,EAAMrF,EAAkBC,IEqGvD,QAmBT6iB,EAnBS,OAoBTC,EAAcD,EAAehhB,KAAKA,KAClC0gB,EArBS,gBAqBOxU,GAChB3B,EAAQmW,EAAS7U,QAAQqV,WAAU,SAAA5T,GAAC,OAAIA,EAAE3K,KAAOqd,EAAard,MACpE+d,EAAS7U,QAAT,aAAuBK,EAAKL,SAC5B6U,EAAS7U,QAAQtB,GAAS0W,EAC1BlU,EAAQ2T,GACRX,EAAc,MA1BC,kDA4Bf9f,QAAQC,IAAR,MA5Be,QA8BjBX,GAAa,GACbkY,GAAc,GA/BG,kCFtGd,IAAuBtZ,EAAO4iB,EAASxd,IEsGzB,qBAAH,sDAkCV4c,GAAY,uCAAG,WAAMxd,GAAN,iBAAA7C,EAAA,+EFpIO3B,EEsIJwP,EFtIWoT,EEsIEpe,EFrI9BlE,IAAMkN,OAAN,UAAgB5I,GAAhB,YAAkCge,EAAlC,KAA8C7iB,EAAkBC,IEmIlD,OAGXuiB,EAHW,gBAGKxU,GAChB3B,EAAQmW,EAAS7U,QAAQqV,WAAU,SAAA5T,GAAC,OAAIA,EAAE3K,KAAOA,KACvD+d,EAAS7U,QAAT,aAAuBK,EAAKL,SAC5B6U,EAAS7U,QAAQsV,OAAO5W,EAAO,GAC/BwC,EAAQ2T,GAPS,kDASjBzgB,QAAQC,IAAR,MATiB,kCFpIhB,IAAuB/B,EAAO4iB,IEoId,qBAAH,sDAaZK,GAAqB,SAAA7O,GAEzB,OADA6B,EAAa,GAAD,oBAAKD,GAAL,CAAgB5B,MACrB,GA2BT,OAJApS,qBAAU,YAzKmB,mCA0K3BgN,KACC,IAGD,yBAAKpH,UAAU,mBACb,yBAAKqE,MAAO,CAAEiX,QAAS,SACrB,4DACA,kBAAC,IAAD,CAAQjX,MAAO,CAAEkX,WAAY,QAAUha,QA9HnB,WACxBmQ,GAAc,GACdF,EAAU,YA6HJ,kBAAC9D,GAAA,EAAD,MADF,+BAIF,kBAAC,IAAD,MACA,kBAAC,KAAD,CAAOsF,OAAQ,KAAMzW,QAASqd,EAAe3G,QAAStB,EAAcuB,WAAU,OAAE/M,QAAF,IAAEA,OAAF,EAAEA,EAAML,UAEtF,kBAAC,KAAD,CACEsN,gBAAgB,EAChBE,KArCW,WACA,WAAX/B,GACFuI,EAAWvG,iBAAiBC,MAAK,SAAA1Y,GAC/Bwf,EAAaxf,MAIF,SAAXyW,GACFwI,EAASxG,iBAAiBC,MAAK,SAAA1Y,GAC7B+f,GAAW/f,OA6BXqY,WAxBoB,WACxB4G,EAAS5K,cACT2K,EAAW3K,cACX+K,EAAgB,OAsBZjM,SAAU,kBAAMyD,GAAc,IAC9B2B,eAAgB9Z,EAChBwU,QAAS0D,EAAalR,MAAM,OAEf,WAAXgR,GACA,6BACE,kBAAC,GAAD,CAAgB1W,SAAUyf,EAAcrL,KAAM6K,IAC9C,kBAAC,GAAD,CACErd,SAAU4d,EACVzM,SAAUQ,EACVN,aAAcuN,MAKP,SAAX9J,GACA,6BACE,kBAAC,GAAD,CAAc1W,SAAUggB,GAAY1U,KAAM8T,EAAchL,KAAM8K,IAC9D,kBAAC,GAAD,CACEtd,SAAU4d,EACVzM,SAAUQ,EACVN,aAAcuN,S,UC5NtBre,GAAc,UAAMzE,EAAN,0BAEb,SAASijB,KACd,OAAO9iB,IAAMC,IAAN,UAAaqE,GAAb,MCHT,IAAMA,GAAc,UAAMzE,EAAN,2BCApB,IAAMyE,GAAc,UAAMzE,EAAN,2BAEb,SAASkjB,GAAkBrjB,EAAOoF,GACvC,OAAO9E,IAAM+E,KAAN,UAAcT,GAAd,KAAiCQ,EAAMrF,EAAkBC,IAG3D,SAASsjB,GAAkBtjB,EAAOujB,EAAane,GACpD,OAAO9E,IAAM8V,IAAN,UAAaxR,GAAb,YAA+B2e,EAA/B,KAA+Cne,EAAMrF,EAAkBC,IAOzE,SAASwjB,GAAwBxjB,EAAOujB,EAAaze,GAC1D,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBxE,IAAM4E,MAAN,UAAeN,GAAf,YAAiC2e,EAAjC,YAAwDxe,EAAUhF,EAAkBC,ICjB7F,IAAM4E,GAAc,UAAMzE,EAAN,kBAEb,SAASsjB,GAAiBzjB,EAAOoF,GACtC,OAAO9E,IAAM+E,KAAN,UAAcT,GAAd,KAAiCQ,EAAMrF,EAAkBC,IAG3D,SAAS0jB,GAAiB1jB,EAAOme,EAAY/Y,GAClD,OAAO9E,IAAM8V,IAAN,UAAaxR,GAAb,YAA+BuZ,EAA/B,KAA8C/Y,EAAMrF,EAAkBC,IAOxE,SAAS2jB,GAAuB3jB,EAAOmL,GAC5C,IAAMpG,EAAW,IAAIC,SAIrB,OAHAmG,EAAOpI,SAAQ,SAAA+B,GACbC,EAASE,OAAO,WAAYH,MAEvBxE,IAAM+E,KAAN,UAAcT,GAAd,kBAA8CG,EAAUhF,EAAkBC,ICjBnF,IA2Be4jB,GA3BY,SAAA3iB,GACzB,IAAM+F,EAAa/F,EAAM+F,WACnBuS,EAAe,CACnB,CAAE9Q,MAAO,IAAKzF,IAAK,IAAKyW,OAAQ,SAAC5P,EAAM6P,EAAQtN,GAAf,OAA0BA,EAAQ,IAClE,CAAE3D,MAAO,SAAO+Q,UAAW,QAC3B,CACE/Q,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAM6P,GAChD,OACE,oCACE,kBAAC,KAAD,CAASjR,MAAM,uBACb,kBAAC,IAAD,CAAQU,QAAS,kBAAMlI,EAAM4iB,YAAYnK,IAAS1V,KAAK,OAAOuH,KAAM,kBAACsO,GAAA,EAAD,SAEtE,kBAAC,KAAD,CAASpR,MAAM,UACb,kBAAC,KAAD,CAAYA,MAAM,uEAAuCqR,UAAW,kBAAM7Y,EAAM6iB,cAAcpK,EAAOlV,MACnG,kBAAC,IAAD,CAAQwV,QAAM,EAAChW,KAAK,OAAOuH,KAAM,kBAAC0O,GAAA,EAAD,cAQ/C,OACE,kBAAC,KAAD,CAAO9V,QAASlD,EAAMkD,QAASyW,OAAO,KAAKE,WAAY9T,EAAY6T,QAAStB,KCMjEwK,GA5BY,SAAA9iB,GACzB,IAAM+iB,EAAY/iB,EAAM+iB,UAClBzK,EAAe,CACnB,CAAE9Q,MAAO,IAAKzF,IAAK,IAAKyW,OAAQ,SAAC5P,EAAM6P,EAAQtN,GAAf,OAA0BA,EAAQ,IAClE,CAAE3D,MAAO,SAAO+Q,UAAW,QAC3B,CAAE/Q,MAAO,yBAAWzF,IAAK,UAAWyW,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkBxP,GAAsBwP,EAAO/O,WAC3F,CACElC,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAM6P,GAChD,OACE,oCACE,kBAAC,KAAD,CAASjR,MAAM,uBACb,kBAAC,IAAD,CAAQU,QAAS,kBAAMlI,EAAM4iB,YAAYnK,IAAS1V,KAAK,OAAOuH,KAAM,kBAACsO,GAAA,EAAD,SAEtE,kBAAC,KAAD,CAASpR,MAAM,UACb,kBAAC,KAAD,CAAYA,MAAM,uEAAuCqR,UAAW,kBAAM7Y,EAAM6iB,cAAcpK,EAAOlV,MACnG,kBAAC,IAAD,CAAQwV,QAAM,EAAChW,KAAK,OAAOuH,KAAM,kBAAC0O,GAAA,EAAD,cAQ/C,OACE,kBAAC,KAAD,CAAO9V,QAASlD,EAAMkD,QAASyW,OAAO,KAAKE,WAAYkJ,EAAWnJ,QAAStB,KCIhE0K,GA5BI,SAAAhjB,GACjB,IAAMkR,EAAWlR,EAAMkR,SACjBoH,EAAe,CACnB,CAAE9Q,MAAO,IAAKzF,IAAK,IAAKyW,OAAQ,SAAC5P,EAAM6P,EAAQtN,GAAf,OAA0BA,EAAQ,IAClE,CAAE3D,MAAO,SAAO+Q,UAAW,QAC3B,CAAE/Q,MAAO,yBAAWzF,IAAK,UAAWyW,OAAQ,SAAC5P,EAAM6P,GAAP,OAAkBxP,GAAsBwP,EAAO/O,WAC3F,CACElC,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAM6P,GAChD,OACE,oCACE,kBAAC,KAAD,CAASjR,MAAM,uBACb,kBAAC,IAAD,CAAQU,QAAS,kBAAMlI,EAAM4iB,YAAYnK,IAAS1V,KAAK,OAAOuH,KAAM,kBAACsO,GAAA,EAAD,SAEtE,kBAAC,KAAD,CAASpR,MAAM,UACb,kBAAC,KAAD,CAAYA,MAAM,2EAAwCqR,UAAW,kBAAM7Y,EAAM6iB,cAAcpK,EAAOlV,MACpG,kBAAC,IAAD,CAAQwV,QAAM,EAAChW,KAAK,OAAOuH,KAAM,kBAAC0O,GAAA,EAAD,cAQ/C,OACE,kBAAC,KAAD,CAAO9V,QAASlD,EAAMkD,QAASyW,OAAO,KAAKE,WAAY3I,EAAU0I,QAAStB,KC1BtE7V,GAASoS,IAATpS,KAkBOwgB,GAhBa,SAAAjjB,GAC1B,IAAM4N,EAAW5N,EAAM4N,SACvB,OACE,kBAAC,IAAD,CACErM,OAAO,WACPqU,KAAM5V,EAAM4V,KACZpU,SAAUxB,EAAMwB,UAChB,kBAAC,GAAD,CAAMyB,MAAM,mBAAWP,KAAK,OAAOC,aAAY,OAAEiL,QAAF,IAAEA,OAAF,EAAEA,EAAUlL,KAAMkM,MAAO,CACtE,CAAEC,UAAU,EAAMJ,QAAS,kCAE3B,kBAAC,IAAD,SCVAhM,GAASoS,IAATpS,KACA5C,GAAWC,IAAXD,OA0JOqjB,GAxJM,SAAAljB,GACnB,IAAMmjB,EAAWnjB,EAAMmjB,SADK,EAGAljB,mBAAS,MAHT,mBAGrBG,EAHqB,KAGbC,EAHa,OAIMJ,mBAAS,MAJf,mBAIrBK,EAJqB,KAIVC,EAJU,OAKFN,mBAAS,MALP,mBAKrBsW,EALqB,KAKdC,EALc,OAMEvW,mBAAS,MANX,mBAMrBwW,EANqB,KAMZC,EANY,OAQMzW,mBAAS,MARf,mBAQrBC,EARqB,KAQVC,EARU,iDAU5B,4BAAAO,EAAA,6DACEP,GAAa,GADf,kBAG2Bf,IAH3B,OAGUuB,EAHV,OAIIN,EAAUM,EAASC,MAJvB,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAV4B,+BAqBb0W,EArBa,8EAqB5B,WAAkCrX,GAAlC,eAAAkB,EAAA,6DACEP,GAAa,GADf,kBAG2BZ,EAAsBC,GAHjD,OAGUmB,EAHV,OAIIJ,EAAaI,EAASC,MAJ1B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DArB4B,+BAgCbijB,EAhCa,8EAgC5B,WAA4CzjB,GAA5C,qBAAAe,EAAA,6DACEP,GAAa,GADf,kBAGuC6P,QAAQ+G,IAAI,CAC7CrX,EAAsBC,GACtBC,EAAwBD,KAL9B,mCAGWqX,EAHX,KAGoBC,EAHpB,KAOIT,EAASQ,EAAQpW,MACjB8V,EAAWO,EAAUrW,MARzB,kDAUIC,QAAQC,IAAR,MAVJ,QAYEX,GAAa,GAZf,2DAhC4B,sBAwD5B,OATAY,qBAAU,YA/CkB,mCAgD1BC,GAEImiB,IACFtM,EAAmBsM,EAASzZ,QAAQP,KAAK1F,SAASH,KAAKC,IACvD6f,EAA6BD,EAASzZ,QAAQP,KAAK1F,SAASF,OAE7D,CAAC4f,IAGF,kBAAC,IAAD,CACE5hB,OAAO,WACPqU,KAAM5V,EAAM4V,MACZ,yBAAK7O,IAAG,OAAEoc,QAAF,IAAEA,OAAF,EAAEA,EAAUrQ,OAAQ7L,IAAI,KAChC,kBAAC,IAAD,CAAKzE,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,wCAAiBP,KAAK,OAAOC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAUzgB,MAC/D,kBAAC,IAAD,QAGJ,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,oCAAgBP,KAAK,QAAQC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAU1N,OAC/D,kBAAC,IAAD,SAKN,kBAAC,IAAD,CAAKjT,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,+BAAgBP,KAAK,QAAQC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAU5N,OAC/D,kBAAC,IAAD,QAGJ,kBAAC,IAAD,CAAK1S,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,UAAUP,KAAK,UAAUC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAUE,SAC3D,kBAAC,IAAD,SAIN,kBAAC,GAAD,CAAMpgB,MAAM,6BAAqBP,KAAK,SAASC,cAAsB,OAARwgB,QAAQ,IAARA,OAAA,EAAAA,EAAUpZ,SAAU,IAC/E,kBAAC,KAAD,CAAO5C,MAAM,UAEf,kBAAC,IAAD,CAAK3E,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,8BAAiBP,KAAK,UAAUC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAUzZ,QAAQP,KAAK1F,SAASH,KAAKC,IAC7F,kBAAC,IAAD,CAAQL,QAAShD,EAAWkD,SAAUyT,EAAoB1T,UAAW/C,GAEjEA,GACAA,EAAOiD,KAAI,SAAAC,GACT,OAAO,kBAAC,GAAD,CAAQvB,IAAKuB,EAAKC,GAAIX,MAAOU,EAAKC,IAAKD,EAAKE,OAAS,IAAMF,EAAKZ,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CACEI,MAAM,uBACNP,KAAK,cACLC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAUzZ,QAAQP,KAAK1F,SAASF,IAC9C,kBAAC,IAAD,CAAQL,QAAShD,EAAWkD,SAAUggB,EAA8BjgB,UAAW7C,GAE3EA,GACAA,EAAU+C,KAAI,SAAAI,GACZ,OAAO,kBAAC,GAAD,CAAQ1B,IAAK0B,EAASF,GAAIX,MAAOa,EAASF,IAAKE,EAASD,OAAS,IAAMC,EAASf,YAMjG,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CACEI,MAAM,4CACNP,KAAK,UACLC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAUzZ,QAAQP,KAAK5F,IACrC,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAWoT,GAEnCA,GACAA,EAAMlT,KAAI,SAAA8F,GACR,OAAO,kBAAC,GAAD,CAAQpH,IAAKoH,EAAK5F,GAAIX,MAAOuG,EAAK5F,IAAK4F,EAAK3F,OAAS,IAAM2F,EAAKzG,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CACEI,MAAM,4CACNP,KAAK,YACLC,aAAY,OAAEwgB,QAAF,IAAEA,OAAF,EAAEA,EAAUzZ,QAAQL,OAAO9F,IACvC,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAWsT,GAEnCA,GACAA,EAAQpT,KAAI,SAAAgG,GACV,OAAO,kBAAC,GAAD,CAAQtH,IAAKsH,EAAO9F,GAAIX,MAAOyG,EAAO9F,IAAK8F,EAAO7F,OAAS,IAAM6F,EAAO3G,eC7IzFD,GAASoS,IAATpS,KACA5C,GAAWC,IAAXD,OA+LOyjB,GA7LK,SAAAtjB,GAAU,IACpBqQ,EAAYrQ,EAAZqQ,QACRxP,QAAQC,IAAIuP,GAFe,MAICpQ,mBAAS,MAJV,mBAIpBG,EAJoB,KAIZC,EAJY,OAKOJ,mBAAS,MALhB,mBAKpBK,EALoB,KAKTC,EALS,OAMDN,mBAAS,MANR,mBAMpBsW,EANoB,KAMbC,EANa,OAOGvW,mBAAS,MAPZ,mBAOpBwW,EAPoB,KAOXC,EAPW,OASSzW,mBAAS,MATlB,mBASpB8F,EAToB,KASRC,EATQ,OAUO/F,mBAAS,MAVhB,mBAUpB8iB,EAVoB,KAUTQ,EAVS,OAYOtjB,oBAAS,GAZhB,mBAYpBC,EAZoB,KAYTC,EAZS,cAcZ0W,EAdY,8EAc3B,WAAkCrX,GAAlC,eAAAkB,EAAA,6DACEP,GAAa,GADf,kBAG2BZ,EAAsBC,GAHjD,OAGUmB,EAHV,OAIIJ,EAAaI,EAASC,MAJ1B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAd2B,+BAyBZijB,EAzBY,8EAyB3B,WAA4CzjB,GAA5C,qBAAAe,EAAA,6DACEP,GAAa,GADf,kBAGyC6P,QAAQ+G,IAAI,CAC/CrX,EAAsBC,GACtBC,EAAwBD,KAL9B,mCAGW6jB,EAHX,KAGqBC,EAHrB,KAOIjN,EAASgN,EAAS5iB,MAClB8V,EAAW+M,EAAW7iB,MAR1B,kDAUIC,QAAQC,IAAR,MAVJ,QAYEX,GAAa,GAZf,2DAzB2B,sBA4E3B,OApCAY,qBAAU,WAAM,4CACd,oCAAAL,EAAA,6DACEP,GAAa,GADf,kBAGsD6P,QAAQ+G,IAAI,CAC5D3X,IACAqR,KACA0R,OANN,mCAGWuB,EAHX,KAGoBC,EAHpB,KAGiCC,EAHjC,KAQIvjB,EAAUqjB,EAAQ9iB,MAClBoF,EAAc2d,EAAY/iB,MAC1B2iB,EAAaK,EAAYhjB,KAAK6L,SAVlC,kDAYI5L,QAAQC,IAAR,MAZJ,QAcEX,GAAa,GAdf,2DADc,sBAoBd,GApBe,WAAD,wBAkBdgd,GAEI9M,EAAS,CAAC,IAAD,EAUPA,EARF3G,QACEP,KACE1F,EAJK,EAILA,SAONoT,EAXW,EAKLpT,SACEH,KAKgBC,IACxB6f,EAA6B3f,EAASF,OAEvC,CAAC8M,IAGF,kBAAC,IAAD,CACE9O,OAAO,WACPqU,KAAM5V,EAAM4V,MACZ,kBAAC,GAAD,CAAM3S,MAAM,uBAAYP,KAAK,OAAOC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS3N,MACzD,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAKF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,SAAMP,KAAK,QAAQC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS5H,OACpD,kBAAC,IAAD,QAGJ,kBAAC,IAAD,CAAK5F,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,oBAAYP,KAAK,OAAOC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS5F,MACzD,kBAAC,IAAD,CAAO1H,KAAK,cAKlB,kBAAC,IAAD,CAAKP,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,8BAAiBP,KAAK,UAAUC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS3G,QAAQP,KAAK1F,SAASH,KAAKC,IAC5F,kBAAC,IAAD,CACEL,QAAShD,EACTiD,UAAW/C,EACXgD,SAAUyT,GAHZ,OAKIzW,QALJ,IAKIA,OALJ,EAKIA,EAAQiD,KAAI,SAAAC,GACV,OAAO,kBAAC,GAAD,CAAQvB,IAAKuB,EAAKC,GAAIX,MAAOU,EAAKC,IAAKD,EAAKE,OAAS,IAAMF,EAAKZ,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,uBAAaP,KAAK,cAAcC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS3G,QAAQP,KAAK1F,SAASF,IACvF,kBAAC,IAAD,CACEL,QAAShD,EACTiD,UAAW7C,EACX8C,SAAUggB,GAHZ,OAKI9iB,QALJ,IAKIA,OALJ,EAKIA,EAAW+C,KAAI,SAAAI,GACb,OAAO,kBAAC,GAAD,CAAQ1B,IAAK0B,EAASF,GAAIX,MAAOa,EAASF,IAAKE,EAASD,OAAS,IAAMC,EAASf,YAMjG,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,4CAAqBP,KAAK,UAAUC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS3G,QAAQP,KAAK5F,IAClF,kBAAC,IAAD,CACEL,QAAShD,EACTiD,UAAWoT,GAFb,OAIIA,QAJJ,IAIIA,OAJJ,EAIIA,EAAOlT,KAAI,SAAA8F,GACT,OAAO,kBAAC,GAAD,CAAQpH,IAAKoH,EAAK5F,GAAIX,MAAOuG,EAAK5F,IAAK4F,EAAK3F,OAAS,IAAM2F,EAAKzG,YAMjF,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,uBAAQP,KAAK,YAAYC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAAS3G,QAAQL,OAAO9F,IACzE,kBAAC,IAAD,CACEL,QAAShD,EACTiD,UAAWsT,GAFb,OAIIA,QAJJ,IAIIA,OAJJ,EAIIA,EAASpT,KAAI,SAAAgG,GACX,OAAO,kBAAC,GAAD,CAAQtH,IAAKsH,EAAO9F,GAAIX,MAAOyG,EAAO9F,IAAK8F,EAAO7F,OAAS,IAAM6F,EAAO3G,aAQ3F,kBAAC,IAAD,CAAKF,OAAO,MACV,kBAAC,IAAD,CAAKK,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,0BAAaP,KAAK,sBAAsBC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAASwT,iBAAiBtgB,IAC1F,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAW4C,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAY1C,KAAI,SAAAqU,GACd,OAAO,kBAAC,GAAD,CAAQ3V,IAAK2V,EAAInU,GAAIX,MAAO8U,EAAInU,IAAKmU,EAAIhV,YAM1D,kBAAC,IAAD,CAAKG,KAAK,KACR,kBAAC,GAAD,CAAMI,MAAM,iCAAaP,KAAK,sBAAsBC,aAAY,OAAE0N,QAAF,IAAEA,OAAF,EAAEA,EAASwC,iBAAiBtP,IAC1F,kBAAC,IAAD,CAAQL,QAAShD,EAAWiD,UAAW4f,GAAvC,OAEIA,QAFJ,IAEIA,OAFJ,EAEIA,EAAW1f,KAAI,SAAA8f,GACb,OAAO,kBAAC,GAAD,CAAQphB,IAAKohB,EAAS5f,GAAIX,MAAOugB,EAAS5f,IAAK4f,EAASzgB,aAQ3E,kBAAC,GAAD,CAAMO,MAAM,6BAAqBP,KAAK,SAASC,cAAqB,OAAP0N,QAAO,IAAPA,OAAA,EAAAA,EAAStG,SAAU,IAC9E,kBAAC,KAAD,CAAO5C,MAAM,UAGf,kBAAC,GAAD,CAAMlE,MAAM,iBAASP,KAAK,WAAWC,aAAc0N,EAAU,CAAEsB,IAAKtB,EAAQ3G,QAAQiJ,SAAUjB,IAAKrB,EAAQ3G,QAAQkJ,WAAc,MAC/H,kBAAC,GAAD,CAAO5H,MAAO,CAAE2M,OAAQ,UChLxBjC,GAAYb,IAAZa,QAwdOoO,GAtdW,SAAA9jB,GAAU,IAAD,EACXC,mBAAS,GADE,mBAC1B8jB,EAD0B,KACrBC,EADqB,OAGG/jB,mBAAS,MAHZ,mBAG1B8F,EAH0B,KAGdC,EAHc,OAID/F,mBAAS,MAJR,mBAI1BiR,EAJ0B,KAIhBC,EAJgB,OAKClR,mBAAS,MALV,mBAK1B8iB,EAL0B,KAKfQ,EALe,OAOetjB,mBAAS,MAPxB,mBAO1BgkB,EAP0B,KAORC,EAPQ,OAQajkB,mBAAS,MARtB,mBAQ1BkkB,EAR0B,KAQTC,EARS,OASenkB,mBAAS,MATxB,mBAS1BokB,EAT0B,KASRC,EATQ,OAWCrkB,oBAAS,GAXV,mBAW1BC,EAX0B,KAWfC,EAXe,OAYKF,oBAAS,GAZd,mBAY1BmY,EAZ0B,KAYbmM,EAZa,OAcLtkB,mBAAS,MAdJ,mBAc1BiY,EAd0B,KAclBC,EAdkB,OAgBHzC,KAAvB8O,EAhB0B,sBAiBX9O,KAAf+O,GAjB0B,uBAkBV/O,KAAhBgP,GAlB0B,wBAoBCzkB,mBAAS,IApBV,qBAoB1B8U,GApB0B,MAoBfC,GApBe,MAsB3BzG,GAAc5J,IAAQrF,IAAI,UAtBC,GAuBDW,mBAAS,MAvBR,qBAuB1B6X,GAvB0B,MAuBhBC,GAvBgB,eA0BlBZ,KA1BkB,8EA0BjC,4BAAAzW,EAAA,6DACEP,GAAa,GADf,kBAG2BsQ,KAH3B,OAGU9P,EAHV,OAIIqF,EAAcrF,EAASC,MAJ3B,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DA1BiC,+BAqClBmR,KArCkB,8EAqCjC,4BAAA5Q,EAAA,6DACEP,GAAa,GADf,kBAG2BuQ,KAH3B,OAGU/P,EAHV,OAIIwQ,EAAYxQ,EAASC,KAAK6L,SAJ9B,gDAMI5L,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DArCiC,+BAgDlBwkB,KAhDkB,8EAgDjC,4BAAAjkB,EAAA,6DACEP,GAAa,GADf,kBAG2BgiB,KAH3B,OAGUxhB,EAHV,OAII4iB,EAAa5iB,EAASC,KAAK6L,SAJ/B,gDAMI5L,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAhDiC,sBA2DjC,IAAMykB,GAAoB,WAExB,OADAL,GAAe,GACPR,GACN,KAAK,EAGL,KAAK,EAGL,KAAK,EACH5L,EAAU,UACV,MACF,QACEA,EAAU,QAIV0M,GAAoB,uCAAG,WAAMpjB,GAAN,SAAAf,EAAA,6DAC3BP,GAAa,GADc,kBT5FUpB,ES+FJwP,GT/FWpK,ES+FE1C,ET9FzCpC,IAAM+E,KAAN,UAAcT,GAAd,KAAiCQ,EAAMrF,EAAkBC,IS2FnC,OAIzBoY,KACAoN,GAAe,GALU,gDAOzB1jB,QAAQC,IAAR,MACAX,GAAa,GARY,kCT5FxB,IAAkCpB,EAAOoF,IS4FjB,oBAAH,sDAYpB2gB,GAAoB,uCAAG,WAAMrjB,GAAN,SAAAf,EAAA,6DAC3BP,GAAa,GADc,kBTpGUpB,ESuGJwP,GTvGWwW,ESuGEd,EAAiB1gB,GTvGNY,ESuGU1C,ETtG9DpC,IAAM8V,IAAN,UAAaxR,GAAb,YAA+BohB,EAA/B,KAA+C5gB,EAAMrF,EAAkBC,ISmGjD,OAIzBoY,KACAoN,GAAe,GACfL,EAAoB,MANK,gDAQzBrjB,QAAQC,IAAR,MACAX,GAAa,GATY,kCTpGxB,IAAkCpB,EAAOgmB,EAAa5gB,ISoG9B,oBAAH,sDAapB6gB,GAAoB,uCAAG,WAAMzhB,GAAN,SAAA7C,EAAA,6DAC3BP,GAAa,GADc,kBT7GUpB,ESgHJwP,GThHWwW,ESgHExhB,ET/GzClE,IAAMkN,OAAN,UAAgB5I,GAAhB,YAAkCohB,EAAlC,KAAkDjmB,EAAkBC,IS4G9C,OAIzBoY,KAJyB,gDAMzBtW,QAAQC,IAAR,MACAX,GAAa,GAPY,kCT7GxB,IAAkCpB,EAAOgmB,IS6GjB,oBAAH,sDAWpBE,GAAoB,uCAAG,WAAMxjB,GAAN,mBAAAf,EAAA,6DAC3BP,GAAa,GADc,SAGnBgE,EAAO,CACXzB,KAAMjB,EAAOiB,KACb+S,MAAOhU,EAAOgU,MACdF,MAAO9T,EAAO8T,MACd8N,QAAS5hB,EAAO4hB,QAChBtZ,OAAQtI,EAAOsI,OACfuP,QAAS7X,EAAO6X,QAChBC,UAAW9X,EAAO8X,WAVK,SAYF6I,GAAkB7T,GAAapK,GAZ7B,cAYnBxD,EAZmB,OAanBukB,EAASvkB,EAASC,KAAKA,KAbJ,SAcnB2hB,GAAwBhU,GAAa2W,EAAO3hB,GAAIwR,GAAU,GAAGZ,eAd1C,OAezBoQ,GAAe,GACfI,KAhByB,kDAkBzB9jB,QAAQC,IAAR,MACAX,GAAa,GAnBY,0DAAH,sDAwBpBglB,GAAoB,uCAAG,WAAM1jB,GAAN,eAAAf,EAAA,6DAC3BP,GAAa,GADc,SAGnBgE,EAAO,CACXzB,KAAMjB,EAAOiB,KACb+S,MAAOhU,EAAOgU,MACdF,MAAO9T,EAAO8T,MACd8N,QAAS5hB,EAAO4hB,QAChBtZ,OAAQtI,EAAOsI,OACfuP,QAAS7X,EAAO6X,QAChBC,UAAW9X,EAAO8X,WAVK,SAYnB8I,GAAkB9T,GAAa8V,EAAiB9gB,GAAIY,GAZjC,WAcrB4Q,GAAU,GAAGZ,cAdQ,gCAejBoO,GAAwBhU,GAAa8V,EAAiB9gB,GAAIwR,GAAU,GAAGZ,eAftD,OAkBzBwQ,KACAJ,GAAe,GACfD,EAAoB,MApBK,kDAsBzBzjB,QAAQC,IAAR,MACAX,GAAa,GAvBY,0DAAH,sDA4BpBilB,GAAoB,uCAAG,WAAM7hB,GAAN,SAAA7C,EAAA,6DAC3BP,GAAa,GADc,kBR5KGpB,EQ+KJwP,GR/KW+T,EQ+KE/e,ER9KlClE,IAAMkN,OAAN,UAAgB5I,GAAhB,YAAkC2e,EAAlC,KAAkDxjB,EAAkBC,IQ2K9C,OAIzB4lB,KAJyB,gDAMzB9jB,QAAQC,IAAR,MACAX,GAAa,GAPY,kCR5KxB,IAA2BpB,EAAOujB,IQ4KV,oBAAH,sDAWpB+C,GAAmB,uCAAG,WAAM5jB,GAAN,2CAAAf,EAAA,yDAC1BP,GAAa,GADa,SAInB2X,GAJmB,uBAKhBqB,EAAiBpE,GAAU1R,KAAI,SAAAQ,GAAK,OAAIA,EAAMsQ,iBAL9B,SAMQuO,GAAuBnU,GAAa4K,GAN5C,OAMhBmM,EANgB,OAOtBlM,EAAYkM,EAAgB1kB,KAAKwY,UACjCrB,GAAYqB,GARU,cAYtB1W,EAYEjB,EAZFiB,KACA+F,EAWEhH,EAXFgH,MACAgC,EAUEhJ,EAVFgJ,KACAV,EASEtI,EATFsI,OACAwb,EAQE9jB,EARF8jB,oBACAC,EAOE/jB,EAPF+jB,oBACAlM,EAME7X,EANF6X,QACAC,EAKE9X,EALF8X,UAnBsB,EAwBpB9X,EAJF0Q,SACER,EArBoB,EAqBpBA,IACAD,EAtBoB,EAsBpBA,IAGEvN,EAAO,CACXzB,OACA+F,QACAgC,OACAV,SACAwb,sBACAC,sBACAlM,UACAC,YACA5G,SAAUhB,EACViB,UAAWlB,EACX0H,aApCsB,UAsClBoJ,GAAiBjU,GAAapK,GAtCZ,QAwCxBmN,KACAiT,GAAe,GACfvP,GAAa,MA1CW,kDA6CxBnU,QAAQC,IAAR,MACAX,GAAa,GA9CW,0DAAH,sDAkDnBslB,GAAmB,uCAAG,WAAMhkB,GAAN,6CAAAf,EAAA,yDAC1BP,GAAa,GADa,SAIlBsZ,EAAgB1E,GAAUtN,QAAO,SAAA5D,GAAK,OAAIA,EAAMN,MAAIF,KAAI,SAAAQ,GAAK,OAAIA,EAAMN,SACvE4V,EAAiBpE,GAAUtN,QAAO,SAAA5D,GAAK,OAAIA,EAAMsQ,iBAAe9Q,KAAI,SAAAQ,GAAK,OAAIA,EAAMsQ,kBAEtEpL,OAAS,GAPJ,oBAQjB+O,GARiB,iCASU4K,GAAuBnU,GAAa4K,GAT9C,OASdmM,EATc,OAUpBlM,EAAYkM,EAAgB1kB,KAAKwY,UACjCrB,GAAYqB,GAXQ,eAgBtB1W,EAYEjB,EAZFiB,KACA+F,EAWEhH,EAXFgH,MACAgC,EAUEhJ,EAVFgJ,KACAV,EASEtI,EATFsI,OACAwb,EAQE9jB,EARF8jB,oBACAC,EAOE/jB,EAPF+jB,oBACAlM,EAME7X,EANF6X,QACAC,EAKE9X,EALF8X,UAvBsB,EA4BpB9X,EAJF0Q,SACER,EAzBoB,EAyBpBA,IACAD,EA1BoB,EA0BpBA,IAGEvN,EAAO,CACXzB,OACA+F,QACAgC,OACAV,SACAwb,sBACAC,sBACAlM,UACAC,YACA5G,SAAUhB,EACViB,UAAWlB,EACX0H,UAAWA,EAAS,uBAAOK,GAAP,aAAyBL,IAAzB,aAA0CK,IAxCxC,UA0ClBgJ,GAAiBlU,GAAa4V,EAAgB5gB,GAAIY,GA1ChC,QA4CxBmN,KACAiT,GAAe,GACfvP,GAAa,MA9CW,kDAiDxBnU,QAAQC,IAAR,MACAX,GAAa,GAlDW,0DAAH,sDAsDnBulB,GAAmB,uCAAG,WAAMniB,GAAN,SAAA7C,EAAA,6DAC1BP,GAAa,GADa,kBP/RGpB,EOkSJwP,GPlSW2O,EOkSE3Z,EPjSjClE,IAAMkN,OAAN,UAAgB5I,GAAhB,YAAkCuZ,EAAlC,KAAiDpe,EAAkBC,IO8R9C,OAIxBuS,KAJwB,gDAMxBzQ,QAAQC,IAAR,MACAX,GAAa,GAPW,kCP/RvB,IAA0BpB,EAAOme,IO+RV,oBAAH,sDA6EnByI,GAAoB,SAAC,GAAkB,IAAhBpR,EAAe,EAAfA,SAC3BS,GAAa,aAAIT,KAGbyN,GAAqB,SAAA7O,GAEzB,OADA6B,GAAa,GAAD,oBAAKD,IAAL,CAAgB5B,MACrB,GAGTpS,qBAAU,WACRoW,OACC,IAqBH,OACE,yBAAKxQ,UAAU,sBACb,6DACA,kBAAC,IAAD,MACA,kBAAC,KAAD,CAAMvD,SAvBc,SAAArB,GACtB,OAAQA,GACN,IAAK,IACHiiB,EAAO,GACP7M,KACA,MACF,IAAK,IACH6M,EAAO,GACPW,KACA,MACF,IAAK,IACHX,EAAO,GACP1S,KACA,MACF,QACE6F,OAQ+ByO,mBAC/B,oCAEY,IAAR7B,GACA,kBAAC,IAAD,CAAQzZ,KAAM,kBAAC+J,GAAA,EAAD,MAAkBnM,QAAS0c,IAAzC,mCAGQ,IAARb,GACA,kBAAC,IAAD,CAAQzZ,KAAM,kBAAC+J,GAAA,EAAD,MAAkBnM,QAAS0c,IAAzC,0CAGQ,IAARb,GACA,kBAAC,IAAD,CAAQzZ,KAAM,kBAAC+J,GAAA,EAAD,MAAkBnM,QAAS0c,IAAzC,2BAIJ,kBAAC,KAAKiB,QAAN,CAAc9B,IAAI,0BAAahiB,IAAI,KACjC,kBAAC,GAAD,CACEmB,QAAShD,EACT6F,WAAYA,EACZ6c,YA1H6B,SAAAhV,GACrCsW,EAAoBtW,GACpBuK,EAAU,UACVoM,GAAe,IAwHP1B,cAAemC,MAEnB,kBAAC,KAAKa,QAAN,CAAc9B,IAAI,iCAAahiB,IAAI,KACjC,kBAAC,GAAD,CACEmB,QAAShD,EACT6iB,UAAWA,EACXH,YA3HsB,SAAAO,GAC9BmB,EAAoBnB,GACpBhL,EAAU,UACVoM,GAAe,IAyHP1B,cAAeuC,MAEnB,kBAAC,KAAKS,QAAN,CAAc9B,IAAI,gBAAQhiB,IAAI,KAC5B,kBAAC,GAAD,CACEmB,QAAShD,EACTgR,SAAUA,EACV0R,YA5HqB,SAAAvS,GAAY,IAAD,EACxC+T,EAAmB/T,GACnB8H,EAAU,UACVoM,GAAe,GACf1jB,QAAQC,IAAIuP,EAAQnG,QACpB8K,GAAY,UAAC3E,EAAQnG,cAAT,aAAC,EAAgB7G,KAAI,SAAAQ,GAC/B,OAAO,6BACFA,GADL,IAEE6V,IAAK7V,EAAMN,UAqHPsf,cAAe6C,OAGrB,kBAAC,KAAD,CACE1L,eAAgB9Z,EAChB+Z,KAnHY,WAChB,OAAQ8J,GACN,KAAK,EACY,WAAX7L,EACFsM,EAAoBtK,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAIojB,GAAqBpjB,MACrD,WAAXyW,GACTsM,EAAoBtK,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAIqjB,GAAqBrjB,MAE3E,MACF,KAAK,EACY,WAAXyW,EACFwM,GAAaxK,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAIwjB,GAAqBxjB,MAC9C,WAAXyW,GACTwM,GAAaxK,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAI0jB,GAAqB1jB,MAEpE,MACF,KAAK,EACY,WAAXyW,EACFuM,GAAYvK,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAI4jB,GAAoB5jB,MAC5C,WAAXyW,GACTuM,GAAYvK,iBAAiBC,MAAK,SAAA1Y,GAAM,OAAIgkB,GAAoBhkB,MAElE,MACF,QACE,SA4FAqY,WApFoB,WACxB0K,EAAoB1O,cACpB2O,GAAY3O,cACZ4O,GAAa5O,cACbd,GAAa,KAiFTJ,SAzFgB,WACpB2P,GAAe,IAyFX7P,QAAS0D,EACT2B,gBAAgB,EAChB7S,MAAM,OAEI,IAAR6c,GACA,kBAAC,GAAD,CAAqBnO,KAAM4O,EAAqB5W,SAAUqW,IAGlD,IAARF,GACA,oCACE,kBAAC,GAAD,CAAcnO,KAAM8O,GAAcvB,SAAUkB,IAC5C,kBAAC,GAAD,CACE5P,aAAcuN,GACd5e,SAAUuiB,GACVpR,SAAUQ,GACVhM,OAAQ,KAIJ,IAARgb,GACA,oCACE,kBAAC,GAAD,CAAanO,KAAM6O,GAAapU,QAAS8T,IACzC,kBAAC,GAAD,CACE1P,aAAcuN,GACd5e,SAAUuiB,GACVpR,SAAUQ,SC9dlBpR,GAAc,UAAMzE,EAAN,sBAEb,SAAS4mB,GAAe/mB,GAAkB,IAAXgnB,EAAU,uDAAH,EAC3C,OAAO1mB,IAAMC,IAAN,UAAaqE,GAAb,kBAAqCoiB,GAAQjnB,EAAkBC,I,cC6FzDinB,GA1FO,SAAAhmB,GAAU,IAAD,EAEKC,oBAAS,GAFd,mBAEtBC,EAFsB,KAEXC,EAFW,OAGHF,mBAAS,MAHN,mBAGtBgmB,EAHsB,KAGfC,EAHe,KAIvB3X,EAAc5J,IAAQrF,IAAI,UAC1B2G,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aAEvCqS,EAAe,CACnB,CAAE9Q,MAAO,IAAKzF,IAAK,IAAKyW,OAAQ,SAAC5P,EAAM6P,EAAQtN,GAAf,OAA0BA,EAAQ,IAClE,CAAE3D,MAAO,UAAM+Q,UAAW,cAC1B,CAAE/Q,MAAO,SAAO+Q,UAAW,aAC3B,CAAE/Q,MAAO,+BAAiB+Q,UAAW,SACrC,CACE/Q,MAAO,qBAAc+Q,UAAW,YAAaC,OAAQ,SAACsI,EAAD,GACnD,OADyE,EAAhB5C,UAEvD,kBAAC,KAAD,CAAKjQ,MAAM,WAAX,4BAEA,kBAAC,KAAD,CAAKA,MAAM,SAAX,qBAGN,CACEzG,MAAO,QAAS+Q,UAAW,YAAaC,OAAQ,SAACsI,EAAD,GAC9C,OADmE,EAAf/Y,SAElD,kBAACoe,GAAA,EAAD,MAEA,OAGN,CACE3e,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAD,GAA8B,IAArBrF,EAAoB,EAApBA,GAClD,OADsE,EAAhB2a,UAEpD,kBAAC,IAAD,CAAQnF,QAAM,EAAC7Q,QAAS,kBAAMke,EAAU7iB,IAAKR,KAAK,QAAlD,WAEA,kBAAC,IAAD,CAAQmF,QAAS,kBAAMme,EAAY9iB,IAAKR,KAAK,QAA7C,sBAjCqB,SAsCdujB,EAtCc,8EAsC7B,WAA2BP,GAA3B,eAAArlB,EAAA,6DACEP,GAAa,GADf,kBAG2B2lB,GAAevX,EAAawX,GAHvD,OAGUplB,EAHV,OAIIulB,EAASvlB,EAASC,MAJtB,gDAMIC,QAAQC,IAAR,MANJ,QAQEX,GAAa,GARf,0DAtC6B,sBAiD7B,IAAMimB,EAAS,uCAAG,WAAM7iB,GAAN,SAAA7C,EAAA,6DAChBP,GAAa,GADG,kBDjDSpB,ECoDJwP,EDpDWgY,ECoDEhjB,EDnD7BlE,IAAMC,IAAN,UAAaqE,GAAb,YAA+B4iB,EAA/B,WAAiDznB,EAAkBC,ICgDxD,OAIdunB,IAJc,gDAMdzlB,QAAQC,IAAR,MACAX,GAAa,GAPC,kCDjDb,IAAsBpB,EAAOwnB,ICiDhB,oBAAH,sDAWTF,EAAW,uCAAG,WAAM9iB,GAAN,SAAA7C,EAAA,6DAClBP,GAAa,GADK,kBDxDSpB,EC2DJwP,ED3DWgY,EC2DEhjB,ED1D/BlE,IAAMC,IAAN,UAAaqE,GAAb,YAA+B4iB,EAA/B,aAAmDznB,EAAkBC,ICuDxD,OAIhBunB,IAJgB,gDAMhBzlB,QAAQC,IAAR,MACAX,GAAa,GAPG,kCDxDf,IAAwBpB,EAAOwnB,ICwDhB,oBAAH,sDAgBjB,OALAxlB,qBAAU,WACRulB,EAAY,KAEX,IAGD,6BACE,uEACA,kBAAC,IAAD,MACA,kBAAC,KAAD,CACE3M,OAAO,KACPzW,QAAShD,EACT0Z,QAAStB,EACTuB,WAAU,OAAEoM,QAAF,IAAEA,OAAF,EAAEA,EAAOxZ,QAAQhF,QAAO,SAAApB,GAAI,aAAIA,EAAK9C,MAAL,UAAY0C,EAAUI,YAAtB,aAAY,EAAgB9C,OACtEijB,WAAY,CAAEC,OAAa,OAALR,QAAK,IAALA,OAAA,EAAAA,EAAOS,OAAQ,EAAItjB,SAAU,SAAA2iB,GAAI,OAAIO,EAAYP,SC1DhEY,GA5BQ,SAAA1T,GACrB,OAAO,SAAiBjT,GACtB,IAAM4F,EAAWC,cAETQ,EADUH,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aACrCI,KACFkI,EAAc5J,IAAQrF,IAAI,UAWhC,OATAyB,qBAAU,WACJsF,IAASA,EAAK0B,UAChBuH,KAAanK,MAAM,CACjBsJ,QAAS,WACTe,YAAa,4EAKdjB,GAAsC,IAAvBA,EAAYxF,OAG1B1C,IAASA,EAAK0B,SACT,kBAAC,IAAD,CAAUjB,GAAG,MAEb,kBAACmM,EAAcjT,GALjB,kBAAC,IAAD,CAAU8G,GAAE,sBAAiBlB,EAAS0B,cCTpCsf,I,OAZc,SAAA5mB,GAAU,IAAD,EACpC,OACE,kBAAC,IAAD,CAAM4V,KAAM5V,EAAM4V,KAAMrU,OAAO,WAAWC,SAAUxB,EAAMwB,UACxD,kBAAC,IAAKiB,KAAN,CAAWQ,MAAM,uBAAeP,KAAK,OAAOC,cAAc,UAAA3C,EAAM4N,gBAAN,eAAgBlL,OAAQ,KAAMkM,MAAO,CAC7F,CAACC,UAAU,EAAMJ,QAAS,kCAE1B,kBAAC,IAAD,UCPF9K,GAAc,UAAMzE,EAAN,wBAEb,SAAS2nB,GAAsB9nB,EAAOoF,GAC3C,OAAO9E,IAAM+E,KAAN,UAAcT,GAAd,KAAiCQ,EAAMrF,EAAkBC,IAG3D,SAAS+nB,GAAsB/nB,EAAOgmB,EAAa5gB,GACxD,OAAO9E,IAAM8V,IAAN,UAAaxR,GAAb,YAA+BohB,EAA/B,KAA+C5gB,EAAMrF,EAAkBC,I,ICAxE2W,GAAYb,IAAZa,QAqKOqR,GAnKe,SAAA/mB,GAAU,IAAD,EACOC,mBAAS,MADhB,mBAC9BwN,EAD8B,KACdC,EADc,OAEuBzN,mBAAS,MAFhC,mBAE9B+mB,EAF8B,KAELC,EAFK,OAGShnB,oBAAS,GAHlB,mBAG9BinB,EAH8B,KAGbC,EAHa,OAIKlnB,oBAAS,GAJd,mBAI9BmnB,EAJ8B,KAIfC,EAJe,OAKWpnB,mBAAS,MALpB,mBAK9BgkB,EAL8B,KAKZC,EALY,OAMHjkB,oBAAS,GANN,mBAM9BC,EAN8B,KAMnBC,EANmB,OAOlBuV,KAAZgL,EAP8B,sBAQhBhL,KAAd+K,EAR8B,oBAS/BlS,EAAc5J,IAAQrF,IAAI,UAC1BgZ,EAAe,CACnB,CAAE9Q,MAAO,IAAKgR,OAAQ,SAAC5P,EAAM6P,EAAQtN,GAAf,OAA0BA,EAAQ,IACxD,CAAE3D,MAAO,SAAO+Q,UAAW,OAAQC,OAAQ,SAACsI,EAAGrI,GAAJ,O/DvBlB7P,E+DuB8C6P,EAAO/V,O/DtBnD,IAAhBkG,EAAKG,OAEXH,EAAK0M,OAAO,GAAGmI,cAAgB7U,EAAKI,OAAO,GAFX,GADlC,IAAsBJ,I+DwBzB,CACEpB,MAAO,yBAAazF,IAAK,SAAUyW,OAAQ,SAAC5P,EAAM6P,GAChD,OACE,oCACE,kBAAC,KAAD,CAASjR,MAAM,uBACb,kBAAC,IAAD,CACEzE,KAAK,OACLuH,KAAM,kBAACsO,GAAA,EAAD,MACN1Q,QAAS,kBAAMyQ,EAAgBF,OAEnC,kBAAC,KAAD,CAASjR,MAAM,UACb,kBAAC,KAAD,CAAYA,MAAM,iEAAoCqR,UAAW,kBAAMkI,EAAatI,EAAOlV,MACzF,kBAAC,IAAD,CACEwV,QAAM,EACNhW,KAAK,OACLuH,KAAM,kBAAC0O,GAAA,EAAD,cA5Be,4CAsCrC,4BAAAtY,EAAA,6DACEumB,GAAyB,GAD3B,kBAG2B1Z,KAH3B,OAGU5M,EAHV,OAII+M,EAAkB/M,EAASC,MAC3BC,QAAQC,IAAIH,EAASC,MALzB,gDAOIC,QAAQC,IAAR,MAPJ,QASEmmB,GAAyB,GAT3B,0DAtCqC,sBAkDrC,IAIMhG,EAAY,uCAAG,WAAMxf,GAAN,qBAAAf,EAAA,6DACnBP,GAAa,GADM,SAGXgE,EAAO,CACXzB,KAAMjB,EAAOiB,MAJE,SAMMmkB,GAAsBtY,EAAapK,GANzC,OAMXxD,EANW,OAOX2mB,EAAU3mB,EAASC,KAAKA,MACxB0gB,EARW,aAQI7T,IACZ8T,QAAQ+F,GACjB5Z,EAAkB4T,GAClB6F,GAAmB,GAXF,0DAcnBhnB,GAAa,GACbsgB,EAAW3K,cAfQ,0DAAH,sDAkBZ6C,EAAkB,SAAA/K,GACtBsW,EAAoBtW,GACpByZ,GAAiB,IAGb7F,EAAU,uCAAG,WAAM/f,GAAN,qBAAAf,EAAA,6DACjBP,GAAa,GADI,SAGToD,EAAK0gB,EAAiB1gB,GACtBY,EAAO,CACXzB,KAAMjB,EAAOiB,MALA,SAOTokB,GAAsBvY,EAAahL,EAAIY,GAP9B,OAQTmd,EARS,aAQM7T,GACftC,EAAQmW,EAASQ,WAAU,SAAApK,GAAG,OAAIA,EAAInU,KAAOA,KACnD+d,EAASnW,GAAOzI,KAAOjB,EAAOiB,KAC9BgL,EAAkB4T,GAClB+F,GAAiB,GACjBnD,EAAoB,MACpBxD,EAAS5K,cAdM,0DAkBjB3V,GAAa,GAlBI,0DAAH,sDAsBV4gB,EAAY,uCAAG,WAAMxd,GAAN,iBAAA7C,EAAA,+EDlGe3B,ECoGJwP,EDpGWwW,ECoGExhB,EDnGtClE,IAAMkN,OAAN,UAAgB5I,GAAhB,YAAkCohB,EAAlC,KAAkDjmB,EAAkBC,ICiGtD,OAGXuiB,EAHW,aAGI7T,GACftC,EAAQsC,EAAeqU,WAAU,SAAApK,GAAG,OAAIA,EAAInU,KAAOA,KACzD+d,EAASS,OAAO5W,EAAO,GACvBuC,EAAkB4T,GAND,gDAQjBzgB,QAAQC,IAAR,MARiB,kCDlGhB,IAA+B/B,EAAOgmB,ICkGtB,oBAAH,sDAsBlB,OAJAhkB,qBAAU,YArH2B,mCAsHnC8M,KACC,IAGD,yBAAKlH,UAAU,mBACb,yBAAKqE,MAAO,CAAEiX,QAAS,SACrB,sEACA,kBAAC,IAAD,CAAQjX,MAAO,CAAEkX,WAAY,QAAUha,QA3EnB,WACxBif,GAAmB,KA2Eb,kBAAC9S,GAAA,EAAD,MADF,4BAIF,kBAAC,IAAD,MACA,kBAAC,KAAD,CACEsF,OAAO,KACPzW,QAAS8jB,EACTnN,WAAYpM,EACZmM,QAAStB,IACX,kBAAC,KAAD,CACEiP,aAAa,EACbxN,gBAAgB,EAChBrF,QAAS0S,EACTpN,eAAgB9Z,EAChB4Z,WA7BmB,WACvB4G,EAAS5K,cACToO,EAAoB,MACpBmD,GAAiB,IA2BbpN,KAAM,kBAAMyG,EAASxG,iBAAiBC,MAAK,SAAA1Y,GACzCif,EAAS5K,cACT0L,EAAW/f,OAEbmT,SAAU,kBAAMyS,GAAiB,KACjC,kBAAC,GAAD,CAAsBzR,KAAM8K,EAAUlf,SAAUggB,EAAY5T,SAAUqW,KAExE,kBAAC,KAAD,CACEjK,eAAgB9Z,EAChBwU,QAASwS,EACTjN,KAAM,kBAAMwG,EAAWvG,iBAAiBC,MAAK,SAAA1Y,GAC3Cgf,EAAW3K,cACXmL,EAAaxf,OAEfmT,SAAU,kBAAMuS,GAAmB,KACnC,kBAAC,GAAD,CAAsBvR,KAAM6K,EAAYjf,SAAUyf,OCzJlDjC,GAAmBtZ,IAAnBsZ,MAAO5W,GAAY1C,IAAZ0C,QA+CAof,OA7CK,SAAAxnB,GAAU,IACpB6H,EAAS0K,cAAT1K,KACAP,EAAazB,cAAbyB,SACF2X,EAAc,CAClB,CAAEpX,KAAK,GAAD,OAAKA,EAAL,gBAAyBnF,KAAM,wDACrC,CAAEmF,KAAK,GAAD,OAAKA,EAAL,YAAqBnF,KAAM,iCACjC,CAAEmF,KAAK,GAAD,OAAKA,EAAL,kBAA2BnF,KAAM,0CACvC,CAAEmF,KAAK,GAAD,OAAKA,EAAL,SAAkBnF,KAAM,gCAC9B,CAAEmF,KAAK,GAAD,OAAKA,EAAL,SAAkBnF,KAAM,4CAEhC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQiE,UAAU,gBAChB,kBAAC,EAAD,CAAQC,aAAW,IACnB,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAOM,MAAO,IAAKP,UAAU,sBAC3B,kBAAC,IAAD,CAAMQ,MAAM,OAAOC,KAAK,WAAWC,aAAc,CAACC,IAE9C2X,EAAY5b,KAAI,SAAA+b,GAAK,OACnB,kBAAC,IAAK3c,KAAN,CAAWV,IAAKqd,EAAMvX,MACpB,kBAAC,IAAD,CAAMf,GAAE,UAAKsY,EAAMvX,OAChBuX,EAAM1c,YAOnB,kBAAC,GAAD,CAASiE,UAAU,wBACjB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkB,KAAI,UAAKA,EAAL,KAAcwX,OAAK,EAACC,UAAWC,KAC1C,kBAAC,IAAD,CAAO1X,KAAI,UAAKA,EAAL,gBAAyByX,UAAWE,KAC/C,kBAAC,IAAD,CAAO3X,KAAI,UAAKA,EAAL,kBAA2ByX,UAAWyH,KACjD,kBAAC,IAAD,CAAOlf,KAAI,UAAKA,EAAL,SAAkByX,UAAWgB,KACxC,kBAAC,IAAD,CAAOzY,KAAI,UAAKA,EAAL,YAAqByX,UAAWwE,KAC3C,kBAAC,IAAD,CAAOjc,KAAI,UAAKA,EAAL,SAAkByX,UAAW0G,KACxC,kBAAC,IAAD,CAAOne,KAAI,UAAKA,EAAL,MAAeyX,UAAW,kBAAM,kBAAC,IAAD,CAAUxY,GAAE,UAAKe,EAAL,kBCyCtD4f,GAjFe,WAAO,IAAD,IACExnB,mBAAS,MADX,mBAC3BuJ,EAD2B,KACfsC,EADe,KAG5BlE,EADa2K,cAAX9S,OACYmI,KACdtD,EAAWwB,cAJiB,4CAMlC,WAAoC8B,GAApC,eAAAlH,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2BH,GAAwB7D,GAHnD,OAGUjH,EAHV,OAIImL,EAAcnL,EAASC,KAAKA,MAJhC,gDAMIC,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DANkC,sBAuBlC,OANA7K,qBAAU,WACJ6G,GAAQA,EAAKmB,OAAS,GAlBM,oCAmB9ByV,CAAqB5W,KAEtB,CAACA,IAGF,kBAAC,EAAD,KACE,kBAAC,GAAD,KAEI4B,EACE,yBAAK7C,UAAU,4BACb,4BAAK6C,EAAWhC,OAChB,2BAAG,+BAAQ,IAAIoD,KAAKpB,EAAWqB,YAAYC,mBAAmB,WAC9D,kBAAC,IAAD,MACA,kBAAC,KAAD,CAAUmV,gBAAc,EAACvN,UAAQ,GAE7BlJ,EAAWU,OAAO7G,KAAI,SAAAQ,GACpB,OAAO,yBAAK9B,IAAK8B,EAAMN,IACrB,yBAAK2D,MAAM,OAAOH,IAAKlD,EAAMsG,KAAO,gCAAiClD,IAAKpD,EAAMsG,KAAO,uCAM/F,6BACA,4BAAI,uDAEJ,6BAAK,sDACL,2BAAIX,EAAWiB,KAAf,KAAsB,mCAEtB,6BAAK,gEACL,2BAAIjB,EAAW6N,SAAf,KAA0B,mCAE1B,6BAAK,sDACL,2BAAI7N,EAAW8N,SAEf,6BAAK,sDACL,2BAAI9N,EAAW+N,UAEf,6BAAK,6DACL,4BAAI,UAAA/N,EAAW6G,eAAX,eAAoB3N,OAAQ,YAEhC,4BAAI,+DACJ,yBAAK0H,wBAAyB,CAAEC,OAAQb,EAAWO,UAEnD,4BAAI,0DACJ,kBAAC,GAAD,CAAOiB,MAAO,CAAE2M,OAAQ,KAAO/F,KAAM,GAAIH,OACvC,CAAEE,IAAKnI,EAAWE,QAAQiJ,SAAUjB,IAAKlI,EAAWE,QAAQkJ,YAE5D,kBAACV,GAAA,EAAD,CAAQC,SACN,CAAER,IAAKnI,EAAWE,QAAQiJ,SAAUjB,IAAKlI,EAAWE,QAAQkJ,eAKlE,kBAAC,KAAD,SCjCG8U,GA3CS,SAAA1nB,GAAU,IAAD,EAEOC,mBAAS,MAFhB,mBAExB0nB,EAFwB,KAEXC,EAFW,KAGzBtjB,EAAWwB,cAEX8B,EADa2K,cAAX9S,OACYmI,KALW,4CAO/B,WAA8BA,GAA9B,eAAAlH,EAAA,6DACE4D,EAASsH,IAAW,IADtB,kBAG2BwB,GAAkBxF,GAH7C,OAGUjH,EAHV,OAIIinB,EAAejnB,EAASC,KAAKA,MAJjC,gDAMIC,QAAQC,IAAR,MANJ,QAQEwD,EAASsH,IAAW,IARtB,0DAP+B,sBAuB/B,OALA7K,qBAAU,WACJ6G,GAAQA,EAAKmB,OAAS,GAnBG,oCAoB3B8e,CAAejgB,KAEhB,CAACA,IAEF,kBAAC,EAAD,KACE,kBAAC,GAAD,KAEI+f,EACE,6BACE,4BAAKA,EAAYngB,OACjB,2BAAG,+BAAQ,IAAIoD,KAAK+c,EAAY9c,YAAYC,mBAAmB,WAC/D,kBAAC,IAAD,MACA,yBAAKV,wBAAyB,CAAEC,OAAQsd,EAAY5a,YAItD,kBAAC,KAAD,SCaG+a,GAjCH,SAAA9nB,GACV,IAAMsE,EAAWwB,cACXG,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,aAU7C,OARAlF,qBAAU,WACR,IAAMwN,EAAc5J,IAAQrF,IAAI,UAC5BiP,IAAgBtI,EAAUsI,aAAelJ,aAAagB,OACxD/B,EAASQ,EAAeyJ,IACxBjK,EAASU,EAAiBuJ,QAK5B,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO1G,KAAK,IAAIwX,OAAK,EAACC,UAAW/W,IACjC,kBAAC,IAAD,CAAOV,KAAK,eAAewX,OAAK,EAACC,UAAWzT,KAC5C,kBAAC,IAAD,CAAOhE,KAAK,qBAAqByX,UAAWmI,KAC5C,kBAAC,IAAD,CAAO5f,KAAK,WAAWwX,OAAK,EAACC,UAAWvO,KACxC,kBAAC,IAAD,CAAOlJ,KAAK,iBAAiByX,UAAWyI,KACxC,kBAAC,IAAD,CAAOlgB,KAAK,QAAQwX,OAAK,EAACC,UAAW9R,KACrC,kBAAC,IAAD,CAAO3F,KAAK,cAAcyX,UAAWoI,KACrC,kBAAC,IAAD,CAAO7f,KAAK,SAASyX,UAAW1S,KAChC,kBAAC,IAAD,CAAO/E,KAAK,SAASyX,UAAWpQ,KAChC,kBAAC,IAAD,CAAOrH,KAAK,YAAYyX,UAAWnP,KACnC,kBAAC,IAAD,CAAOtI,KAAK,gBAAgByX,UAAWvM,KACvC,kBAAC,IAAD,CAAOlL,KAAK,MAAMyX,UAAW0I,KAC7B,kBAAC,IAAD,CAAOngB,KAAK,SAASyX,UAAW2I,QCxCpBC,QACW,cAA7BzhB,OAAOb,SAASuiB,UAEe,UAA7B1hB,OAAOb,SAASuiB,UAEhB1hB,OAAOb,SAASuiB,SAASC,MACvB,2D,uBChBAC,GAAe,CACnBhiB,KAAM,KACNkI,YAAa,KACb+Z,aAAc,MCHhB,IAAMD,GAAe,CACnBnlB,SAAS,GCCX,ICYoBqlB,GDPLC,GALKC,aAAgB,CAClCxiB,UFGa,WAAoD,IAA/BE,EAA8B,uDAAtBkiB,GAAcnQ,EAAQ,uCAChE,OAAQA,EAAOnV,MACb,I3EViB,Q2EWf,OAAO,6BACFoD,GADL,IAEEpH,MAAOmZ,EAAOhT,UAElB,I3EbuB,c2EcrB,OAAO,6BACFiB,GADL,IAEEE,KAAM6R,EAAOhT,UAEjB,I3EnBkB,S2EoBhB,OAAO,6BACFiB,GADL,IAEEE,KAAM,KACNkI,YAAa,OAEjB,I3EvB4B,mB2EwB1B,OAAO,6BACFpI,GADL,IAEEoI,YAAa2J,EAAOhT,UAExB,I3E3B6B,oB2E4B3B,OAAO,6BACFiB,GADL,IAEEmiB,aAAcpQ,EAAOhT,UAEzB,QACE,OAAO,gBAAKiB,KE/BhBC,aDAa,WAAuD,IAA/BD,EAA8B,uDAAtBkiB,GAAcnQ,EAAQ,uCACnE,OAAQA,EAAOnV,MACb,I5EFuB,c4EGrB,OAAO,6BACFoD,GADL,IAEEjD,QAASgV,EAAOhT,UAEpB,QACE,OAAO,gBAAKiB,OGVZuiB,GAAmBjiB,OAAOkiB,sCAAwCC,KAMzDL,GALDM,aACZL,GACAE,GAAiBI,aAAgBC,Q,cDSfR,GAkETA,GAjETlpB,IAAM2pB,aAAaC,QAAQC,KAAI,SAAAC,GAE7B,OAAOA,KACN,SAAAhkB,GACD,OAAO6K,QAAQC,OAAO9K,MAExB9F,IAAM2pB,aAAaroB,SAASuoB,KAAI,SAAAvoB,GAC9B,OAAOA,KACN,SAACwE,GAEF,IAAIsJ,EAAU,GACVe,EAAc,GAElB,GAAIrK,EAAMxE,SAAU,CAClB,IAAMyoB,EAAmBjkB,EAAMgkB,OAM/B,GAJ8B,MAA1BhkB,EAAMxE,SAAS+X,QAAkB0Q,EAAiBjf,MAAjB,UAA4BjL,EAA5B,yBACnCqpB,GAAMjkB,SAASc,KAGa,MAA1BD,EAAMxE,SAAS+X,SAAmB0Q,EAAiBC,OAAQ,CAC7DD,EAAiBC,QAAS,EAC1B,IAAMf,EAAe3jB,IAAQrF,IAAI,WACjC,GAAIgpB,EACF,OAAOjpB,IAAM+E,KAAN,UAAclF,EAAd,wBAA+C,CACpDwF,cAAe4jB,IACdnO,MAAK,SAAAxZ,GACN,IAAM4N,EAAc5N,EAASC,KAAKA,KAAK6D,aACvC8jB,GAAMjkB,SAASQ,EAAeyJ,IAC9B,IAAM4a,EAAShkB,EAAMgkB,OAErB,OADAA,EAAOnqB,QAAP,+BAA4CuP,GACrC,IAAIyB,SAAQ,SAACE,EAASD,GAC3B5Q,IAAM4pB,QAAQE,GAAQhP,MAAK,SAAAmP,GACzBpZ,EAAQoZ,MACPC,OAAM,SAAAC,GACPvZ,EAAOuZ,YAGVD,OAAM,SAAAC,GACPxZ,QAAQC,OAAOuZ,MAKjBrkB,EAAMxE,SAASC,OACjB6N,EAAUtJ,EAAMxE,SAASC,KAAK6oB,KAC9Bja,EAAcrK,EAAMxE,SAASC,KAAK6N,cAG3BtJ,EAAM8jB,QACfxa,EAAUtJ,EAAMuT,OAChBlJ,EAAcrK,EAAMsJ,QAUtB,OALAa,KAAanK,MAAM,CACjBsJ,QAAQ,aAAD,OAAUA,EAAV,KACPe,YAAaA,IAGRQ,QAAQC,OAAO9K,MAM1BukB,IAASlR,OACP,kBAAC,IAAD,CAAU+P,MAAOA,IACf,kBAAC,GAAD,OAEF3e,SAAS+f,eAAe,SJ2CpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB3P,MAAK,SAAA4P,GACJA,EAAaC,gBAEdT,OAAM,SAAApkB,GACLtE,QAAQsE,MAAMA,EAAMsJ,c","file":"static/js/main.5f01fccb.chunk.js","sourcesContent":["const apiPrefix = \"https://homedey.herokuapp.com/api\";\r\n\r\nexport const withAuthorization = token => {\r\n  return {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }\r\n}\r\n\r\nexport default apiPrefix;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nconst addressAPI = apiPrefix + '/user/address';\r\n\r\nexport function getAllCitiesAPI() {\r\n  return axios.get(`${addressAPI}/city/?ordering=name`);\r\n}\r\n\r\nexport function getAllDistrictsAPI() {\r\n  return axios.get(`${addressAPI}/district/`);\r\n}\r\n\r\nexport function getAllWardsAPI() {\r\n  return axios.get(`${addressAPI}/ward/`);\r\n}\r\n\r\nexport function getDistrictsByCityAPI(city_id) {\r\n  return axios.get(`${addressAPI}/district/`, {\r\n    params: {\r\n      city_id: city_id\r\n    }\r\n  })\r\n}\r\n\r\nexport function getWardsByDistrictAPI(district_id) {\r\n  return axios.get(`${addressAPI}/ward/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}\r\n\r\nexport function getStreetsByDistrictAPI(district_id) {\r\n  return axios.get(`${addressAPI}/street/`, {\r\n    params: {\r\n      district_id: district_id\r\n    }\r\n  })\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Row, Col, Form, Select, Button, Input } from 'antd';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI } from 'services/user/address';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst { Option } = Select;\r\n\r\nconst SearchForm = props => {\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const history = useHistory();\r\n\r\n  async function getAllCities() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllCitiesAPI();\r\n      setCities(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getDistrictsByCity(city_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getDistrictsByCityAPI(city_id);\r\n      setDistricts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const serialize = function(obj) {\r\n    Object.keys(obj).forEach(key => obj[key] === undefined ? delete obj[key] : {});\r\n    var str = [];\r\n    for (var p in obj)\r\n      if (obj.hasOwnProperty(p)) {\r\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\r\n      }\r\n    return str.join(\"&\");\r\n  }\r\n\r\n  const handleSubmit = values => {\r\n    const searchParams = serialize(values);\r\n    history.push(`/real-estate?${searchParams}`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllCities();\r\n  }, []);\r\n\r\n  return (\r\n    <Row justify=\"center\">\r\n      <Col sm={24} md={22} lg={18} xl={14} xxl={12}>\r\n        <Form layout=\"vertical\" onFinish={handleSubmit}>\r\n          <Row gutter={8}>\r\n            <Col>\r\n              <Form.Item name=\"for_rent\" initialValue={false}>\r\n                <Select>\r\n                  <Option value={false}>Bán</Option>\r\n                  <Option value={true}>Cho thuê</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex={1}>\r\n              <Form.Item name=\"search\">\r\n                <Input placeholder=\"Nhập từ khóa tìm kiếm\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col>\r\n              <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\">Tìm kiếm</Button>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter=\"8\">\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Tỉnh/thành phố\" name=\"address__ward__district__city_id\">\r\n                <Select loading={isLoading} disabled={!cities} onChange={getDistrictsByCity}>\r\n                  {\r\n                    cities?.map(city => {\r\n                      return <Option key={city.id} value={city.id}>{city.prefix + \" \" + city.name}</Option>\r\n                    })\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Quận/huyện\" name=\"address__ward__district_id\">\r\n                <Select loading={isLoading} disabled={!districts}>\r\n                  {\r\n                    districts?.map(district => {\r\n                      return <Option key={district.id} value={district.id}>{district.prefix + \" \" + district.name}</Option>\r\n                    })\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Phòng ngủ\" name=\"bedroom\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Phòng tắm\" name=\"bathroom\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={8} align=\"bottom\" justify=\"center\">\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Giá (min)\" name=\"price__gte\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Giá (max)\" name=\"price__lte\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 100px\">\r\n              <Form.Item label=\"Diện tích (min)\" name=\"lot_size__gte\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 100px\">\r\n              <Form.Item label=\"Diện tích (max)\" name=\"lot_size__lte\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"0 0 150px\">\r\n              <Form.Item label=\"Năm xây dựng\" name=\"year_build\">\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default SearchForm;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/profile`;\r\n\r\nexport function getProfileAPI(token) {\r\n  return axios.get(`${endpointPrefix}/`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  });\r\n}\r\n\r\nexport function updateProfileAPI(token, body) {\r\n  return axios.put(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateAvatarAPI(token, image) {\r\n  const formData = new FormData();\r\n  formData.append('image', image);\r\n  return axios.patch(`${endpointPrefix}/avatar/`, formData, withAuthorization(token));\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function loginAPI(body) {\r\n  return axios.post(`${apiPrefix}/auth/login/`, body);\r\n}","import * as actionTypes from '../actionTypes';\r\nimport { getProfileAPI } from 'services/user/profile';\r\nimport { loginAPI } from 'services/auth/login';\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction getProfileSuccess(user) {\r\n  return {\r\n    type: actionTypes.GET_PROFILE,\r\n    payload: user\r\n  }\r\n}\r\n\r\n\r\nexport function loginAction(body) {\r\n  return async dispatch => {\r\n    try {\r\n      const loginRes = await loginAPI(body);\r\n      const responseData = loginRes.data;\r\n      const access_token = responseData.data.access_token;\r\n      const refresh_token = responseData.data.refresh_token;\r\n      Cookies.set('access', access_token, { expires: 10 * 60 });\r\n      Cookies.set('refresh', refresh_token, { expires: 24 * 3660 });\r\n      dispatch(setAccessToken(access_token));\r\n      dispatch(setRefreshToken(refresh_token));\r\n      dispatch(getProfileAction(access_token));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport function getProfileAction(access_token) {\r\n  return async dispatch => {\r\n    try {\r\n      const getProfileRes = await getProfileAPI(access_token);\r\n      dispatch(getProfileSuccess(getProfileRes.data.data));\r\n    } catch (error) {\r\n      console.log({ error: error });\r\n    }\r\n  }\r\n}\r\n\r\nexport function logoutAction() {\r\n  localStorage.removeItem('user');\r\n  Cookies.remove('access');\r\n  Cookies.remove('refresh');\r\n  return {\r\n    type: actionTypes.LOGOUT\r\n  }\r\n}\r\n\r\nexport function setAccessToken(access_token) {\r\n  Cookies.set('access', access_token, { expires: 10 * 60 });\r\n  return {\r\n    type: actionTypes.SET_ACCESS_TOKEN,\r\n    payload: access_token\r\n  }\r\n}\r\n\r\nexport function setRefreshToken(refresh_token) {\r\n  Cookies.set('refresh', refresh_token, { expires: 24 * 3660 });\r\n  return {\r\n    type: actionTypes.SET_REFRESH_TOKEN,\r\n    payload: refresh_token\r\n  }\r\n}","export const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const GET_PROFILE = \"GET_PROFILE\";\r\nexport const SET_ACCESS_TOKEN = \"SET_ACCESS_TOKEN\";\r\nexport const SET_REFRESH_TOKEN = \"SET_REFRESH_TOKEN\";\r\n\r\nexport const SET_LOADING = \"SET_LOADING\";","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function getAllRealEstateCategoriesAPI() {\r\n  return axios.get(`${apiPrefix}/user/real-estate-category/`);\r\n}","import React, { useState } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { Layout, Menu } from 'antd';\r\nimport './Header.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logoutAction } from 'store/actions/user.action';\r\nimport { useEffect } from 'react';\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport SubMenu from 'antd/lib/menu/SubMenu';\r\nimport LinearProgress from '@material/react-linear-progress';\r\n\r\nconst { Header } = Layout;\r\n\r\nconst PageHeader = (props) => {\r\n\r\n  const menuItems = [\r\n    { name: 'Dự án', path: '/project' },\r\n    { name: 'Tin tức', path: '/news' },\r\n    // { name: 'Liên hệ', path: '/lien-he' },\r\n  ]\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [categories, setCategories] = useState(null);\r\n  const userState = useSelector(state => state.userState);\r\n  const loadingState = useSelector(state => state.loadingState);\r\n  const { user } = userState;\r\n  const userLocal = localStorage.getItem('user');\r\n  const href = window.location.href;\r\n\r\n  useEffect(() => {\r\n    const getCategories = async () => {\r\n      const response = await getAllRealEstateCategoriesAPI();\r\n      setCategories(response.data);\r\n    }\r\n    getCategories();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    history.replace('/');\r\n    dispatch(logoutAction());\r\n  }\r\n\r\n  return (\r\n    <Header className={`header${props.isDashboard ? ' header--dashboard' : ''}`}>\r\n      <div className=\"header_loading\">\r\n        {\r\n          loadingState.loading &&\r\n          <LinearProgress className=\"header_loading_linear\" indeterminate={true} />\r\n        }\r\n      </div>\r\n\r\n      <Link className=\"header_brand\" to=\"/\">\r\n        <img src={`${process.env.PUBLIC_URL}/images/logo.svg`} alt=\"Homedey\" width=\"32\" />\r\n      </Link>\r\n\r\n      {\r\n        !props.isDashboard &&\r\n        <Menu className=\"header_menu\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n          <SubMenu\r\n            className={`${href.includes('/real-estate?for_rent=false') ? ' ant-menu-item-selected' : ''}`}\r\n            title={<Link to=\"/real-estate?for_rent=false\" className=\"header_submenu\">Nhà đất bán</Link>}>\r\n            {\r\n              categories &&\r\n              categories.filter(c => !c.for_rent).map(c => {\r\n                return <Menu.Item key={`/for-sale-${c.id}`}>\r\n                  <Link to={`/real-estate?for_rent=false&real_estate_category__slug=${c.slug}`}>Bán {c.name}</Link>\r\n                </Menu.Item>\r\n              })\r\n            }\r\n          </SubMenu>\r\n          <SubMenu\r\n            className={`${href.includes('/real-estate?for_rent=true') ? ' ant-menu-item-selected' : ''}`}\r\n            title={<Link to=\"/real-estate?for_rent=true\" className=\"header_submenu\">Nhà đất cho thuê</Link>}>\r\n            {\r\n              categories &&\r\n              categories.filter(c => c.for_rent).map(c => {\r\n                return <Menu.Item key={`/real-estate?for_rent=true${c.id}`}>\r\n                  <Link to={`/real-estate?for_rent=true&real_estate_category__slug=${c.slug}`}>Cho thuê {c.name}</Link>\r\n                </Menu.Item>\r\n              })\r\n            }\r\n          </SubMenu>\r\n          {\r\n            menuItems.map(menu => {\r\n              return (\r\n                <Menu.Item key={menu.path}>\r\n                  <Link to={menu.path}>{menu.name}</Link>\r\n                </Menu.Item>\r\n              )\r\n            })\r\n          }\r\n        </Menu>\r\n      }\r\n      {\r\n        user || userLocal ?\r\n          <Menu className=\"header_menu header_menu--auth\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n            <Menu.Item key=\"/me/\">\r\n              <Link to={`${user ? (user.is_staff ? '/admin/' : '/me/') : ''}`}>{user ? user.first_name + ' ' + user.last_name : userLocal}</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/logout\">\r\n              <Link to=\"/\" onClick={handleLogout}>Đăng xuất</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n          :\r\n          <Menu className=\"header_menu header_menu--auth\" theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname]}>\r\n            <Menu.Item key=\"/login\">\r\n              <Link to=\"/login\">Đăng nhập</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"/register\">\r\n              <Link to=\"/register\">Đăng ký</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n      }\r\n\r\n    </Header>\r\n  )\r\n}\r\n\r\nexport default PageHeader;","import React from 'react';\r\nimport { Layout } from 'antd';\r\nimport PageHeader from 'components/Header/Header';\r\n// import PageFooter from 'components/Footer/Footer';\r\nimport './MainLayout.scss';\r\nconst { Content } = Layout;\r\n\r\nconst MainLayout = props => {\r\n  return (\r\n    <Layout className=\"main-layout\">\r\n      <PageHeader />\r\n      <Content className=\"main-layout_content\">\r\n\r\n        {\r\n          props.children\r\n        }\r\n\r\n      </Content>\r\n\r\n      {/* <Footer>\r\n          <PageFooter />\r\n        </Footer> */}\r\n    </Layout >\r\n  )\r\n}\r\n\r\nexport default MainLayout;","import React from 'react';\r\nimport SearchForm from 'forms/SearchForm/SearchForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst HomePage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-home\">\r\n        <section className=\"header\">\r\n          <div className=\"header_wrapper\">\r\n            <h1 className=\"header_heading\">Homedey</h1>\r\n          </div>\r\n        </section>\r\n        <div className=\"search-form\">\r\n          <SearchForm />\r\n        </div>\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default HomePage;","export function priceWithThousandSpace(price) {\r\n  return price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n}","export function firstCapital(text) {\r\n  if (!text || text.length === 0) return '';\r\n\r\n  return text.charAt(0).toUpperCase() + text.substr(1);\r\n}\r\n\r\nexport function getFirstPararaphText(htmlString) {\r\n  const openTagIndex = htmlString.indexOf('<p>');\r\n  const closeTagIndex = htmlString.indexOf('</p>');\r\n\r\n  if (openTagIndex < 0 || closeTagIndex < 0) return htmlString;\r\n  return htmlString.substring(openTagIndex + '<p>'.length, closeTagIndex)\r\n}\r\n\r\nexport function truncateText(text, maxLength = 70, delimiter = \"...\") {\r\n  if (!text || text.length === 0) return text;\r\n\r\n  let result = \"\";\r\n  if (text.length > (maxLength + delimiter.length)) {\r\n    result = text.substr(0, maxLength) + delimiter;\r\n  } else {\r\n    result = text;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getShortAddressString(addressObj) {\r\n  const { ward } = addressObj;\r\n  const { district } = ward;\r\n  const { city } = district;\r\n  const districtStr = district.prefix + \" \" + district.name;\r\n  const cityStr = city.prefix + \" \" + city.name;\r\n  return districtStr + \", \" + cityStr;\r\n}\r\n\r\nexport function getAddressString(addressObj) {\r\n\r\n  if (!addressObj) return '';\r\n\r\n  const {\r\n    ward,\r\n    ward: {\r\n      district,\r\n      district: {\r\n        city\r\n      }\r\n    },\r\n    street\r\n  } = addressObj;\r\n  const streetStr = street.prefix + \" \" + street.name;\r\n  const wardStr = ward.prefix + \" \" + ward.name;\r\n  const districtStr = district.prefix + \" \" + district.name;\r\n  const cityStr = city.prefix + \" \" + city.name;\r\n  return [streetStr, wardStr, districtStr, cityStr].join(\", \");\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './RealEstate.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCoins, faBorderAll, faMapMarkerAlt, faCalendar } from '@fortawesome/free-solid-svg-icons';\r\nimport { priceWithThousandSpace } from 'utils/number';\r\nimport { truncateText } from 'utils/string';\r\n\r\nconst RealEstate = props => {\r\n  const { thumbnail, realEstate } = props;\r\n  let addressStr = \"\";\r\n  if (realEstate) {\r\n    const { address } = realEstate;\r\n    const { ward } = address;\r\n    const { district } = ward;\r\n    const { city } = district;\r\n    const districtStr = district.prefix + \" \" + district.name;\r\n    const cityStr = city.prefix + \" \" + city.name;\r\n    addressStr = districtStr + \", \" + cityStr;\r\n  }\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.innerHTML = realEstate?.detail;\r\n  const detailStr = truncateText(div.innerText, 100);\r\n\r\n  return (\r\n    realEstate ?\r\n      <li className={`real-estate${thumbnail ? ' real-estate--thumbnail' : ''}`}>\r\n        <Link className=\"real-estate__image\" to={`/real-estate/${realEstate.slug}`}>\r\n          <img src={realEstate.images[0]?.url || \"//via.placeholder.com/800x600\"} alt={realEstate.images[0]?.url || \"//via.placeholder.com/800x600\"} />\r\n        </Link>\r\n        <div className=\"real-estate__content\">\r\n          <h3 className=\"real-estate__heading\">\r\n            <Link to={`/real-estate/${realEstate.slug}`}>{realEstate.title}</Link>\r\n          </h3>\r\n          <p className=\"real-estate__summary\" dangerouslySetInnerHTML={{__html: detailStr}}></p>\r\n          <div className=\"real-estate__columns\">\r\n            <span className=\"real-estate__price\"><FontAwesomeIcon icon={faCoins} /> {priceWithThousandSpace(realEstate.price)} VNĐ</span>\r\n            <span className=\"real-estate__area\"><FontAwesomeIcon icon={faBorderAll} /> {realEstate.area} m<sup>2</sup></span>\r\n          </div>\r\n          <div className=\"real-estate__address\"><FontAwesomeIcon icon={faMapMarkerAlt} /> {addressStr}</div>\r\n          <p className=\"real-estate__date\"><FontAwesomeIcon icon={faCalendar} /> {new Date(realEstate.created_at).toLocaleDateString(\"vi-VN\")}</p>\r\n        </div>\r\n      </li>\r\n      :\r\n      null\r\n  )\r\n}\r\n\r\nexport default RealEstate;","import React from 'react';\r\n\r\nimport './LayoutWithAside.scss';\r\nimport { Divider } from 'antd';\r\nimport RealEstate from 'components/RealEstate/RealEstate';\r\n\r\nconst LayoutWithAside = props => {\r\n  console.log(props);\r\n  return (\r\n    <div className=\"layout-aside\">\r\n      <div className=\"layout-aside_main\">{props.children}</div>\r\n      <aside className=\"layout-aside_aside\">\r\n        <h3>Nổi bật</h3>\r\n        <Divider style={{ marginTop: 0 }} />\r\n        <ul>\r\n          {\r\n            props.featured?.map((realEstate, index) => {\r\n              return (\r\n                <RealEstate thumbnail realEstate={realEstate} key={realEstate.id} />)\r\n            })\r\n          }\r\n        </ul>\r\n        <h3>Gần đây</h3>\r\n        <Divider style={{ marginTop: 0 }} />\r\n        <ul>\r\n          {\r\n            props.latest?.map((realEstate, index) => {\r\n              return <RealEstate thumbnail realEstate={realEstate} key={realEstate.id} />\r\n            })\r\n          }\r\n        </ul>\r\n      </aside>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LayoutWithAside;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/real-estate`;\r\n\r\nexport function getAllRealEstateAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}\r\n\r\nexport function getRealEstateForSaleAPI(query) {\r\n  return axios.get(`${endpointPrefix}/for-sale/${query ? `?${query}` : ''}`);\r\n}\r\n\r\nexport function getRealEstateForRentAPI(query) {\r\n  return axios.get(`${endpointPrefix}/for-rent/${query ? `?${query}` : ''}`);\r\n}\r\n\r\nexport function createRealEstateAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/listings/`, body, withAuthorization(token))\r\n}\r\n\r\nexport function getRealEstateDetailsAPI(slug) {\r\n  return axios.get(`${endpointPrefix}/${slug}/`);\r\n}\r\n\r\nexport function getFeaturedRealEstatesAPI(limit = 3) {\r\n  return axios.get(`${endpointPrefix}/featured/?limit=${limit}`);\r\n}","import * as actionTypes from '../actionTypes';\r\n\r\nexport function setLoading(value) {\r\n  return {\r\n    type: actionTypes.SET_LOADING,\r\n    payload: value\r\n  }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { Divider, Empty } from 'antd';\r\nimport RealEstate from 'components/RealEstate/RealEstate';\r\nimport { getAllRealEstateAPI, getRealEstateForSaleAPI, getRealEstateForRentAPI, getFeaturedRealEstatesAPI } from 'services/user/real-estate';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst RealEstatePage = props => {\r\n\r\n  const [realEstate, setRealEstate] = useState(null);\r\n  const [featuredRealEstates, setFeaturedRealEstates] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { search } = useLocation();\r\n  const searchParams = new URLSearchParams(search);\r\n  const for_rent = searchParams.get('for_rent');\r\n\r\n  const getAllRealEstate = async () => {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getAllRealEstateAPI();\r\n      setRealEstate(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  const getRealEstateForSale = async (query) => {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getRealEstateForSaleAPI(query);\r\n      setRealEstate(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  const getRealEstateForRent = async (query) => {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getRealEstateForRentAPI(query);\r\n      setRealEstate(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (for_rent === 'true') {\r\n      const newSearchParams = new URLSearchParams(search);\r\n      newSearchParams.delete('for_rent');\r\n      getRealEstateForRent(newSearchParams.toString());\r\n\r\n    } else if (for_rent === 'false') {\r\n      const newSearchParams = new URLSearchParams(search);\r\n      newSearchParams.delete('for_rent');\r\n      getRealEstateForSale(newSearchParams.toString());\r\n    } else {\r\n      getAllRealEstate();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    const getFeatured = async () => {\r\n      try {\r\n        const response = await getFeaturedRealEstatesAPI();\r\n        setFeaturedRealEstates(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    getFeatured();\r\n  }, [])\r\n\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside featured={featuredRealEstates} latest={realEstate?.results.slice(0, 3)}>\r\n        <h2>Nhà đất {for_rent === 'true' ? 'cho thuê' : 'bán'}</h2>\r\n        <Divider />\r\n        {\r\n          realEstate &&\r\n          <ul className=\"real-estate-page_grid\">\r\n            {\r\n              realEstate.results.length > 0 ?\r\n                realEstate.results.map(item => {\r\n                  return <RealEstate realEstate={item} key={item.id} />\r\n                })\r\n                :\r\n                <Empty />\r\n            }\r\n          </ul>\r\n        }\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default RealEstatePage;","import React from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst AboutPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div>About page</div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default AboutPage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CalendarOutlined } from '@ant-design/icons';\r\nimport { truncateText } from 'utils/string';\r\nimport { Tag } from 'antd';\r\nimport './News.scss';\r\n\r\nconst News = props => {\r\n  const { news } = props;\r\n  const { title, content, created_at, images, news_category, slug } = news;\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.innerHTML = content;\r\n  const contentStr = truncateText(div.innerText, 100);\r\n\r\n  return (\r\n    <div className=\"news\">\r\n      <Link to={`/news/${slug}`} className=\"news_thumbnail\">\r\n        <img src={images[0]?.url || '//via.placeholder.com/800x600'} alt={images[0]?.url || '//via.placeholder.com/800x600'} />\r\n      </Link>\r\n      <div className=\"news-content\">\r\n        <h3 className=\"news_title\"><Link to={`/news/${slug}`}>{title}</Link></h3>\r\n        <p className=\"news_summary\">{contentStr}</p>\r\n\r\n        <p>\r\n          <Tag>\r\n            <Link to={`/news?category=${news_category.slug}`}>{news_category.name}</Link>\r\n          </Tag>\r\n        </p>\r\n\r\n        <p className=\"news_date\"><CalendarOutlined /> {new Date(created_at).toLocaleDateString(\"vi-VN\")}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/news`;\r\n\r\nexport function getAllNewsAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}\r\n\r\nexport function getNewsDetailsAPI(slug) {\r\n  return axios.get(`${endpointPrefix}/${slug}/`);\r\n}\r\n\r\nexport function getNewsByCategoryAPI(categorySlug) {\r\n  return axios.get(`${endpointPrefix}/?news_category__slug=${categorySlug}`);\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/news-category`;\r\n\r\nexport function getAllNewsCategoriesAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { Divider, Tag, Empty } from 'antd';\r\nimport News from 'components/News/News';\r\nimport { getAllNewsAPI, getNewsByCategoryAPI } from 'services/user/news';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst NewsPage = props => {\r\n\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [news, setNews] = useState(null);\r\n  const { pathname } = useLocation();\r\n  const { search } = useLocation();\r\n  const searchParams = new URLSearchParams(search);\r\n  const category = searchParams.get('category');\r\n  const dispatch = useDispatch();\r\n\r\n  async function getNewsCategories() {\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async function getAllNews() {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getAllNewsAPI();\r\n      setNews(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  async function getNewsByCategory(categorySlug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getNewsByCategoryAPI(categorySlug);\r\n      setNews(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (category && category.length > 0) {\r\n      getNewsByCategory(category);\r\n    } else {\r\n      getAllNews();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [category]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <Helmet>\r\n        <title>Tin tức | Homedey</title>\r\n        <meta name=\"description\" content=\"Đọc tin tức tại homedey\"/>\r\n      </Helmet>\r\n      <LayoutWithAside>\r\n        <div className=\"page-news\">\r\n          <h2>Tin tức</h2>\r\n          <div>\r\n            <Tag color={(pathname === '/news' && !category) ? '#2db7f5' : ''}>\r\n              <Link to=\"/news\">Tất cả</Link>\r\n            </Tag>\r\n            {\r\n              newsCategories &&\r\n              newsCategories.map(c => {\r\n                return <Tag color={c.slug === category ? '#2db7f5' : ''} key={c.id}>\r\n                  <Link to={`/news?category=${c.slug}`}>{c.name}</Link>\r\n                </Tag>\r\n              })\r\n            }\r\n          </div>\r\n          <Divider />\r\n          <section className=\"page-news_wrapper\">\r\n            {\r\n              news &&\r\n                news.length > 0 ?\r\n                news.map(n => (\r\n                  <News key={n.id} news={n} />\r\n                ))\r\n                :\r\n                <Empty />\r\n            }\r\n          </section>\r\n        </div>\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default NewsPage;","import React from 'react';\r\n\r\nconst AuthForm = props => {\r\n  return (\r\n    <div className=\"auth-form\">\r\n      {\r\n        props.children\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthForm;","import React, { useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Form, Input, Divider, Button, Alert } from 'antd';\r\nimport { MailOutlined, KeyOutlined } from '@ant-design/icons';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginAction } from 'store/actions/user.action';\r\nimport { useEffect } from 'react';\r\n\r\nconst LoginForm = props => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n  const location = useLocation();\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  const search = location.search;\r\n  const searchParams = new URLSearchParams(search);\r\n  const next = searchParams.get('next');\r\n\r\n  const handleLogin = async values => {\r\n    setLoading(true);\r\n    try {\r\n      const body = values;\r\n      await dispatch(loginAction(body));\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { user, accessToken } = userState;\r\n    if (user && accessToken) {\r\n      localStorage.setItem('user', user.first_name + ' ' + user.last_name);\r\n      if (search.length > 0) {\r\n        if (next.length > 0) {\r\n          history.replace(next);\r\n        }\r\n      } else {\r\n        history.replace('/');\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <AuthForm>\r\n      {\r\n        next?.length > 0 &&\r\n          <>\r\n            <Alert message=\"Vui lòng đăng nhập để tiếp tục\" type=\"error\" />\r\n            <br />\r\n          </>\r\n      }\r\n      <h2>Đăng nhập</h2>\r\n      <Divider />\r\n      <Form layout=\"vertical\" onFinish={handleLogin} noValidate>\r\n        <Form.Item label=\"Địa chỉ email\" htmlFor=\"email\" name=\"email\" rules={[\r\n          { required: true, message: 'Vui lòng nhập email' },\r\n          { type: 'email', message: 'Email không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"email\" type=\"email\" prefix={<MailOutlined />} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Mật khẩu\" htmlFor=\"password\" name=\"password\" rules={[\r\n          { required: true, message: 'Vui lòng nhập mật khẩu' }\r\n        ]}>\r\n          <Input.Password id=\"password\" prefix={<KeyOutlined />} />\r\n        </Form.Item>\r\n\r\n        <p><Link to=\"/forgot-password\">Quên mật khẩu</Link></p>\r\n\r\n        <Form.Item >\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            loading={isLoading}\r\n            block>Đăng nhập</Button>\r\n        </Form.Item>\r\n        <p className=\"text-center\">Chưa có tài khoản? <Link to=\"/register\">Đăng ký</Link></p>\r\n      </Form>\r\n    </AuthForm>\r\n  )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from 'forms/LoginForm/LoginForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst LoginPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-auth\">\r\n        <LoginForm />\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Form, Input, Divider, Button, Row, Col, notification } from 'antd';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\n\r\nimport { registerAPI } from 'services/auth/register';\r\nimport { useState } from 'react';\r\n\r\nconst RegisterForm = props => {\r\n  const history = useHistory();\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const handleRegister = async values => {\r\n    setLoading(true);\r\n    try {\r\n      const registerRes = await registerAPI(values);\r\n      notification.success({\r\n        message: 'Đăng ký thành công',\r\n        description: 'Vui lòng xác nhận tài khoản của bạn bằng email được gửi để đăng nhập.',\r\n        duration: 2000,\r\n        onClose: () => {\r\n          history.replace('/login');\r\n        }\r\n      })\r\n      console.log(registerRes);\r\n    } catch (error) {\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <AuthForm>\r\n      <h2>Đăng ký</h2>\r\n      <Divider />\r\n      <Form layout=\"vertical\" onFinish={handleRegister} noValidate>\r\n        <Row gutter={10} style={{ flexWrap: 'nowrap' }}>\r\n          <Col>\r\n            <Form.Item label=\"Họ\" htmlFor=\"first-name\" name=\"first_name\" rules={[\r\n              { required: true, message: 'Vui lòng nhập họ' }\r\n            ]}>\r\n              <Input id=\"first-name\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col>\r\n            <Form.Item label=\"Tên\" htmlFor=\"last-name\" name=\"last_name\" rules={[\r\n              { required: true, message: 'Vui lòng nhập tên' }\r\n            ]}>\r\n              <Input id=\"last-name\" />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Form.Item label=\"Địa chỉ email\" htmlFor=\"email\" name=\"email\" rules={[\r\n          { required: true, message: 'Vui lòng nhập email' },\r\n          { type: 'email', message: 'Email không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"email\" type=\"email\" />\r\n        </Form.Item>\r\n        <Form.Item label=\"Mật khẩu\" htmlFor=\"password\" name=\"password\" rules={[\r\n          { required: true, message: 'Vui lòng nhập mật khẩu' },\r\n        ]} hasFeedback>\r\n          <Input.Password id=\"password\" />\r\n        </Form.Item>\r\n        <Form.Item label=\"Nhập lại mật khẩu\" htmlFor=\"confirm-password\" name=\"confirmPassword\" rules={[\r\n          { required: true, message: 'Vui lòng nhập lại mật khẩu' },\r\n          ({ getFieldValue }) => ({\r\n            validator(rule, value) {\r\n              if (!value || getFieldValue('password') === value) {\r\n                return Promise.resolve();\r\n              }\r\n              return Promise.reject('Mật khẩu không khớp nhau');\r\n            }\r\n          })\r\n        ]} hasFeedback>\r\n          <Input.Password id=\"confirm-password\" />\r\n        </Form.Item>\r\n        {/*\r\n        <Form.Item label=\"Điện thoại\" htmlFor=\"phone\" name=\"phone\" rules={[\r\n          { required: true, message: 'Vui lòng nhập số điện thoại' },\r\n          { pattern: phoneValidationString, message: 'Số điện thoại không hợp lệ' }\r\n        ]}>\r\n          <Input id=\"phone\" />\r\n        </Form.Item>\r\n        */}\r\n        <Form.Item >\r\n          <Button type=\"primary\" loading={isLoading} htmlType=\"submit\" block>Đăng ký</Button>\r\n        </Form.Item>\r\n        <p className=\"text-center\">Đã có tài khoản? <Link to=\"/login\">Đăng nhập</Link></p>\r\n      </Form>\r\n    </AuthForm>\r\n  )\r\n}\r\n\r\nexport default RegisterForm;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\n\r\nexport function registerAPI(body) {\r\n  return axios.post(`${apiPrefix}/auth/signup/`, body);\r\n}","import React from 'react';\r\nimport RegisterForm from 'forms/RegisterForm/RegisterForm';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\n\r\nconst RegisterPage = props => {\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-auth\">\r\n        <RegisterForm />\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default RegisterPage;","import React from 'react';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './Project.scss';\r\nimport { getShortAddressString } from 'utils/string';\r\nimport { priceWithThousandSpace } from 'utils/number';\r\n\r\nconst Project = props => {\r\n  const { project } = props;\r\n  const { name, price, address, images, slug } = project;\r\n  return (\r\n    <Card\r\n      className={`project${props.thumbnail ? ' project--thumbnail' : ''}`}\r\n      bordered={!props.thumbnail}\r\n      cover={<Link className=\"project_link\" to={`/project/${slug}`} title={name}>\r\n        <img src={images[0]?.url || \"//via.placeholder.com/800x600\"} alt={images[0]?.url || \"//via.placeholder.com/800x600\"} />\r\n      </Link>}>\r\n      <Card.Meta title={\r\n        <h3><small>\r\n          <Link className=\"project_link\" to={`/project/{slug}`} title={name}>\r\n            {name}\r\n          </Link>\r\n        </small></h3>\r\n      } />\r\n      {\r\n        !props.thumbnail &&\r\n        <div className=\"project_content\">\r\n          <div className=\"project_price\">{priceWithThousandSpace(price) + \" VND\" || \"Đang cập nhật\"}</div>\r\n          <div className=\"project_city\">{getShortAddressString(address)}</div>\r\n        </div>\r\n      }\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Project;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/project-category`;\r\n\r\nexport function getAllProjectCategoriesAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/project`;\r\n\r\nexport function getAllProjectsAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}\r\n\r\nexport function getProjectsByCategoryAPI(category_slug) {\r\n  return axios.get(`${endpointPrefix}/?project_category__slug=${category_slug}`);\r\n}\r\n\r\nexport function getProjectDetailsAPI(slug) {\r\n  return axios.get(`${endpointPrefix}/${slug}/`);\r\n}\r\n\r\nexport function getProjectsByDistrictAPI(district_id) {\r\n  return axios.get(`${endpointPrefix}/name-list/?district_id=${district_id}`);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { Divider, Tag } from 'antd';\r\nimport Project from 'components/Project/Project';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { getAllProjectCategoriesAPI } from 'services/user/project-category';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { getAllProjectsAPI, getProjectsByCategoryAPI } from 'services/user/project';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ProjectsPage = props => {\r\n\r\n  const [projectCategories, setProjectCategories] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n  const { pathname } = useLocation();\r\n  const { search } = useLocation();\r\n  const searchParams = new URLSearchParams(search);\r\n  const category = searchParams.get('category');\r\n  const dispatch = useDispatch();\r\n\r\n  async function getProjectCategories() {\r\n    try {\r\n      const response = await getAllProjectCategoriesAPI();\r\n      setProjectCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async function getAllProjects() {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getAllProjectsAPI();\r\n      setProjects(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  async function getProjectsByCategory(categorySlug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getProjectsByCategoryAPI(categorySlug);\r\n      setProjects(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProjectCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (category && category.length > 0) {\r\n      getProjectsByCategory(category);\r\n    } else {\r\n      getAllProjects();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [category]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        <div className=\"page-projects\">\r\n          <h2>Dự án</h2>\r\n\r\n          <div>\r\n            <Tag color={(pathname === '/project' && !category) ? '#2db7f5' : ''}>\r\n              <Link to=\"/project\">Tất cả</Link>\r\n            </Tag>\r\n            {\r\n              projectCategories?.map(c => {\r\n                return <Tag color={c.slug === category ? '#2db7f5' : ''} key={c.id}>\r\n                  <Link to={`/project?category=${c.slug}`}>{c.name}</Link>\r\n                </Tag>\r\n              })\r\n            }\r\n          </div>\r\n          <Divider />\r\n          <section className=\"projects-wrapper\">\r\n            {\r\n              projects?.map(project => {\r\n                return (\r\n                  <Project key={project.id} project={project} />\r\n                )\r\n              })\r\n            }\r\n          </section>\r\n        </div>\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default ProjectsPage;","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nconst LLMap = props => {\r\n  const { value = {}, onChange } = props; // Value for antd form\r\n\r\n  const handleOnClick = e => {\r\n    if (onChange) {\r\n      onChange(e.latlng);\r\n    }\r\n\r\n    if (props.onclick) {\r\n      props.onClick(e);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Map className={props.className} style={props.style} id={props.id}center={props.center || { lng: 106, lat: 16 }} zoom={props.zoom || 5} onclick={handleOnClick}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n      {\r\n        props.children\r\n      }\r\n      {\r\n        value && value.lat && value.lng &&\r\n        <Marker position={value} />\r\n      }\r\n    </Map>\r\n  )\r\n}\r\n\r\nexport default LLMap;","import React, { useState, useEffect } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { Carousel, Row, Col, Divider, Empty } from 'antd';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { getProjectDetailsAPI } from 'services/user/project';\r\nimport { getAddressString } from 'utils/string';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nconst ProjectDetails = props => {\r\n\r\n  const [projectDetails, setProjectDetails] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { params } = useRouteMatch();\r\n  const slug = params.slug;\r\n\r\n  async function getProjectDetails(slug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getProjectDetailsAPI(slug);\r\n      setProjectDetails(response.data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (slug && slug.length > 0) {\r\n      getProjectDetails(slug);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [slug]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"page-project-details\">\r\n        {\r\n          projectDetails &&\r\n          <Divider>\r\n            <h2>{projectDetails.name}</h2>\r\n          </Divider>\r\n        }\r\n\r\n        {\r\n          projectDetails ?\r\n            <Row gutter={60}>\r\n              <Col xs={24} md={16}>\r\n                <Carousel autoplay>\r\n                  {\r\n                    projectDetails.images?.map(image => (\r\n                      <div key={image.id}>\r\n                        <img src={image.url} width=\"100%\" alt=\"slider\" />\r\n                      </div>\r\n                    ))\r\n                  }\r\n                </Carousel>\r\n                <div>\r\n                  <h3><strong>GIỚI THIỆU</strong></h3>\r\n                  <div dangerouslySetInnerHTML={{ __html: projectDetails.detail }}></div>\r\n                </div>\r\n                <div className=\"project-details_map\">\r\n                <h3><strong>BẢN ĐỒ</strong></h3>\r\n                  <LLMap\r\n                    id=\"project-map\"\r\n                    zoom={13}\r\n                    center={{\r\n                      lat: projectDetails.address.latitude,\r\n                      lng: projectDetails.address.longitude\r\n                    }}>\r\n                    <Marker position={{\r\n                      lat: projectDetails.address.latitude,\r\n                      lng: projectDetails.address.longitude\r\n                    }} />\r\n                  </LLMap>\r\n                </div>\r\n              </Col>\r\n              <Col xs={24} md={8}>\r\n                <h3><strong>Thông tin chung</strong></h3>\r\n\r\n                <div><strong>Tên dự án</strong></div>\r\n                <p>{projectDetails.name}</p>\r\n\r\n                <div><strong>Chủ đầu tư</strong></div>\r\n                <p>{projectDetails.project_investor?.name || \"Đang cập nhật\"}</p>\r\n\r\n                <div><strong>Địa chỉ</strong></div>\r\n                <p>{getAddressString(projectDetails.address)}</p>\r\n\r\n                <div><strong>Tổng diện tích</strong></div>\r\n                <p>{projectDetails.area ? <span>{projectDetails.area} m<sup>2</sup></span> : \"Đang cập nhật\"}</p>\r\n\r\n                {\r\n                  projectDetails.project_investor?.avatar &&\r\n                  <img src={projectDetails.project_investor.avatar} alt={projectDetails.project_investor.avatar} />\r\n                }\r\n              </Col>\r\n            </Row>\r\n            :\r\n            <Empty />\r\n        }\r\n\r\n      </div>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default ProjectDetails;","import React from 'react';\r\nimport AuthForm from 'containers/AuthForm/AuthForm';\r\nimport { Divider } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst VerifyPage = props => {\r\n  return (\r\n    <div className=\"page-auth\">\r\n      <AuthForm>\r\n        <h2>Xác thực tài khoản</h2>\r\n        <Divider />\r\n        <p>Tài khoản của bạn đã được kích hoạt, vui lòng <Link to=\"/dang-nhap\">Đăng nhập</Link> để bắt đầu.</p>\r\n      </AuthForm>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VerifyPage;","import React from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst withUserRoute = Component => {\r\n  return function Wrapper(props) {\r\n    const location = useLocation();\r\n    const accessToken = Cookies.get('access');\r\n\r\n    if (!accessToken || accessToken.length === 0) {\r\n      return <Redirect to={`/login?next=${location.pathname}`} />\r\n    } else {\r\n      return <Component {...props} />\r\n    }\r\n  }\r\n}\r\n\r\nexport default withUserRoute;","import React from 'react';\r\nimport { Upload, Modal } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\n\r\nimport './UploadPictures.scss';\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nconst UploadPictures = props => {\r\n  const [previewVisible, setPreviewVisible] = useState(props.previewVisible || false);\r\n  const [previewImage, setPreviewImage] = useState(props.previewImage || '');\r\n  const [previewTitle, setPreviewTitle] = useState(props.previewTitle || '');\r\n\r\n  const handleCancel = () => {\r\n    setPreviewVisible(false);\r\n  }\r\n\r\n  const handlePreview = async file => {\r\n    if (!file.url && !file.preview) {\r\n      file.preview = await getBase64(file.originFileObj);\r\n    }\r\n\r\n    setPreviewImage(file.url || file.preview);\r\n    setPreviewVisible(true);\r\n    setPreviewTitle(\"Xem trước ảnh\");\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      <PlusOutlined />\r\n      <div className=\"ant-upload-text\">Upload</div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"clearfix\">\r\n      <Upload\r\n        listType=\"picture-card\"\r\n        fileList={props.fileList}\r\n        onPreview={handlePreview}\r\n        onChange={props.onChange}\r\n        disabled={props.disabled}\r\n        beforeUpload={props.beforeUpload}>\r\n        {props.length ? (props.fileList?.length < props.length ? uploadButton : null) : uploadButton}\r\n      </Upload>\r\n      <Modal\r\n        visible={previewVisible}\r\n        title={previewTitle}\r\n        footer={null}\r\n        onCancel={handleCancel}>\r\n        <img src={previewImage} alt=\"\" />\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadPictures;","import React, { useState } from 'react';\r\nimport { Form, Avatar, Input, Row, Col, Button } from 'antd';\r\nimport UploadPictures from 'components/UploadPictures/UploadPictures';\r\nimport Cookies from 'js-cookie';\r\nimport { updateProfileAPI, updateAvatarAPI } from 'services/user/profile';\r\n\r\nconst { Item } = Form;\r\n\r\nconst UserForm = props => {\r\n  const { user } = props;\r\n  const [imageList, setImageList] = useState([]);\r\n  const accessToken = Cookies.get('access');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleBeforeUpload = file => {\r\n    setImageList([...imageList, file]);\r\n    return false;\r\n  }\r\n\r\n  const handleUploadChange = ({ fileList }) => {\r\n    setImageList([...fileList]);\r\n  }\r\n\r\n  const onFinish = async values => {\r\n    values.DOB = new Date(values.DOB).toISOString().substr(0, 10);\r\n    setIsLoading(true);\r\n    try {\r\n      if (imageList.length > 0) {\r\n        const file = imageList[0].originFileObj;\r\n        await updateAvatarAPI(accessToken, file);\r\n      }\r\n      await updateProfileAPI(accessToken, values);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      style={{ maxWidth: 600 }}\r\n      layout=\"vertical\"\r\n      onFinish={onFinish}>\r\n      <Row gutter=\"15\">\r\n        <Col>\r\n          <Avatar size=\"large\" src={user.avatar}>{user.first_name.charAt(0)}</Avatar>\r\n        </Col>\r\n        <Col>\r\n          <UploadPictures\r\n            fileList={imageList}\r\n            length={1}\r\n            onChange={handleUploadChange}\r\n            beforeUpload={handleBeforeUpload} />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Họ\" name=\"first_name\" initialValue={user.first_name}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tên\" name=\"last_name\" initialValue={user.last_name}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Item label=\"Email\" name=\"email\" initialValue={user.email}>\r\n        <Input readOnly />\r\n      </Item>\r\n\r\n      <Item label=\"Điện thoại\" name=\"phone\" initialValue={user.phone}>\r\n        <Input />\r\n      </Item>\r\n\r\n      <Item label=\"Ngày sinh\" name=\"DOB\" initialValue={user.DOB}>\r\n        <Input />\r\n      </Item>\r\n\r\n      <Item>\r\n        <Button loading={isLoading} disabled={isLoading} htmlType=\"submit\">Cập nhật</Button>\r\n      </Item>\r\n\r\n    </Form >\r\n  )\r\n}\r\n\r\nexport default UserForm;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/auth`;\r\n\r\nexport function changePasswordAPI(token, body) {\r\n  return axios.put(`${endpointPrefix}/change-password/`, body, withAuthorization(token));\r\n}","import React, { useState } from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport Cookies from 'js-cookie';\r\nimport { changePasswordAPI } from 'services/auth/user';\r\n\r\nconst { Item, useForm } = Form;\r\n\r\nconst ChangePasswordForm = props => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [form] = useForm();\r\n  const accessToken = Cookies.get('access');\r\n\r\n\r\n  const handleChangePassword = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      await changePasswordAPI(accessToken, values);\r\n      form.resetFields();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      style={{maxWidth: 600}}\r\n      layout=\"vertical\"\r\n      onFinish={handleChangePassword}>\r\n      <div><strong>Đổi mật khẩu</strong></div>\r\n      <Item label=\"Mật khẩu cũ\" name=\"old_password\" required>\r\n        <Input.Password />\r\n      </Item>\r\n      <Item label=\"Mật khẩu mới\" name=\"new_password\" required>\r\n        <Input.Password />\r\n      </Item>\r\n      <Item label=\"Nhập lại mật khẩu mới\" name=\"confirm_password\" required>\r\n        <Input.Password />\r\n      </Item>\r\n      <Item>\r\n        <Button loading={isLoading} disabled={isLoading} htmlType=\"submit\">Đổi mật khẩu</Button>\r\n      </Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default ChangePasswordForm;","import React from 'react';\r\nimport { Divider, Empty } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\nimport UserForm from 'forms/UserForm/UserForm';\r\nimport ChangePasswordForm from 'forms/ChangePasswordForm/ChangePasswordForm';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst UserHomePage = props => {\r\n  const userState = useSelector(state => state.userState);\r\n  const { user } = userState;\r\n  return (\r\n    <div>\r\n      <h2>Thông tin tài khoản</h2>\r\n      <Divider />\r\n      {\r\n        user ?\r\n          <UserForm user={user} />\r\n          :\r\n          <Empty />\r\n      }\r\n      {\r\n        user &&\r\n        <ChangePasswordForm />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserHomePage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/real-estate/listings`;\r\n\r\nexport function getUserRealEstateAPI(token) {\r\n  return axios.get(`${endpointPrefix}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getUserRealEstateDetailsAPI(token, realEstateId) {\r\n  return axios.get(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getWaitingRealEstateAPI(token) {\r\n  return axios.get(`${endpointPrefix}/waiting/`, withAuthorization(token));\r\n}\r\n\r\nexport function getRejectedRealEstateAPI(token) {\r\n  return axios.get(`${endpointPrefix}/reject/`, withAuthorization(token));\r\n}\r\n\r\nexport function updateRealEstateAPI(token, real_estate_id, body) {\r\n  return axios.put(`${endpointPrefix}/${real_estate_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteRealEstateAPI(token, realEstateId) {\r\n  return axios.delete(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\n\r\nexport function uploadRealEstateImagesAPI(token, images) {\r\n  const formData = new FormData();\r\n  images.forEach(image => {\r\n    formData.append('images[]', image);\r\n  })\r\n  \r\n  return axios.post(`${endpointPrefix}/upload-image/`, formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  })\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Form, Select, Input, Row, Col } from 'antd';\r\nimport Quill from 'react-quill';\r\n\r\n// API\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI, getWardsByDistrictAPI, getStreetsByDistrictAPI } from 'services/user/address';\r\nimport { getProjectsByDistrictAPI } from 'services/user/project';\r\nimport LLMap from 'components/LLMap/LLMap';\r\n\r\nconst { Item } = Form;\r\nconst { Option } = Select;\r\n\r\nconst RealEstateForm = props => {\r\n  const { realEstate } = props;\r\n\r\n  const [categories, setCategories] = useState(null);\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n\r\n  const [forRent, setForRent] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  async function getAllProjectCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllRealEstateCategoriesAPI();\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getAllcities() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllCitiesAPI();\r\n      setCities(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getDistrictsByCity(city_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getDistrictsByCityAPI(city_id);\r\n      setDistricts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getWardsStreetsProjectsByDistrict(district_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const [wardRes, streetRes, projectRes] = await Promise.all([\r\n        getWardsByDistrictAPI(district_id),\r\n        getStreetsByDistrictAPI(district_id),\r\n        getProjectsByDistrictAPI(district_id)\r\n      ])\r\n      setWards(wardRes.data);\r\n      setStreets(streetRes.data);\r\n      setProjects(projectRes.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllProjectCategories();\r\n    getAllcities();\r\n\r\n    if (realEstate) {\r\n      getDistrictsByCity(realEstate.address.ward.district.city.id);\r\n      getWardsStreetsProjectsByDistrict(realEstate.address.ward.district.id);\r\n    }\r\n\r\n  }, [realEstate]);\r\n\r\n  return (\r\n    <Form\r\n      form={props.form}\r\n      layout=\"vertical\">\r\n      <Item label=\"Tiêu đề\" name=\"title\" initialValue={realEstate?.title}>\r\n        <Input />\r\n      </Item>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Diện tích\" name=\"area\" initialValue={realEstate?.area}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tổng diện tích\" name=\"lot_size\" initialValue={realEstate?.lot_size}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Số phòng ngủ\" name=\"bedroom\" initialValue={realEstate?.bedroom}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Số phòng tắm\" name=\"bathroom\" initialValue={realEstate?.bathroom}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Giá\" name=\"price\" initialValue={realEstate?.price}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Năm xây dựng\" name=\"year_build\" initialValue={realEstate?.year_build}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Hình thức\" initialValue={realEstate?.real_estate_category.for_rent || forRent} name=\"form\">\r\n            <Select onChange={(value) => setForRent(value)}>\r\n              <Option value={false}>Bán</Option>\r\n              <Option value={true}>Cho thuê</Option>\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Loại tin\" name=\"real_estate_category_id\" initialValue={realEstate?.real_estate_category.id}>\r\n            <Select loading={isLoading} disabled={!categories}>\r\n              {\r\n                categories?.filter(cat => cat.for_rent === forRent).map(cat => {\r\n                  return <Option key={cat.id} value={cat.id}>{cat.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tỉnh/thành phố\" name=\"city_id\" initialValue={realEstate?.address.ward.district.city.id}>\r\n            <Select loading={isLoading} disabled={!cities} onChange={getDistrictsByCity}>\r\n              {\r\n                cities?.map(city => {\r\n                  return <Option key={city.id} value={city.id}>{city.prefix + \" \" + city.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Quận/huyện\" name=\"district_id\" initialValue={realEstate?.address.ward.district.id}>\r\n            <Select loading={isLoading} disabled={!districts} onChange={getWardsStreetsProjectsByDistrict}>\r\n              {\r\n                districts?.map(district => {\r\n                  return <Option key={district.id} value={district.id}>{district.prefix + \" \" + district.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Xã/phường/thị trấn\" name=\"ward_id\" initialValue={realEstate?.address.ward.id}>\r\n            <Select loading={isLoading} disabled={!wards}>\r\n              {\r\n                wards?.map(ward => {\r\n                  return <Option key={ward.id} value={ward.id}>{ward.prefix + \" \" + ward.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Đường\" name=\"street_id\" initialValue={realEstate?.address.street.id}>\r\n            <Select loading={isLoading} disabled={!streets}>\r\n              {\r\n                streets?.map(street => {\r\n                  return <Option key={street.id} value={street.id}>{street.prefix + \" \" + street.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Thuộc dự án\" name=\"project_id\" initialValue={realEstate?.project?.id}>\r\n            <Select loading={isLoading} disabled={!projects}>\r\n              {\r\n                projects?.map(project => {\r\n                  return <Option key={project.id} value={project.id}>{project.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n      <Item label=\"Nội dung\" name=\"detail\" initialValue={realEstate?.detail || \"\"}>\r\n        <Quill theme=\"snow\" />\r\n      </Item>\r\n      <Item label=\"Vị trí (nhấp trên bản đồ để chọn)\" name=\"position\" initialValue={\r\n        { lat: realEstate?.address.latitude, lng: realEstate?.address.longitude } || undefined\r\n      }>\r\n        {\r\n          realEstate ?\r\n            <LLMap zoom={10} center={{ lat: realEstate?.address.latitude, lng: realEstate?.address.longitude } || undefined} style={{ height: 400 }} />\r\n            :\r\n            <LLMap zoom={5} style={{ height: 400 }} />\r\n        }\r\n      </Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default RealEstateForm;","import React, { useState, useEffect } from 'react';\r\nimport { Row, Col, Button, Table, Tooltip, Modal, Popconfirm, Tag, Form } from 'antd';\r\nimport { getUserRealEstateAPI, uploadRealEstateImagesAPI, updateRealEstateAPI, deleteRealEstateAPI } from 'services/user/listing';\r\nimport { createRealEstateAPI } from 'services/user/real-estate';\r\nimport Cookies from 'js-cookie';\r\nimport { DeleteOutlined, EditOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { getShortAddressString } from 'utils/string';\r\nimport RealEstateForm from 'forms/RealEstateForm/RealEstateForm';\r\nimport UploadPictures from 'components/UploadPictures/UploadPictures';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\nconst { useForm } = Form;\r\n\r\nconst UserRealEstatePage = props => {\r\n  const accessToken = Cookies.get('access');\r\n  const [realEstateForm] = useForm();\r\n\r\n  // Data states\r\n  const [realEstate, setRealEstate] = useState(null);\r\n\r\n  const [imageList, setImageList] = useState([]);\r\n  const [imageIds, setImageIds] = useState(null);\r\n  const [selectedRealEstate, setSelectedRealEstate] = useState(null);\r\n  const [action, setAction] = useState('create');\r\n  // Loading states\r\n  const [isLoading, setIsLoading] = useState(null);\r\n\r\n  const [isModalShow, setModalState] = useState(false);\r\n\r\n  const tableColumns = [\r\n    { title: 'Tiêu đề', dataIndex: 'title' },\r\n    { title: 'Giá', dataIndex: 'price' },\r\n    { title: 'Địa chỉ', dataIndex: 'address', render: (text, record) => getShortAddressString(record.address) },\r\n    {\r\n      title: 'Trạng thái', dataIndex: 'status', render: (text, { status }) => {\r\n        return status === 'pending' ?\r\n          <Tag color=\"processing\">Đang đợi</Tag>\r\n          :\r\n          status === 'approved' ?\r\n            <Tag color=\"success\">Đã duyệt</Tag>\r\n            :\r\n            <Tag color=\"error\">Từ chối</Tag>\r\n      }\r\n    },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record, index) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button onClick={() => handleEditClick(record)} type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có muốn chắc muốn xóa tin này\" onConfirm={() => handleDeleteRealEstate(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ]\r\n\r\n  async function getUserRealEstate() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getUserRealEstateAPI(accessToken);\r\n      setRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const handleBeforeUpload = file => {\r\n    setImageList([...imageList, file]);\r\n    return false;\r\n  }\r\n\r\n  const handleUploadChange = ({ fileList }) => {\r\n    setImageList([...fileList]);\r\n  }\r\n\r\n  const handleCreateRealEstate = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n\r\n      const originFileList = imageList.map(image => image.originFileObj);\r\n      let image_ids;\r\n      if (!imageIds) {\r\n        const response = await uploadRealEstateImagesAPI(accessToken, originFileList);\r\n        image_ids = response.data.image_ids;\r\n        setImageIds(image_ids);\r\n      }\r\n\r\n      const {\r\n        title,\r\n        price,\r\n        bedroom,\r\n        bathroom,\r\n        area,\r\n        lot_size,\r\n        year_build,\r\n        detail,\r\n        real_estate_category_id,\r\n        ward_id,\r\n        street_id,\r\n        position: {\r\n          lat,\r\n          lng\r\n        }\r\n      } = values;\r\n\r\n      const body = {\r\n        title,\r\n        price,\r\n        bedroom,\r\n        bathroom,\r\n        area,\r\n        lot_size,\r\n        year_build,\r\n        detail,\r\n        real_estate_category_id,\r\n        ward_id,\r\n        street_id,\r\n        longitude: lng,\r\n        latitude: lat,\r\n        image_ids: image_ids\r\n      }\r\n      await createRealEstateAPI(accessToken, body);\r\n\r\n      getUserRealEstate();\r\n      setModalState(false);\r\n      setImageIds([]);\r\n      setImageList(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleUpdateRealEstate = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const old_image_ids = imageList.filter(image => image.id).map(image => image.id);\r\n      const originFileList = imageList.filter(image => image.originFileObj).map(image => image.originFileObj);\r\n      let image_ids;\r\n\r\n      if (originFileList.length > 0) {\r\n        if (!imageIds) {\r\n          const response = await uploadRealEstateImagesAPI(accessToken, originFileList);\r\n          image_ids = response.data.image_ids;\r\n          setImageIds(image_ids);\r\n        }\r\n      }\r\n\r\n      const {\r\n        title,\r\n        price,\r\n        bedroom,\r\n        bathroom,\r\n        area,\r\n        lot_size,\r\n        year_build,\r\n        detail,\r\n        real_estate_category_id,\r\n        ward_id,\r\n        street_id,\r\n        position: {\r\n          lat,\r\n          lng\r\n        }\r\n      } = values;\r\n\r\n      const body = {\r\n        title,\r\n        price,\r\n        bedroom,\r\n        bathroom,\r\n        area,\r\n        lot_size,\r\n        year_build,\r\n        detail,\r\n        real_estate_category_id,\r\n        ward_id,\r\n        street_id,\r\n        longitude: lng,\r\n        latitude: lat,\r\n        image_ids: image_ids ? [...old_image_ids, ...image_ids] : [...old_image_ids]\r\n      }\r\n      await updateRealEstateAPI(accessToken, selectedRealEstate.id, body);\r\n\r\n      getUserRealEstate();\r\n      setModalState(false);\r\n      setImageIds([]);\r\n      setImageList(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleDeleteRealEstate = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteRealEstateAPI(accessToken, id);\r\n      getUserRealEstate();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(true);\r\n    }\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setAction('create');\r\n    setModalState(true);\r\n  }\r\n\r\n  const handleEditClick = realEstate => {\r\n    setAction('update');\r\n    setSelectedRealEstate(realEstate);\r\n    setModalState(true);\r\n    setImageList(realEstate.images.map(image => {\r\n      return {\r\n        ...image,\r\n        uid: image.id\r\n      }\r\n    }))\r\n  }\r\n\r\n  const handleModalAfterClose = () => {\r\n    realEstateForm.resetFields();\r\n    setSelectedRealEstate(null);\r\n    setImageList([]);\r\n  }\r\n\r\n  const handleModalOk = () => {\r\n    if (action === 'create') {\r\n      realEstateForm.validateFields().then(values => handleCreateRealEstate(values));\r\n    }\r\n\r\n    if (action === 'update') {\r\n      realEstateForm.validateFields().then(values => handleUpdateRealEstate(values));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserRealEstate();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"user-re-page\">\r\n      <section className=\"user-re-page_new\">\r\n        <Row>\r\n          <Col flex=\"1\">\r\n            <h2><strong>Tin bất động sản</strong></h2>\r\n          </Col>\r\n          <Col>\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>\r\n              Đăng tin\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        {/* <Divider /> */}\r\n      </section>\r\n      <section className=\"user-re-page_list\">\r\n        <Table loading={isLoading} rowKey=\"id\" columns={tableColumns} dataSource={realEstate} />\r\n      </section>\r\n      <Modal\r\n        visible={isModalShow}\r\n        afterClose={handleModalAfterClose}\r\n        destroyOnClose={true}\r\n        confirmLoading={isLoading}\r\n        onOk={handleModalOk}\r\n        onCancel={() => setModalState(false)}\r\n        width=\"80%\">\r\n        <RealEstateForm form={realEstateForm} realEstate={selectedRealEstate} />\r\n        <UploadPictures\r\n          fileList={imageList}\r\n          beforeUpload={handleBeforeUpload}\r\n          onChange={handleUploadChange} />\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserRealEstatePage;","import React from 'react';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nimport './MapMarker.scss';\r\n\r\nconst MapMarker = props => {\r\n  return (\r\n    <Marker className=\"map-marker\" position={props.position}></Marker>\r\n  )\r\n}\r\n\r\nexport default MapMarker;","import React from 'react';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\n\r\nimport './UploadButton.scss';\r\n\r\nconst UploadButton = props => {\r\n  return (\r\n    <label className=\"upload-btn\">\r\n      <PlusOutlined />\r\n      <input className=\"upload-btn_input\" ref={props.inputRef} type=\"file\" accept=\"image/*\" multiple onChange={props.onChange} />\r\n      <div className=\"upload-btn_text\">Chọn ảnh</div>\r\n    </label>\r\n  )\r\n}\r\n\r\nexport default UploadButton;","import React from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport './UploadPreview.scss';\r\n\r\nconst UploadPreview = props => {\r\n  const { file } = props;\r\n  const [base64, setBase64] = useState('');\r\n\r\n  const reader = new FileReader();\r\n  reader.readAsDataURL(file);\r\n  reader.onload = () => {\r\n    setBase64(reader.result);\r\n  }\r\n  return (\r\n    <div className=\"upload-preview\">\r\n      <img className=\"upload-preview_img\" src={base64} alt=\"\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadPreview;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Row, Col, Select, Button } from 'antd';\r\nimport { getAllRealEstateCategoriesAPI } from 'services/user/real-estate-category';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI, getWardsByDistrictAPI, getStreetsByDistrictAPI } from 'services/user/address';\r\nimport { getProjectsByDistrictAPI } from 'services/user/project';\r\nimport { createRealEstateAPI } from 'services/user/real-estate';\r\nimport { uploadRealEstateImagesAPI } from 'services/user/listing';\r\nimport MapMarker from 'components/MapMarker/MapMarker';\r\nimport UploadButton from 'components/UploadButton/UploadButton';\r\nimport { useRef } from 'react';\r\nimport UploadPreview from 'components/UploadPreview/UploadPreview';\r\nimport './CreateRealEstateForm.scss';\r\nimport { useSelector } from 'react-redux';\r\nimport LLMap from 'components/LLMap/LLMap';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst CreateRealEstateForm = props => {\r\n  // Loading states\r\n  const [isLoadingRECategories, setLoadingRECategories] = useState(false);\r\n  const [isLoadingCities, setLoadingCities] = useState(false);\r\n  const [isLoadingDistricts, setLoadingDistricts] = useState(false);\r\n  const [isLoadingWards, setLoadingWards] = useState(false);\r\n  const [isLoadingStreets, setLoadingStreets] = useState(false);\r\n  const [isLoadingProjects, setLoadingProjects] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Data states\r\n  const [RECategories, setRECategories] = useState(null);\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  // Others states\r\n  const [clickedPosition, setClickedPosition] = useState({ lat: 10.029948, lng: 105.770615 });\r\n  const [type, setType] = useState({ for_rent: false });\r\n\r\n  // Other hooks\r\n  const fileRef = useRef();\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  // Get all cateogries from API\r\n  const getRealEstateCategories = async () => {\r\n    setLoadingRECategories(true);\r\n    try {\r\n      const RECategoriesResponse = await getAllRealEstateCategoriesAPI()\r\n      setRECategories(RECategoriesResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingRECategories(false);\r\n  }\r\n\r\n  // Get cities from API\r\n  const getCities = async () => {\r\n    setLoadingCities(true);\r\n    try {\r\n      const getAllCitiesReponse = await getAllCitiesAPI()\r\n      setCities(getAllCitiesReponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingCities(false);\r\n  }\r\n\r\n\r\n  // Get districts by city\r\n  const handleCityChange = async cityId => {\r\n    setLoadingDistricts(true);\r\n    setDistricts(null);\r\n    setWards(null);\r\n    try {\r\n      const getDistrictsResponse = await getDistrictsByCityAPI(cityId);\r\n      setDistricts(getDistrictsResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingDistricts(false);\r\n  }\r\n\r\n  // Get wards and streets by district\r\n  const handleDistrictChange = async districtId => {\r\n    setLoadingWards(true);\r\n    setLoadingStreets(true);\r\n    setWards(null);\r\n    setStreets(null);\r\n    setProjects(null);\r\n    try {\r\n      const [getWardsResponse, getStreetsResponse, getProjectsResponse] = await Promise.all([\r\n        getWardsByDistrictAPI(districtId),\r\n        getStreetsByDistrictAPI(districtId),\r\n        getProjectsByDistrictAPI(districtId)\r\n      ]);\r\n      setWards(getWardsResponse.data);\r\n      setStreets(getStreetsResponse.data);\r\n      setProjects(getProjectsResponse.data);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setLoadingWards(false);\r\n    setLoadingStreets(false);\r\n    setLoadingProjects(false);\r\n  }\r\n\r\n  const handleCategoryTypeChange = e => {\r\n    setType({ for_rent: e });\r\n  }\r\n\r\n\r\n  const handleMapClick = e => {\r\n    setClickedPosition(e.latlng);\r\n  }\r\n\r\n  const handleImageChange = e => {\r\n    const files = e.target.files;\r\n    if (files.length > 0) {\r\n      setFileList(prevValue => [...files, ...prevValue]);\r\n      fileRef.current.value = null;\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async values => {\r\n    let image_ids = [];\r\n    setIsLoading(true);\r\n    try {\r\n      const uploadResponse = await uploadRealEstateImagesAPI(fileList);\r\n      image_ids = uploadResponse.data.image_ids;\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n\r\n    const {\r\n      title,\r\n      price,\r\n      bedroom,\r\n      bathroom,\r\n      area,\r\n      lot_size,\r\n      year_build,\r\n      detail,\r\n      real_estate_category_id,\r\n      ward_id,\r\n      street_id,\r\n      project_id\r\n    } = values;\r\n    const body = {\r\n      title: title,\r\n      price: price,\r\n      bedroom: bedroom,\r\n      bathroom: bathroom,\r\n      area: area,\r\n      lot_size: lot_size,\r\n      year_build: year_build,\r\n      detail: detail,\r\n      real_estate_category_id: real_estate_category_id,\r\n      ward_id: ward_id,\r\n      street_id: street_id,\r\n      latitude: clickedPosition.lat,\r\n      longitude: clickedPosition.lng,\r\n      project_id: project_id,\r\n      image_ids: image_ids\r\n    }\r\n\r\n    try {\r\n      await createRealEstateAPI(userState.accessToken, body);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      await Promise.all([\r\n        getRealEstateCategories(),\r\n        getCities(),\r\n      ])\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n\r\n    <Form\r\n      className=\"create-re-form\"\r\n      layout=\"vertical\"\r\n      onFinish={handleSubmit} scrollToFirstError={true}\r\n      noValidate>\r\n      <Row gutter={20}>\r\n        <Col xs={24} lg={12}>\r\n          <Form.Item label=\"Tiêu đề\" name=\"title\" rules={[\r\n            { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n          ]}>\r\n            <Input />\r\n          </Form.Item>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Giá\"\r\n                name=\"price\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập giá' },\r\n                  { pattern: /^[1-9][0-9]*$/g, message: \"Giá không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"VNĐ\" min={1} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Năm xây dựng\"\r\n                name=\"year_build\"\r\n                initialValue={2000}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập năm xây dựng' },\r\n                  { pattern: /^\\d{4}$/g, message: \"Năm không hợp lệ\" }\r\n                ]}>\r\n                <Input min={0} type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Số phòng ngủ\"\r\n                name=\"bedroom\"\r\n                initialValue={0}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập phòng ngủ' },\r\n                  { pattern: /^[0-9]+$/g, message: \"Số không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"Phòng\" min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Số phòng tắm\"\r\n                name=\"bathroom\"\r\n                initialValue={0}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập phòng tắm' },\r\n                  { pattern: /^[0-9]+$/g, message: \"Số không hợp lệ\" }\r\n                ]}>\r\n                <Input type=\"number\" suffix=\"Phòng\" min={0} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item\r\n                label=\"Diện tích nền nhà\"\r\n                name=\"area\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập diện tích' },\r\n                  { pattern: /^[0-9]+$/g, message: 'Diện tích không hợp lệ' }\r\n                ]}>\r\n                <Input type=\"number\" min={1} suffix={<span>m<sup>2</sup></span>} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item\r\n                label=\"Tổng diện tích\"\r\n                name=\"lot_size\"\r\n                initialValue={1}\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng nhập diện tích' },\r\n                  { pattern: /^[0-9]+$/g, message: 'Diện tích không hợp lệ' }\r\n                ]}>\r\n                <Input type=\"number\" suffix={<span>m<sup>2</sup></span>} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Hình thức\">\r\n                <Select onChange={handleCategoryTypeChange} defaultValue={false}>\r\n                  <Option value={false}>Bán</Option>\r\n                  <Option value={true}>Cho thuê</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"3\">\r\n              <Form.Item\r\n                label=\"Loại tin\"\r\n                name=\"real_estate_category_id\"\r\n                initialValue=\"Chọn loại tin\"\r\n                rules={[\r\n                  { required: true, message: 'Vui lòng chọn loại tin' }\r\n                ]}>\r\n                <Select loading={isLoadingRECategories}>\r\n                  <Option disabled value=\"Chọn loại tin\">Chọn loại tin</Option>\r\n                  {\r\n                    RECategories &&\r\n                    RECategories.map(category => {\r\n                      const name = `${category.name.charAt(0).toUpperCase()}${category.name.substr(1)}`\r\n                      return category.for_rent === type.for_rent && <Option\r\n                        key={category.id}\r\n                        value={category.id} >\r\n                        {name}\r\n                      </Option>\r\n                    }\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"Nội dung\" name=\"detail\" rules={[\r\n            { required: true, message: 'Vui lòng nhập nội dung' }\r\n          ]}>\r\n            <TextArea placeholder=\"Nhập nội dung bài viết...\" rows=\"10\" />\r\n          </Form.Item>\r\n        </Col>\r\n\r\n        {/* Col 2 */}\r\n        <Col xs={24} lg={12}>\r\n          <Form.Item label=\"Bản đồ\">\r\n            <div>\r\n              <LLMap className=\"create-re-form_map\" onClick={handleMapClick}>\r\n                <MapMarker position={clickedPosition} />\r\n              </LLMap>\r\n            </div>\r\n          </Form.Item>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Tỉnh / thành phố\" name=\"city_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn tỉnh / thành phố' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingCities}\r\n                  disabled={isLoadingCities}\r\n                  onChange={handleCityChange}\r\n                  showSearch>\r\n                  <Option disabled value={null}>Chọn tỉnh/thành phố</Option>\r\n                  {\r\n                    cities &&\r\n                    cities.map(city => (\r\n                      <Option\r\n                        key={city.id}\r\n                        value={city.id}>\r\n                        {city.prefix + ' ' + city.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Quận / huyện\" name=\"district_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn quận / huyện' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingDistricts}\r\n                  disabled={isLoadingDistricts}\r\n                  onChange={handleDistrictChange}>\r\n                  <Option disabled value={null}>Chọn quận / huyện</Option>\r\n                  {\r\n                    districts &&\r\n                    districts.map(district => (\r\n                      <Option\r\n                        key={district.id}\r\n                        value={district.id}>\r\n                        {district.prefix + ' ' + district.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={10}>\r\n            <Col flex=\"1\">\r\n              <Form.Item initialValue={null} label=\"Xã / phường / thị trấn\" name=\"ward_id\" rules={[\r\n                { required: true, message: 'Vui lòng chọn xã / phường / thị trấn' }\r\n              ]}>\r\n                <Select\r\n                  loading={isLoadingWards}\r\n                  disabled={isLoadingWards}>\r\n                  <Option disabled value={null}>Chọn xã / phường / thị trấn</Option>\r\n                  {\r\n                    wards &&\r\n                    wards.map(ward => (\r\n                      <Option\r\n                        key={ward.id}\r\n                        value={ward.id}>\r\n                        {ward.prefix + ' ' + ward.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col flex=\"1\">\r\n              <Form.Item label=\"Đường\" name=\"street_id\" initialValue={null}>\r\n                <Select\r\n                  loading={isLoadingStreets}\r\n                  disabled={isLoadingStreets}>\r\n                  <Option disabled>Chọn đường</Option>\r\n                  {\r\n                    streets &&\r\n                    streets.map(str => (\r\n                      <Option\r\n                        key={str.id}\r\n                        value={str.id}>\r\n                        {str.prefix + ' ' + str.name}\r\n                      </Option>\r\n                    )\r\n                    )\r\n                  }\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"Dự án\" name=\"project_id\" initialValue={null}>\r\n            <Select loading={isLoadingProjects} disabled={isLoadingProjects && true}>\r\n              <Option value=\"Chọn dự án\" disabled>Chọn dự án</Option>\r\n              {\r\n                projects &&\r\n                projects.map(p => {\r\n                  return (\r\n                    <Option key={p.id} value={p.id}>{p.name}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      <Form.Item label=\"Hình ảnh\">\r\n        {\r\n          fileList.length > 0 &&\r\n          fileList.map((file, index) => {\r\n            return <UploadPreview key={index} file={file} />\r\n          })\r\n        }\r\n        <UploadButton inputRef={fileRef} onChange={handleImageChange} />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button loading={isLoading} type=\"primary\" htmlType=\"submit\" size=\"large\">Xác nhận</Button>\r\n      </Form.Item>\r\n    </Form >\r\n  )\r\n}\r\n\r\nexport default CreateRealEstateForm;","import React from 'react';\r\nimport { Divider } from 'antd';\r\nimport CreateRealEstateForm from 'forms/CreateRealEstateForm/CreateRealEstateForm';\r\n\r\nconst UserRealEstateCreatePage = () => {\r\n  return (\r\n    <section>\r\n      <h2>Đăng tin bất động sản</h2>\r\n      <Divider />\r\n      <CreateRealEstateForm />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default UserRealEstateCreatePage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/real-estate`;\r\n\r\nexport function getPendingRealEstateAPI(token) {\r\n  return axios.get(`${endpointPrefix}/`, withAuthorization(token));\r\n}\r\n\r\nexport function getRealEstateDetailsAPI(token, realEstateId) {\r\n  return axios.get(`${endpointPrefix}/${realEstateId}/`, withAuthorization(token));\r\n}\r\n\r\nexport function approveRealEstateAPI(token, realEstateId) {\r\n  const body = {\r\n    is_active: \"True\"\r\n  }\r\n  return axios.get(`${endpointPrefix}/${realEstateId}/accepted/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function rejectRealEstateAPI(token, realEstateId) {\r\n  return axios.get(`${endpointPrefix}/${realEstateId}/rejected/`, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserRealEstateDetailsAPI } from 'services/user/listing';\r\nimport { getRealEstateDetailsAPI } from 'services/admin/real-estate';\r\nimport Cookies from 'js-cookie';\r\nimport { Skeleton, Divider } from 'antd';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nconst RealEstateDetails = props => {\r\n  const { params } = useRouteMatch();\r\n  const { realEstateId } = params;\r\n  const userState = useSelector(state => state.userState);\r\n  const { user } = userState;\r\n  const accessToken = Cookies.get('access');\r\n\r\n  const [realEstateDetails, setRealEstateDetails] = useState(null);\r\n  const [isLoadingRealEstateDetails, setLoadingRealEstateDetails] = useState(null);\r\n\r\n  async function getRealEstateDetails(realEstateId) {\r\n    setLoadingRealEstateDetails(true);\r\n    try {\r\n      const response = user && user.is_staff ?\r\n        await getRealEstateDetailsAPI(accessToken, realEstateId) :\r\n        await getUserRealEstateDetailsAPI(accessToken, realEstateId);\r\n      setRealEstateDetails(response.data.data);\r\n      console.log(response.data.data.address);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingRealEstateDetails(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (realEstateId) {\r\n      getRealEstateDetails(realEstateId);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function getAddressString(realEstate) {\r\n    const street = realEstate.address.street;\r\n    const ward = realEstate.address.ward;\r\n    const district = ward.district;\r\n    const city = district.city;\r\n\r\n    const streetStr = (street && (street.prefix + ' ' + street.name + ', ')) || '';\r\n    const wardStr = ward.prefix + ' ' + ward.name;\r\n    const districtStr = district.prefix + ' ' + district.name;\r\n    const cityStr = city.prefix + ' ' + city.name;\r\n    return `${streetStr}${wardStr}, ${districtStr}, ${cityStr}`;\r\n  }\r\n\r\n  return (\r\n    realEstateDetails ?\r\n      <div className=\"re-details-page\">\r\n        <h2><strong>{realEstateDetails.title}</strong></h2>\r\n        <Divider />\r\n\r\n        <div className=\"re-details-page_summary\">\r\n          <p><strong>Thông tin chung</strong></p>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>Giá</td>\r\n                <td>{realEstateDetails.price} VND</td>\r\n                <td>Năm xây dựng</td>\r\n                <td>{realEstateDetails.year_build}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Diện tích nền nhà</td>\r\n                <td>{realEstateDetails.area} m<sup>2</sup></td>\r\n                <td>Tổng diện tích</td>\r\n                <td>{realEstateDetails.lot_size} m<sup>2</sup></td>\r\n              </tr>\r\n              <tr>\r\n                <td>Phòng ngủ</td>\r\n                <td>{realEstateDetails.bedroom}</td>\r\n                <td>Phòng tắm</td>\r\n                <td>{realEstateDetails.bathroom}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Hình thức</td>\r\n                <td>{realEstateDetails.real_estate_category.for_rent ? 'Cho thuê' : 'Bán'}</td>\r\n                <td>Loại</td>\r\n                <td>{realEstateDetails.real_estate_category.name.charAt(0).toUpperCase() + realEstateDetails.real_estate_category.name.substr(1)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Địa chỉ</td>\r\n                <td colSpan=\"3\">{getAddressString(realEstateDetails)}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Dự án</td>\r\n                <td>{realEstateDetails.project?.name}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div className=\"re-details-page_details\">\r\n          <p><strong>Thông tin chi tiết</strong></p>\r\n          <div dangerouslySetInnerHTML={{ __html: realEstateDetails.detail }}></div>\r\n        </div>\r\n\r\n        <div className=\"re-details-page_images\">\r\n          {\r\n            realEstateDetails.images.map(image => <img key={image.id} src={image.url} alt={image.url} />)\r\n          }\r\n        </div>\r\n\r\n        <div className=\"re-details-page_map\">\r\n          <LLMap id=\"real-estate-map\">\r\n            <Marker position={{lat: realEstateDetails.address.latitude, lng: realEstateDetails.address.longitude}} />\r\n          </LLMap>\r\n        </div>\r\n      </div>\r\n      :\r\n      <Skeleton\r\n        active\r\n        title={{ width: 800 }}\r\n        paragraph={{ rows: 10, width: [500, 700, 400, 500, 600, 400, 500, 700, 400, 200] }}\r\n        loading={isLoadingRealEstateDetails} />\r\n  )\r\n}\r\n\r\nexport default RealEstateDetails;","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { HashRouter, Switch, Route, useRouteMatch, useLocation, Link, Redirect } from 'react-router-dom';\r\nimport withUserRoute from 'HOCs/withUserRoute';\r\nimport UserHomePage from 'pages/user';\r\nimport UserRealEstatePage from 'pages/user/real-estate';\r\nimport UserRealEstateCreatePage from 'pages/user/real-estate-create';\r\nimport Header from 'components/Header/Header';\r\n\r\nimport './UserLayout.scss';\r\nimport RealEstateDetails from 'pages/shared/real-estate-detail';\r\n\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nconst UserLayout = props => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n  const adminRoutes = [\r\n    { path: `${path}/`, name: 'Tài khoản' },\r\n    { path: `${path}/real-estate`, name: 'Bất động sản' },\r\n  ]\r\n  return (\r\n    <HashRouter>\r\n      <Layout className=\"user-layout\">\r\n        <Header isDashboard />\r\n        <Layout>\r\n          <Sider breakpoint=\"md\" collapsedWidth={0} width={200} className=\"user-layout_sider\">\r\n            <Menu theme=\"dark\" mode=\"vertical\" selectedKeys={[pathname]}>\r\n              {\r\n                adminRoutes.map(route => (\r\n                  <Menu.Item key={route.path}>\r\n                    <Link to={`${route.path}`}>\r\n                      {route.name}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Content className=\"user-layout_content\">\r\n            <Switch>\r\n              <Route path={`${path}/`} exact component={UserHomePage} />\r\n              <Route path={`${path}/real-estate`} exact component={UserRealEstatePage} />\r\n              <Route path={`${path}/real-estate/create`} component={UserRealEstateCreatePage} />\r\n              <Route path={`${path}/real-estate/:realEstateId`} component={RealEstateDetails} />\r\n              <Route path={`${path}/*`} component={() => <Redirect to={`${path}/`} />} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withUserRoute(UserLayout);","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst AdminHomePage = props => {\r\n  return (\r\n    <Redirect to=\"/admin/real-estate\" />\r\n  )\r\n}\r\n\r\nexport default AdminHomePage;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Table, Tooltip, Button, Modal, Popconfirm, Row, Col, Carousel } from 'antd';\r\nimport { EyeFilled, CheckOutlined, DeleteFilled } from '@ant-design/icons';\r\nimport Cookies from 'js-cookie';\r\nimport { getPendingRealEstateAPI, approveRealEstateAPI, rejectRealEstateAPI } from 'services/admin/real-estate';\r\nimport { getShortAddressString, getAddressString } from 'utils/string';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { Marker } from 'react-leaflet';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\n\r\nconst AdminRealestatePage = props => {\r\n  // Data state\r\n  const [realEstate, setRealEstate] = useState(null);\r\n\r\n  // Loading state\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedRealEstate, setSelectedRealEstate] = useState(null);\r\n  const [isModalShow, setModalState] = useState(false);\r\n\r\n  // Other\r\n  const accessToken = Cookies.get('access');\r\n\r\n  const tableColumns = [\r\n    { title: 'Tiêu đề', dataIndex: 'title' },\r\n    { title: 'Giá', dataIndex: 'price' },\r\n    { title: 'Địa chỉ', key: 'address', render: (text, record) => getShortAddressString(record.address) },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Xem\">\r\n              <Button onClick={() => handleViewClick(record)} type=\"link\" icon={<EyeFilled />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Duyệt bài\">\r\n              <Popconfirm title=\"Bạn có chắc muốn duyệt tin này?\" onConfirm={() => handleApprove(record.id)}>\r\n                <Button type=\"link\" style={{ color: 'green' }} icon={<CheckOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n            <Tooltip title=\"Từ chối\">\r\n              <Popconfirm title=\"Bạn có chắc muốn từ chối tin này?\" onConfirm={() => handleReject(record.id)}>\r\n                <Button type=\"link\" danger icon={<DeleteFilled />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ]\r\n\r\n  const getRealEstate = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getPendingRealEstateAPI(accessToken);\r\n      setRealEstate(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getRealEstate();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleViewClick = realEstate => {\r\n    setSelectedRealEstate(realEstate);\r\n    setModalState(true);\r\n  }\r\n\r\n  const handleApprove = async realEstateId => {\r\n    setIsLoading(true);\r\n    try {\r\n      await approveRealEstateAPI(accessToken, realEstateId);\r\n      await getRealEstate();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleReject = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await rejectRealEstateAPI(accessToken, id);\r\n      await getRealEstate();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setModalState(false);\r\n    setSelectedRealEstate(null);\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-re-page\">\r\n      <h2><strong>Tin đang chờ duyệt</strong></h2>\r\n      <Divider />\r\n      <Table loading={isLoading} rowKey=\"id\" columns={tableColumns} dataSource={realEstate} />\r\n      <Modal\r\n        destroyOnClose={true}\r\n        visible={isModalShow}\r\n        onCancel={closeModal}\r\n        onOk={closeModal}\r\n        width=\"80%\"\r\n      >\r\n        <div><strong>Tiêu đề</strong></div>\r\n        <p>{selectedRealEstate?.title}</p>\r\n\r\n\r\n        <Row gutter=\"15\">\r\n          <Col flex=\"1\">\r\n            <div><strong>Diện tích</strong></div>\r\n            <p>{selectedRealEstate?.area}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Tổng diện tích</strong></div>\r\n            <p>{selectedRealEstate?.lot_size}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Phòng ngủ</strong></div>\r\n            <p>{selectedRealEstate?.bedroom}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Phòng tắm</strong></div>\r\n            <p>{selectedRealEstate?.bathroom}</p>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row gutter=\"15\">\r\n          <Col flex=\"1\">\r\n            <div><strong>Giá</strong></div>\r\n            <p>{selectedRealEstate?.price}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Năm xây dựng</strong></div>\r\n            <p>{selectedRealEstate?.year_build}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Hình thức</strong></div>\r\n            <p>{selectedRealEstate?.real_estate_category.for_rent ? 'Cho thuê' : 'Bán'}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Loại tin</strong></div>\r\n            <p>{selectedRealEstate?.real_estate_category.name}</p>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row gutter=\"15\">\r\n          <Col flex=\"1\">\r\n            <div><strong>Địa chỉ</strong></div>\r\n            <p>{getAddressString(selectedRealEstate?.address)}</p>\r\n          </Col>\r\n          <Col flex=\"1\">\r\n            <div><strong>Thuộc dự án</strong></div>\r\n            <p>{selectedRealEstate?.project?.name || \"Không\"}</p>\r\n          </Col>\r\n        </Row>\r\n\r\n        <div><strong>Nội dung</strong></div>\r\n        <div dangerouslySetInnerHTML={{ __html: selectedRealEstate?.detail }}></div>\r\n\r\n        <div><strong>Bản đồ</strong></div>\r\n        {\r\n          selectedRealEstate &&\r\n          <LLMap zoom={12} style={{ height: 400 }} center={\r\n            {\r\n              lat: selectedRealEstate.address.latitude,\r\n              lng: selectedRealEstate.address.longitude\r\n            }\r\n          }>\r\n            <Marker position={{ lat: selectedRealEstate.address.latitude, lng: selectedRealEstate.address.longitude }} />\r\n          </LLMap>\r\n        }\r\n\r\n        <div><strong>Hình ảnh</strong></div>\r\n        <Carousel adaptiveHeight autoplay>\r\n          {\r\n            selectedRealEstate?.images.map(image => {\r\n              return <div key={image.id}>\r\n                <img src={image.url} alt={image.url} />\r\n              </div>\r\n            })\r\n          }\r\n        </Carousel>\r\n\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminRealestatePage;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select } from 'antd';\r\nimport Quill from 'react-quill';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\n\r\nconst { Option } = Select;\r\n\r\nconst CreateNewsForm = props => {\r\n  const [content, setContent] = useState('');\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  async function getNewsCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        layout=\"vertical\"\r\n        form={props.form}\r\n        onFinish={props.onFinish}\r\n        news={props.news}>\r\n        <Form.Item label=\"Tiêu đề\" name=\"title\" rules={[\r\n          { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n        ]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Nội dung\" name=\"content\" initialValue=\"\" rules={[\r\n          { required: true, message: 'Vui lòng nhập nội dung' }\r\n        ]}>\r\n          <Quill value={content} onChange={setContent} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Loại tin\" name=\"news_category_id\" rules={[\r\n          { required: true, message: \"Vui lòng chọn loại tin\" }\r\n        ]}>\r\n          <Select loading={isLoading}>\r\n            {\r\n              newsCategories &&\r\n              newsCategories.map(c => {\r\n                return <Option value={c.id} key={c.id}>{c.name}</Option>\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateNewsForm;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/news`;\r\n\r\nexport function createNewsAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateNewsAPI(token, news_id, body) {\r\n  return axios.put(`${endpointPrefix}/${news_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteNewsAPI(token, news_id) {\r\n  return axios.delete(`${endpointPrefix}/${news_id}/`, withAuthorization(token));\r\n}\r\n\r\nexport function uploadNewsImage(token, images) {\r\n  const formData = new FormData();\r\n  images.forEach(image => {\r\n    formData.append(\"images[]\", image);\r\n  });\r\n\r\n  return axios.post(`${endpointPrefix}/upload-image/`, formData, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select } from 'antd';\r\nimport Quill from 'react-quill';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\n\r\nconst { Option } = Select;\r\n\r\nconst EditNewsForm = props => {\r\n\r\n  const news = props.news;\r\n\r\n  const [content, setContent] = useState('');\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  async function getNewsCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        layout=\"vertical\"\r\n        form={props.form}\r\n        onFinish={props.onFinish}\r\n        news={props.news}>\r\n        <Form.Item label=\"Tiêu đề\" name=\"title\" initialValue={news.title} rules={[\r\n          { required: true, message: 'Vui lòng nhập tiêu đề' }\r\n        ]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Nội dung\" name=\"content\" initialValue={news.content} rules={[\r\n          { required: true, message: 'Vui lòng nhập nội dung' }\r\n        ]}>\r\n          <Quill value={content} onChange={setContent} />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Loại tin\" name=\"news_category_id\" initialValue={news.news_category.id} rules={[\r\n          { required: true, message: \"Vui lòng chọn loại tin\" }\r\n        ]}>\r\n          <Select loading={isLoading}>\r\n            {\r\n              newsCategories &&\r\n              newsCategories.map(c => {\r\n                return <Option value={c.id} key={c.id}>{c.name}</Option>\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditNewsForm;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Table, Button, Tooltip, Popconfirm, Modal, Form } from 'antd';\r\nimport { PlusOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { getAllNewsAPI } from 'services/user/news';\r\nimport CreateNewsForm from 'forms/CreateNewsForm/CreateNewsForm';\r\nimport UploadPictures from 'components/UploadPictures/UploadPictures';\r\nimport { uploadNewsImage, createNewsAPI, updateNewsAPI, deleteNewsAPI } from 'services/admin/news';\r\nimport Cookies from 'js-cookie';\r\nimport { Link } from 'react-router-dom';\r\nimport EditNewsForm from 'forms/EditNewsForm/EditNewsForm';\r\n\r\nconst { useForm } = Form;\r\n\r\nconst AdminNewsPage = props => {\r\n  const [news, setNews] = useState(null);\r\n  const [isLoadingNews, setLoadingNews] = useState(null);\r\n  const [isModalShow, setModalState] = useState(false);\r\n  const [createForm] = useForm();\r\n  const [editForm] = useForm();\r\n  const [action, setAction] = useState('');\r\n  const [imageList, setImageList] = useState([]);\r\n  const accessToken = Cookies.get('access');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [image_ids, setImages_ids] = useState(null);\r\n  const [selectedNews, setSelectedNews] = useState(null);\r\n\r\n  const tableColumns = [\r\n    { title: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tiêu đề', dataIndex: 'title', render: (text, record) => <Link to={`/news/${record.slug}`}>{record.title}</Link> },\r\n    { title: 'Loại', dataIndex: 'news_category.name', render: (text, record) => record.news_category.name },\r\n    { title: 'Ngày đăng', dataIndex: 'created_at', render: (text, record) => new Date(record.created_at).toLocaleDateString('vi-VN') },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (_, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button type=\"link\" icon={<EditOutlined />} onClick={() => handleEditClick(record)} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa tin này\" onConfirm={() => handleDelete(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  async function getAllNews() {\r\n    setLoadingNews(true);\r\n    try {\r\n      const response = await getAllNewsAPI();\r\n      setNews(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingNews(false);\r\n  }\r\n\r\n  const onUploadChange = ({ fileList }) => {\r\n    setImageList([...fileList]);\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setModalState(true);\r\n    setAction('create');\r\n  }\r\n\r\n  const handleCreate = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      let image_ids_uploaded;\r\n      if (!image_ids) {\r\n        const response = await uploadNewsImage(accessToken, imageList.map(image => image.originFileObj));\r\n        image_ids_uploaded = response.data.image_ids;\r\n        setImages_ids(image_ids_uploaded);\r\n      }\r\n      const newsBody = {\r\n        title: values.title,\r\n        content: values.content,\r\n        news_category_id: values.news_category_id,\r\n        image_ids: image_ids_uploaded\r\n      }\r\n      const createResponse = await createNewsAPI(accessToken, newsBody);\r\n      const newState = { ...news };\r\n      newState.results = [...news.results];\r\n      newState.results.unshift(createResponse.data.data);\r\n      setNews(newState);\r\n      setImages_ids(null);\r\n      setModalState(false);\r\n      setImageList(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const handleEditClick = news => {\r\n    setModalState(true);\r\n    setSelectedNews(news);\r\n    setAction('edit');\r\n    setImageList(news.images.map(image => {\r\n      return {\r\n        ...image,\r\n        uid: image.id\r\n      }\r\n    }))\r\n  }\r\n\r\n  const handleEdit = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      let image_ids_uploaded = [];\r\n      const old_images_ids = selectedNews.images.map(image => image.id);\r\n      if (!image_ids) {\r\n        const new_images = imageList.filter(image => image.originFileObj).map(image => image.originFileObj);\r\n        if (new_images.length > 0) {\r\n          const response = await uploadNewsImage(accessToken, new_images);\r\n          image_ids_uploaded = response.data.image_ids;\r\n          setImages_ids(image_ids_uploaded);\r\n        }\r\n      }\r\n      const newsBody = {\r\n        title: values.title,\r\n        content: values.content,\r\n        news_category_id: values.news_category_id,\r\n        image_ids: image_ids_uploaded ? [...old_images_ids, ...image_ids_uploaded] : [...old_images_ids]\r\n      }\r\n      const updateResponse = await updateNewsAPI(accessToken, selectedNews.id, newsBody);\r\n      const updatedNews = updateResponse.data.data;\r\n      const newState = { ...news };\r\n      const index = newState.results.findIndex(n => n.id === selectedNews.id);\r\n      newState.results = [...news.results];\r\n      newState.results[index] = updatedNews;\r\n      setNews(newState)\r\n      setImages_ids(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n    setModalState(false);\r\n  }\r\n\r\n  const handleDelete = async id => {\r\n    try {\r\n      await deleteNewsAPI(accessToken, id);\r\n      const newState = { ...news };\r\n      const index = newState.results.findIndex(n => n.id === id);\r\n      newState.results = [...news.results];\r\n      newState.results.splice(index, 1);\r\n      setNews(newState);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const handleBeforeUpload = file => {\r\n    setImageList([...imageList, file]);\r\n    return false;\r\n  }\r\n\r\n  const handleOK = () => {\r\n    if (action === 'create') {\r\n      createForm.validateFields().then(values => {\r\n        handleCreate(values);\r\n      });\r\n    }\r\n\r\n    if (action === 'edit') {\r\n      editForm.validateFields().then(values => {\r\n        handleEdit(values);\r\n      })\r\n    }\r\n  }\r\n\r\n  const onAfterModalClose = () => {\r\n    editForm.resetFields();\r\n    createForm.resetFields();\r\n    setSelectedNews(null);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllNews();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-news-page\">\r\n      <div style={{ display: 'flex' }}>\r\n        <h2>Quản lý tin tức</h2>\r\n        <Button style={{ marginLeft: 'auto' }} onClick={handleCreateClick}>\r\n          <PlusOutlined /> Bài viết mới\r\n        </Button>\r\n      </div>\r\n      <Divider />\r\n      <Table rowKey={'id'} loading={isLoadingNews} columns={tableColumns} dataSource={news?.results} />\r\n\r\n      <Modal\r\n        destroyOnClose={true}\r\n        onOk={handleOK}\r\n        afterClose={onAfterModalClose}\r\n        onCancel={() => setModalState(false)}\r\n        confirmLoading={isLoading}\r\n        visible={isModalShow} width=\"80%\">\r\n        {\r\n          action === 'create' &&\r\n          <div>\r\n            <CreateNewsForm onFinish={handleCreate} form={createForm} />\r\n            <UploadPictures\r\n              onChange={onUploadChange}\r\n              fileList={imageList}\r\n              beforeUpload={handleBeforeUpload} />\r\n          </div>\r\n        }\r\n\r\n        {\r\n          action === 'edit' &&\r\n          <div>\r\n            <EditNewsForm onFinish={handleEdit} news={selectedNews} form={editForm} />\r\n            <UploadPictures\r\n              onChange={onUploadChange}\r\n              fileList={imageList}\r\n              beforeUpload={handleBeforeUpload} />\r\n          </div>\r\n        }\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminNewsPage;","import axios from 'axios';\r\nimport apiPrefix from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/user/project-investor`;\r\n\r\nexport function getAllInvestorsAPI() {\r\n  return axios.get(`${endpointPrefix}/`);\r\n}","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/project-category`;\r\n\r\nexport function createProjectCategoryAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateProjectCategoryAPI(token, category_id, body) {\r\n  return axios.put(`${endpointPrefix}/${category_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteProjectCategoryAPI(token, category_id) {\r\n  return axios.delete(`${endpointPrefix}/${category_id}/`, withAuthorization(token));\r\n}","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/project-investor`;\r\n\r\nexport function createInvestorAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateInvestorAPI(token, investor_id, body) {\r\n  return axios.put(`${endpointPrefix}/${investor_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteInvestorAPI(token, investor_id) {\r\n  return axios.delete(`${endpointPrefix}/${investor_id}/`, withAuthorization(token));\r\n}\r\n\r\nexport function updateInvestorAvatarAPI(token, investor_id, image) {\r\n  const formData = new FormData();\r\n  formData.append('image', image);\r\n  return axios.patch(`${endpointPrefix}/${investor_id}/avatar/`, formData, withAuthorization(token));\r\n}","import axios from \"axios\";\r\nimport apiPrefix, { withAuthorization } from \"../apiPrefix\";\r\nconst endpointPrefix = `${apiPrefix}/admin/project`;\r\n\r\nexport function createProjectAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateProjectAPI(token, project_id, body) {\r\n  return axios.put(`${endpointPrefix}/${project_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteProjectAPI(token, project_id) {\r\n  return axios.delete(`${endpointPrefix}/${project_id}/`, withAuthorization(token));\r\n}\r\n\r\nexport function uploadProjectImagesAPI(token, images) {\r\n  const formData = new FormData();\r\n  images.forEach(image => {\r\n    formData.append(\"images[]\", image);\r\n  });\r\n  return axios.post(`${endpointPrefix}/upload-image/`, formData, withAuthorization(token));\r\n}","import React from 'react';\r\nimport { Table, Tooltip, Button, Popconfirm } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\n\r\nconst ProjectCategoryTab = props => {\r\n  const categories = props.categories;\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name' },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button onClick={() => props.onEditClick(record)} type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại này không?\" onConfirm={() => props.onDeleteClick(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Table loading={props.loading} rowKey=\"id\" dataSource={categories} columns={tableColumns} />\r\n  )\r\n}\r\n\r\nexport default ProjectCategoryTab;","import React from 'react';\r\nimport { Table, Tooltip, Button, Popconfirm } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { getShortAddressString } from 'utils/string';\r\n\r\nconst ProjectInvestorTab = props => {\r\n  const investors = props.investors;\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name' },\r\n    { title: 'Địa chỉ', key: 'address', render: (text, record) => getShortAddressString(record.address)},\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button onClick={() => props.onEditClick(record)} type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại này không?\" onConfirm={() => props.onDeleteClick(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Table loading={props.loading} rowKey=\"id\" dataSource={investors} columns={tableColumns} />\r\n  )\r\n}\r\n\r\nexport default ProjectInvestorTab;","import React from 'react';\r\nimport { Table, Tooltip, Button, Popconfirm } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { getShortAddressString } from 'utils/string';\r\n\r\nconst ProjectTab = props => {\r\n  const projects = props.projects;\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name' },\r\n    { title: 'Địa chỉ', key: 'address', render: (text, record) => getShortAddressString(record.address) },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button onClick={() => props.onEditClick(record)} type=\"link\" icon={<EditOutlined />} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa dự án này không?\" onConfirm={() => props.onDeleteClick(record.id)}>\r\n                <Button danger type=\"link\" icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <Table loading={props.loading} rowKey=\"id\" dataSource={projects} columns={tableColumns} />\r\n  )\r\n}\r\n\r\nexport default ProjectTab;","import React from 'react';\r\nimport { Form, Input } from 'antd';\r\n\r\nconst { Item } = Form;\r\n\r\nconst ProjectCategoryForm = props => {\r\n  const category = props.category;\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      form={props.form}\r\n      onFinish={props.onFinish}>\r\n      <Item label=\"Tên loại\" name=\"name\" initialValue={category?.name} rules={[\r\n        { required: true, message: 'Vui lòng nhập tên' }\r\n      ]}>\r\n        <Input />\r\n      </Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default ProjectCategoryForm;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Select, Row, Col } from 'antd';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI, getWardsByDistrictAPI, getStreetsByDistrictAPI } from 'services/user/address';\r\nimport Quill from 'react-quill';\r\n\r\nconst { Item } = Form;\r\nconst { Option } = Select;\r\n\r\nconst InvestorForm = props => {\r\n  const investor = props.investor;\r\n\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(null);\r\n\r\n  async function getAllCities() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllCitiesAPI();\r\n      setCities(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getDistrictsByCity(city_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getDistrictsByCityAPI(city_id);\r\n      setDistricts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getWardsAndStreetsByDistrict(district_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const [wardRes, streetRes] = await Promise.all([\r\n        getWardsByDistrictAPI(district_id),\r\n        getStreetsByDistrictAPI(district_id)\r\n      ]);\r\n      setWards(wardRes.data);\r\n      setStreets(streetRes.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllCities();\r\n\r\n    if (investor) {\r\n      getDistrictsByCity(investor.address.ward.district.city.id);\r\n      getWardsAndStreetsByDistrict(investor.address.ward.district.id);\r\n    }\r\n  }, [investor]);\r\n\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      form={props.form}>\r\n      <img src={investor?.avatar} alt=\"\" />\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tên chủ đầu tư\" name=\"name\" initialValue={investor?.name}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Số điện thoại\" name=\"phone\" initialValue={investor?.phone}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Địa chỉ email\" name=\"email\" initialValue={investor?.email}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Website\" name=\"website\" initialValue={investor?.website}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n      <Item label=\"Thông tin chi tiết\" name=\"detail\" initialValue={investor?.detail || \"\"}>\r\n        <Quill theme=\"snow\" />\r\n      </Item>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tỉnh/thành phố\" name=\"city_id\" initialValue={investor?.address.ward.district.city.id}>\r\n            <Select loading={isLoading} onChange={getDistrictsByCity} disabled={!cities}>\r\n              {\r\n                cities &&\r\n                cities.map(city => {\r\n                  return <Option key={city.id} value={city.id}>{city.prefix + ' ' + city.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item\r\n            label=\"Quận/huyện\"\r\n            name=\"district_id\"\r\n            initialValue={investor?.address.ward.district.id}>\r\n            <Select loading={isLoading} onChange={getWardsAndStreetsByDistrict} disabled={!districts}>\r\n              {\r\n                districts &&\r\n                districts.map(district => {\r\n                  return <Option key={district.id} value={district.id}>{district.prefix + ' ' + district.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item\r\n            label=\"Xã/phường/trị trấn\"\r\n            name=\"ward_id\"\r\n            initialValue={investor?.address.ward.id}>\r\n            <Select loading={isLoading} disabled={!wards}>\r\n              {\r\n                wards &&\r\n                wards.map(ward => {\r\n                  return <Option key={ward.id} value={ward.id}>{ward.prefix + ' ' + ward.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item\r\n            label=\"Xã/phường/trị trấn\"\r\n            name=\"street_id\"\r\n            initialValue={investor?.address.street.id}>\r\n            <Select loading={isLoading} disabled={!streets}>\r\n              {\r\n                streets &&\r\n                streets.map(street => {\r\n                  return <Option key={street.id} value={street.id}>{street.prefix + ' ' + street.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default InvestorForm;","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Row, Col, Select } from 'antd';\r\nimport Quill from 'react-quill';\r\nimport { getAllCitiesAPI, getDistrictsByCityAPI, getWardsByDistrictAPI, getStreetsByDistrictAPI } from 'services/user/address';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { getAllProjectCategoriesAPI } from 'services/user/project-category';\r\nimport { getAllInvestorsAPI } from 'services/user/investor';\r\n\r\nconst { Item } = Form;\r\nconst { Option } = Select;\r\n\r\nconst ProjectForm = props => {\r\n  const { project } = props;\r\n  console.log(project);\r\n\r\n  const [cities, setCities] = useState(null);\r\n  const [districts, setDistricts] = useState(null);\r\n  const [wards, setWards] = useState(null);\r\n  const [streets, setStreets] = useState(null);\r\n\r\n  const [categories, setCategories] = useState(null);\r\n  const [investors, setInvestors] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  async function getDistrictsByCity(city_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getDistrictsByCityAPI(city_id);\r\n      setDistricts(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getWardsAndStreetsByDistrict(district_id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const [wardsRes, streetsRes] = await Promise.all([\r\n        getWardsByDistrictAPI(district_id),\r\n        getStreetsByDistrictAPI(district_id)\r\n      ]);\r\n      setWards(wardsRes.data);\r\n      setStreets(streetsRes.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      setIsLoading(true);\r\n      try {\r\n        const [cityRes, categoryRes, investorRes] = await Promise.all([\r\n          getAllCitiesAPI(),\r\n          getAllProjectCategoriesAPI(),\r\n          getAllInvestorsAPI()\r\n        ]);\r\n        setCities(cityRes.data);\r\n        setCategories(categoryRes.data);\r\n        setInvestors(investorRes.data.results);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setIsLoading(false);\r\n    }\r\n\r\n    getData();\r\n\r\n    if (project) {\r\n      const {\r\n        address: {\r\n          ward: {\r\n            district,\r\n            district: {\r\n              city\r\n            }\r\n          }\r\n        }\r\n      } = project;\r\n      getDistrictsByCity(city.id);\r\n      getWardsAndStreetsByDistrict(district.id);\r\n    }\r\n  }, [project]);\r\n\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      form={props.form}>\r\n      <Item label=\"Tên dự án\" name=\"name\" initialValue={project?.name}>\r\n        <Input />\r\n      </Item>\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Giá\" name=\"price\" initialValue={project?.price}>\r\n            <Input />\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Diện tích\" name=\"area\" initialValue={project?.area}>\r\n            <Input type=\"number\" />\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Tỉnh/thành phố\" name=\"citi_id\" initialValue={project?.address.ward.district.city.id}>\r\n            <Select\r\n              loading={isLoading}\r\n              disabled={!cities}\r\n              onChange={getDistrictsByCity}>\r\n              {\r\n                cities?.map(city => {\r\n                  return <Option key={city.id} value={city.id}>{city.prefix + \" \" + city.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Quận/huyện\" name=\"district_id\" initialValue={project?.address.ward.district.id}>\r\n            <Select\r\n              loading={isLoading}\r\n              disabled={!districts}\r\n              onChange={getWardsAndStreetsByDistrict}>\r\n              {\r\n                districts?.map(district => {\r\n                  return <Option key={district.id} value={district.id}>{district.prefix + \" \" + district.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Xã/phường/thị trấn\" name=\"ward_id\" initialValue={project?.address.ward.id}>\r\n            <Select\r\n              loading={isLoading}\r\n              disabled={!wards}>\r\n              {\r\n                wards?.map(ward => {\r\n                  return <Option key={ward.id} value={ward.id}>{ward.prefix + \" \" + ward.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Đường\" name=\"street_id\" initialValue={project?.address.street.id}>\r\n            <Select\r\n              loading={isLoading}\r\n              disabled={!streets}>\r\n              {\r\n                streets?.map(street => {\r\n                  return <Option key={street.id} value={street.id}>{street.prefix + \" \" + street.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter=\"15\">\r\n        <Col flex=\"1\">\r\n          <Item label=\"Loại dự án\" name=\"project_category_id\" initialValue={project?.project_category.id}>\r\n            <Select loading={isLoading} disabled={!categories}>\r\n              {\r\n                categories?.map(cat => {\r\n                  return <Option key={cat.id} value={cat.id}>{cat.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n        <Col flex=\"1\">\r\n          <Item label=\"Chủ đầu tư\" name=\"project_investor_id\" initialValue={project?.project_investor.id}>\r\n            <Select loading={isLoading} disabled={!investors}>\r\n              {\r\n                investors?.map(investor => {\r\n                  return <Option key={investor.id} value={investor.id}>{investor.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Item label=\"Thông tin chi tiết\" name=\"detail\" initialValue={project?.detail || \"\"}>\r\n        <Quill theme=\"snow\" />\r\n      </Item>\r\n\r\n      <Item label=\"Vị trí\" name=\"position\" initialValue={project ? { lat: project.address.latitude, lng: project.address.longitude } : null}>\r\n        <LLMap style={{ height: 400 }} />\r\n      </Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default ProjectForm;","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Tabs, Button, Modal, Form } from 'antd';\r\nimport { getAllProjectCategoriesAPI } from 'services/user/project-category';\r\nimport { getAllProjectsAPI } from 'services/user/project';\r\nimport { getAllInvestorsAPI } from 'services/user/investor';\r\nimport { createProjectCategoryAPI, updateProjectCategoryAPI, deleteProjectCategoryAPI } from 'services/admin/project-category';\r\nimport { createInvestorAPI, updateInvestorAPI, deleteInvestorAPI, updateInvestorAvatarAPI } from 'services/admin/investor';\r\nimport { createProjectAPI, updateProjectAPI, deleteProjectAPI, uploadProjectImagesAPI } from \"services/admin/project\";\r\nimport ProjectCategoryTab from 'components/ProjectCategoryTab/ProjectCategoryTab';\r\nimport ProjectInvestorTab from 'components/ProjectInvestorTab/ProjectInvestorTab';\r\nimport ProjectTab from 'components/ProjectTab/ProjectTab';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport ProjectCategoryForm from 'forms/ProjectCategoryForm/ProjectCategoryForm';\r\nimport Cookies from 'js-cookie';\r\nimport InvestorForm from 'forms/InvestorForm/InvestorForm';\r\nimport UploadPictures from 'components/UploadPictures/UploadPictures';\r\nimport ProjectForm from 'forms/ProjectForm/ProjectForm';\r\n\r\nconst { useForm } = Form;\r\n\r\nconst AdminProjectsPage = props => {\r\n  const [tab, setTab] = useState(1);\r\n\r\n  const [categories, setCategories] = useState(null);\r\n  const [projects, setProjects] = useState(null);\r\n  const [investors, setInvestors] = useState(null);\r\n\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [selectedInvestor, setSelectedInvestor] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isModalShow, setIsModalShow] = useState(false);\r\n\r\n  const [action, setAction] = useState(null);\r\n\r\n  const [projectCategoryForm] = useForm();\r\n  const [projectForm] = useForm();\r\n  const [investorForm] = useForm();\r\n\r\n  const [imageList, setImageList] = useState([]);\r\n\r\n  const accessToken = Cookies.get('access');\r\n  const [imageIds, setImageIds] = useState(null);\r\n\r\n\r\n  async function getAllProjectCategories() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllProjectCategoriesAPI();\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getAllProjects() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllProjectsAPI();\r\n      setProjects(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  async function getAllInvestors() {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllInvestorsAPI();\r\n      setInvestors(response.data.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setIsModalShow(true);\r\n    switch (tab) {\r\n      case 1:\r\n        setAction('create');\r\n        break;\r\n      case 2:\r\n        setAction('create');\r\n        break;\r\n      case 3:\r\n        setAction('create');\r\n        break;\r\n      default:\r\n        setAction(null);\r\n    }\r\n  }\r\n\r\n  const handleCreateCategory = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      await createProjectCategoryAPI(accessToken, values);\r\n      getAllProjectCategories();\r\n      setIsModalShow(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleUpdateCategory = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      await updateProjectCategoryAPI(accessToken, selectedCategory.id, values);\r\n      getAllProjectCategories();\r\n      setIsModalShow(false);\r\n      setSelectedCategory(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleDeleteCategory = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteProjectCategoryAPI(accessToken, id);\r\n      getAllProjectCategories();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleCreateInvestor = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const body = {\r\n        name: values.name,\r\n        phone: values.phone,\r\n        email: values.email,\r\n        website: values.website,\r\n        detail: values.detail,\r\n        ward_id: values.ward_id,\r\n        street_id: values.street_id\r\n      }\r\n      const response = await createInvestorAPI(accessToken, body);\r\n      const object = response.data.data;\r\n      await updateInvestorAvatarAPI(accessToken, object.id, imageList[0].originFileObj);\r\n      setIsModalShow(false);\r\n      getAllInvestors();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n\r\n  }\r\n\r\n  const handleUpdateInvestor = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const body = {\r\n        name: values.name,\r\n        phone: values.phone,\r\n        email: values.email,\r\n        website: values.website,\r\n        detail: values.detail,\r\n        ward_id: values.ward_id,\r\n        street_id: values.street_id\r\n      }\r\n      await updateInvestorAPI(accessToken, selectedInvestor.id, body);\r\n\r\n      if (imageList[0].originFileObj) {\r\n        await updateInvestorAvatarAPI(accessToken, selectedInvestor.id, imageList[0].originFileObj);\r\n      }\r\n\r\n      getAllInvestors();\r\n      setIsModalShow(false);\r\n      setSelectedInvestor(null);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n\r\n  }\r\n\r\n  const handleDeleteInvestor = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteInvestorAPI(accessToken, id);\r\n      getAllInvestors();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleCreateProject = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      let image_ids;\r\n      if (!imageIds) {\r\n        const originFileList = imageList.map(image => image.originFileObj);\r\n        const upload_response = await uploadProjectImagesAPI(accessToken, originFileList);\r\n        image_ids = upload_response.data.image_ids;\r\n        setImageIds(image_ids);\r\n      }\r\n\r\n      const {\r\n        name,\r\n        price,\r\n        area,\r\n        detail,\r\n        project_category_id,\r\n        project_investor_id,\r\n        ward_id,\r\n        street_id,\r\n        position: {\r\n          lat,\r\n          lng\r\n        }\r\n      } = values;\r\n      const body = {\r\n        name,\r\n        price,\r\n        area,\r\n        detail,\r\n        project_category_id,\r\n        project_investor_id,\r\n        ward_id,\r\n        street_id,\r\n        latitude: lat,\r\n        longitude: lng,\r\n        image_ids\r\n      };\r\n      await createProjectAPI(accessToken, body);\r\n\r\n      getAllProjects();\r\n      setIsModalShow(false);\r\n      setImageList(null);\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleUpdateProject = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      let image_ids;\r\n      const old_image_ids = imageList.filter(image => image.id).map(image => image.id);\r\n      const originFileList = imageList.filter(image => image.originFileObj).map(image => image.originFileObj);\r\n\r\n      if (originFileList.length > 0) {\r\n        if (!imageIds) {\r\n          const upload_response = await uploadProjectImagesAPI(accessToken, originFileList);\r\n          image_ids = upload_response.data.image_ids;\r\n          setImageIds(image_ids);\r\n        }\r\n      }\r\n\r\n      const {\r\n        name,\r\n        price,\r\n        area,\r\n        detail,\r\n        project_category_id,\r\n        project_investor_id,\r\n        ward_id,\r\n        street_id,\r\n        position: {\r\n          lat,\r\n          lng\r\n        }\r\n      } = values;\r\n      const body = {\r\n        name,\r\n        price,\r\n        area,\r\n        detail,\r\n        project_category_id,\r\n        project_investor_id,\r\n        ward_id,\r\n        street_id,\r\n        latitude: lat,\r\n        longitude: lng,\r\n        image_ids: image_ids ? [...old_image_ids, ...image_ids] : [...old_image_ids]\r\n      };\r\n      await updateProjectAPI(accessToken, selectedProject.id, body);\r\n\r\n      getAllProjects();\r\n      setIsModalShow(false);\r\n      setImageList(null);\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleDeleteProject = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteProjectAPI(accessToken, id);\r\n      getAllProjects();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const handleEditProjectCategoryClick = category => {\r\n    setSelectedCategory(category);\r\n    setAction('update');\r\n    setIsModalShow(true);\r\n  }\r\n\r\n  const handleEditInvestorClick = investor => {\r\n    setSelectedInvestor(investor);\r\n    setAction('update');\r\n    setIsModalShow(true);\r\n  }\r\n\r\n  const handleEditProjectClick = project => {\r\n    setSelectedProject(project);\r\n    setAction('update');\r\n    setIsModalShow(true);\r\n    console.log(project.images);\r\n    setImageList(project.images?.map(image => {\r\n      return {\r\n        ...image,\r\n        uid: image.id\r\n      }\r\n    }));\r\n  }\r\n\r\n\r\n\r\n  const onModalOK = () => {\r\n    switch (tab) {\r\n      case 1:\r\n        if (action === 'create') {\r\n          projectCategoryForm.validateFields().then(values => handleCreateCategory(values));\r\n        } else if (action === 'update') {\r\n          projectCategoryForm.validateFields().then(values => handleUpdateCategory(values));\r\n        }\r\n        break;\r\n      case 2:\r\n        if (action === 'create') {\r\n          investorForm.validateFields().then(values => handleCreateInvestor(values));\r\n        } else if (action === 'update') {\r\n          investorForm.validateFields().then(values => handleUpdateInvestor(values));\r\n        }\r\n        break;\r\n      case 3:\r\n        if (action === 'create') {\r\n          projectForm.validateFields().then(values => handleCreateProject(values));\r\n        } else if (action === 'update') {\r\n          projectForm.validateFields().then(values => handleUpdateProject(values));\r\n        }\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  const onModalCancel = () => {\r\n    setIsModalShow(false);\r\n  }\r\n\r\n  const onModalAfterClose = () => {\r\n    projectCategoryForm.resetFields();\r\n    projectForm.resetFields();\r\n    investorForm.resetFields();\r\n    setImageList([]);\r\n  }\r\n\r\n  const handleImageChange = ({ fileList }) => {\r\n    setImageList([...fileList]);\r\n  }\r\n\r\n  const handleBeforeUpload = file => {\r\n    setImageList([...imageList, file]);\r\n    return false;\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllProjectCategories();\r\n  }, []);\r\n\r\n  const handleTabChange = key => {\r\n    switch (key) {\r\n      case \"1\":\r\n        setTab(1);\r\n        getAllProjectCategories();\r\n        break;\r\n      case \"2\":\r\n        setTab(2);\r\n        getAllInvestors();\r\n        break;\r\n      case \"3\":\r\n        setTab(3);\r\n        getAllProjects();\r\n        break;\r\n      default:\r\n        getAllProjectCategories();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-project-page\">\r\n      <h2>Quản lý dự án</h2>\r\n      <Divider />\r\n      <Tabs onChange={handleTabChange} tabBarExtraContent={\r\n        <>\r\n          {\r\n            tab === 1 &&\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>Thêm loại dự án</Button>\r\n          }\r\n          {\r\n            tab === 2 &&\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>Thêm chủ đầu tư</Button>\r\n          }\r\n          {\r\n            tab === 3 &&\r\n            <Button icon={<PlusOutlined />} onClick={handleCreateClick}>Thêm dự án</Button>\r\n          }\r\n        </>\r\n      }>\r\n        <Tabs.TabPane tab=\"Loại dự án\" key=\"1\">\r\n          <ProjectCategoryTab\r\n            loading={isLoading}\r\n            categories={categories}\r\n            onEditClick={handleEditProjectCategoryClick}\r\n            onDeleteClick={handleDeleteCategory} />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Chủ đầu từ\" key=\"2\">\r\n          <ProjectInvestorTab\r\n            loading={isLoading}\r\n            investors={investors}\r\n            onEditClick={handleEditInvestorClick}\r\n            onDeleteClick={handleDeleteInvestor} />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Dự án\" key=\"3\">\r\n          <ProjectTab\r\n            loading={isLoading}\r\n            projects={projects}\r\n            onEditClick={handleEditProjectClick}\r\n            onDeleteClick={handleDeleteProject} />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n      <Modal\r\n        confirmLoading={isLoading}\r\n        onOk={onModalOK}\r\n        afterClose={onModalAfterClose}\r\n        onCancel={onModalCancel}\r\n        visible={isModalShow}\r\n        destroyOnClose={true}\r\n        width=\"80%\">\r\n        {\r\n          tab === 1 &&\r\n          <ProjectCategoryForm form={projectCategoryForm} category={selectedCategory} />\r\n        }\r\n        {\r\n          tab === 2 &&\r\n          <>\r\n            <InvestorForm form={investorForm} investor={selectedInvestor} />\r\n            <UploadPictures\r\n              beforeUpload={handleBeforeUpload}\r\n              onChange={handleImageChange}\r\n              fileList={imageList}\r\n              length={1} />\r\n          </>\r\n        }\r\n        {\r\n          tab === 3 &&\r\n          <>\r\n            <ProjectForm form={projectForm} project={selectedProject} />\r\n            <UploadPictures\r\n              beforeUpload={handleBeforeUpload}\r\n              onChange={handleImageChange}\r\n              fileList={imageList} />\r\n          </>\r\n        }\r\n\r\n\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminProjectsPage;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/manage-user`;\r\n\r\nexport function getAllUsersAPI(token, page = 1) {\r\n  return axios.get(`${endpointPrefix}/?page=${page}`, withAuthorization(token));\r\n}\r\n\r\nexport function blockUserAPI(token, user_id) {\r\n  return axios.get(`${endpointPrefix}/${user_id}/block/`, withAuthorization(token));\r\n}\r\n\r\nexport function unblockUserAPI(token, user_id) {\r\n  return axios.get(`${endpointPrefix}/${user_id}/unblock/`, withAuthorization(token));\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Table, Tag, Button } from 'antd';\r\n// import AdminLayout from 'layouts/AdminLayout/AdminLayout';\r\nimport { getAllUsersAPI, blockUserAPI, unblockUserAPI } from 'services/admin/user';\r\nimport Cookies from 'js-cookie';\r\nimport { CheckCircleFilled } from '@ant-design/icons';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst AdminUserPage = props => {\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [users, setUsers] = useState(null);\r\n  const accessToken = Cookies.get('access');\r\n  const userState = useSelector(state => state.userState);\r\n\r\n  const tableColumns = [\r\n    { title: '#', key: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Họ', dataIndex: 'first_name' },\r\n    { title: 'Tên', dataIndex: 'last_name' },\r\n    { title: 'Địa chỉ email', dataIndex: 'email' },\r\n    {\r\n      title: 'Trạng thái', dataIndex: 'is_active', render: (_, { is_active }) => {\r\n        return is_active ?\r\n          <Tag color=\"success\">Hoạt động</Tag>\r\n          :\r\n          <Tag color=\"error\">Bị khóa</Tag>\r\n      }\r\n    },\r\n    {\r\n      title: 'Admin', dataIndex: 'is_active', render: (_, { is_staff }) => {\r\n        return is_staff ?\r\n          <CheckCircleFilled />\r\n          :\r\n          null\r\n      }\r\n    },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, { id, is_active }) => {\r\n        return is_active ?\r\n          <Button danger onClick={() => blockUser(id)} type=\"link\">Khóa</Button>\r\n          :\r\n          <Button onClick={() => unblockUser(id)} type=\"link\">Mở khóa</Button>\r\n      }\r\n    }\r\n  ]\r\n\r\n  async function getAllUsers(page) {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await getAllUsersAPI(accessToken, page);\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setIsLoading(false);\r\n  }\r\n\r\n  const blockUser = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await blockUserAPI(accessToken, id);\r\n      getAllUsers();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  const unblockUser = async id => {\r\n    setIsLoading(true);\r\n    try {\r\n      await unblockUserAPI(accessToken, id);\r\n      getAllUsers();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllUsers(1);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Quản lý người dùng</h2>\r\n      <Divider />\r\n      <Table\r\n        rowKey=\"id\"\r\n        loading={isLoading}\r\n        columns={tableColumns}\r\n        dataSource={users?.results.filter(user => user.id !== userState.user?.id)}\r\n        pagination={{ total: (users?.count - 1), onChange: page => getAllUsers(page) }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminUserPage;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { notification } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst withAdminRoute = Component => {\r\n  return function Wrapper(props) {\r\n    const location = useLocation();\r\n    const userState = useSelector(state => state.userState);\r\n    const { user } = userState;\r\n    const accessToken = Cookies.get('access');\r\n\r\n    useEffect(() => {\r\n      if (user && !user.is_staff) {\r\n        notification.error({\r\n          message: 'Lỗi',\r\n          description: 'Bạn không có quyền truy cập vào trang này',\r\n        })\r\n      }\r\n    })\r\n\r\n    if (!accessToken || accessToken.length === 0) {\r\n      return <Redirect to={`/login?next=${location.pathname}`} />\r\n    } else {\r\n      if (user && !user.is_staff) {\r\n        return <Redirect to=\"/\" />\r\n      } else {\r\n        return <Component {...props} />\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default withAdminRoute;","import React from 'react';\r\nimport { Form, Input } from 'antd';\r\n\r\nconst EditNewsCategoryForm = props => {\r\n  return (\r\n    <Form form={props.form} layout=\"vertical\" onFinish={props.onFinish}>\r\n      <Form.Item label=\"Tên loại tin\" name=\"name\" initialValue={props.category?.name || null} rules={[\r\n        {required: true, message: \"Vui lòng nhập tên\"}\r\n      ]}>\r\n        <Input />\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default EditNewsCategoryForm;","import axios from 'axios';\r\nimport apiPrefix, { withAuthorization } from '../apiPrefix';\r\nconst endpointPrefix = `${apiPrefix}/admin/news-category`;\r\n\r\nexport function createNewsCategoryAPI(token, body) {\r\n  return axios.post(`${endpointPrefix}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function updateNewsCategoryAPI(token, category_id, body) {\r\n  return axios.put(`${endpointPrefix}/${category_id}/`, body, withAuthorization(token));\r\n}\r\n\r\nexport function deleteNewsCategoryAPI(token, category_id) {\r\n  return axios.delete(`${endpointPrefix}/${category_id}/`, withAuthorization(token));\r\n}","import React, { useState } from 'react';\r\nimport { Divider, Table, Button, Tooltip, Popconfirm, Modal, Form } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport { getAllNewsCategoriesAPI } from 'services/user/news-category';\r\nimport { firstCapital } from 'utils/string';\r\nimport { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport EditNewsCategoryForm from 'forms/EditNewsCategoryForm/EditNewsCategoryForm';\r\nimport { createNewsCategoryAPI, updateNewsCategoryAPI, deleteNewsCategoryAPI } from 'services/admin/news-category';\r\nimport Cookies from 'js-cookie';\r\nconst { useForm } = Form;\r\n\r\nconst AdminNewsCategoryPage = props => {\r\n  const [newsCategories, setNewsCategories] = useState(null);\r\n  const [isLoadingNewsCategories, setLoadingNewsCategories] = useState(null);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [editForm] = useForm();\r\n  const [createForm] = useForm();\r\n  const accessToken = Cookies.get('access');\r\n  const tableColumns = [\r\n    { title: '#', render: (text, record, index) => (index + 1) },\r\n    { title: 'Tên', dataIndex: 'name', render: (_, record) => firstCapital(record.name) },\r\n    {\r\n      title: 'Hành động', key: 'action', render: (text, record) => {\r\n        return (\r\n          <>\r\n            <Tooltip title=\"Chỉnh sửa\">\r\n              <Button\r\n                type=\"link\"\r\n                icon={<EditOutlined />}\r\n                onClick={() => handleEditClick(record)} />\r\n            </Tooltip>\r\n            <Tooltip title=\"Xóa\">\r\n              <Popconfirm title=\"Bạn có chắc muốn xóa loại tin này\" onConfirm={() => handleDelete(record.id)}>\r\n                <Button\r\n                  danger\r\n                  type=\"link\"\r\n                  icon={<DeleteOutlined />} />\r\n              </Popconfirm>\r\n            </Tooltip>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n\r\n  ]\r\n\r\n  async function getNewsCategories() {\r\n    setLoadingNewsCategories(true);\r\n    try {\r\n      const response = await getAllNewsCategoriesAPI();\r\n      setNewsCategories(response.data);\r\n      console.log(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoadingNewsCategories(false);\r\n  }\r\n\r\n  const handleCreateClick = () => {\r\n    setShowCreateModal(true);\r\n  }\r\n\r\n  const handleCreate = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const body = {\r\n        name: values.name\r\n      }\r\n      const response = await createNewsCategoryAPI(accessToken, body);\r\n      const newItem = response.data.data;\r\n      const newState = [...newsCategories];\r\n      newState.unshift(newItem);\r\n      setNewsCategories(newState);\r\n      setShowCreateModal(false);\r\n    } catch (error) {\r\n    }\r\n    setIsLoading(false);\r\n    createForm.resetFields();\r\n  }\r\n\r\n  const handleEditClick = category => {\r\n    setSelectedCategory(category);\r\n    setShowEditModal(true);\r\n  }\r\n\r\n  const handleEdit = async values => {\r\n    setIsLoading(true);\r\n    try {\r\n      const id = selectedCategory.id;\r\n      const body = {\r\n        name: values.name\r\n      }\r\n      await updateNewsCategoryAPI(accessToken, id, body);\r\n      const newState = [...newsCategories];\r\n      const index = newState.findIndex(cat => cat.id === id);\r\n      newState[index].name = values.name;\r\n      setNewsCategories(newState);\r\n      setShowEditModal(false);\r\n      setSelectedCategory(null);\r\n      editForm.resetFields();\r\n    } catch (error) {\r\n\r\n    }\r\n    setIsLoading(false);\r\n\r\n  }\r\n\r\n  const handleDelete = async id => {\r\n    try {\r\n      await deleteNewsCategoryAPI(accessToken, id);\r\n      const newState = [...newsCategories];\r\n      const index = newsCategories.findIndex(cat => cat.id === id);\r\n      newState.splice(index, 1);\r\n      setNewsCategories(newState);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    editForm.resetFields();\r\n    setSelectedCategory(null);\r\n    setShowEditModal(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getNewsCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-news-page\">\r\n      <div style={{ display: 'flex' }}>\r\n        <h2>Quản lý loại tin tức</h2>\r\n        <Button style={{ marginLeft: 'auto' }} onClick={handleCreateClick}>\r\n          <PlusOutlined /> Loại tin mới\r\n        </Button>\r\n      </div>\r\n      <Divider />\r\n      <Table\r\n        rowKey=\"id\"\r\n        loading={isLoadingNewsCategories}\r\n        dataSource={newsCategories}\r\n        columns={tableColumns} />\r\n      <Modal\r\n        forceRender={true}\r\n        destroyOnClose={true}\r\n        visible={showEditModal}\r\n        confirmLoading={isLoading}\r\n        afterClose={handleModalClose}\r\n        onOk={() => editForm.validateFields().then(values => {\r\n          editForm.resetFields();\r\n          handleEdit(values);\r\n        })}\r\n        onCancel={() => setShowEditModal(false)}>\r\n        <EditNewsCategoryForm form={editForm} onFinish={handleEdit} category={selectedCategory} />\r\n      </Modal>\r\n      <Modal\r\n        confirmLoading={isLoading}\r\n        visible={showCreateModal}\r\n        onOk={() => createForm.validateFields().then(values => {\r\n          createForm.resetFields();\r\n          handleCreate(values);\r\n        })}\r\n        onCancel={() => setShowCreateModal(false)}>\r\n        <EditNewsCategoryForm form={createForm} onFinish={handleCreate} />\r\n      </Modal>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminNewsCategoryPage;","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { HashRouter, Switch, Route, useRouteMatch, useLocation, Link, Redirect } from 'react-router-dom';\r\nimport AdminHomePage from 'pages/admin';\r\nimport AdminRealestatePage from 'pages/admin/real-estate';\r\nimport AdminNewsPage from 'pages/admin/news';\r\nimport AdminProjectsPage from 'pages/admin/projects';\r\nimport AdminUserPage from 'pages/admin/user';\r\nimport withAdminRote from 'HOCs/withAdminRoute';\r\nimport Header from 'components/Header/Header';\r\n\r\nimport './AdminLayout.scss';\r\nimport AdminNewsCategoryPage from 'pages/admin/news-category';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nconst AdminLayout = props => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n  const adminRoutes = [\r\n    { path: `${path}/real-estate`, name: 'Quản lý tin bất động sản' },\r\n    { path: `${path}/project`, name: 'Quản lý dự án' },\r\n    { path: `${path}/news-category`, name: 'Quản lý loại tin tức' },\r\n    { path: `${path}/news`, name: 'Quản lý tin tức' },\r\n    { path: `${path}/user`, name: 'Quản lý người dùng' },\r\n  ]\r\n  return (\r\n    <HashRouter>\r\n      <Layout className=\"admin-layout\">\r\n        <Header isDashboard />\r\n        <Layout>\r\n          <Sider width={250} className=\"admin-layout_sider\">\r\n            <Menu theme=\"dark\" mode=\"vertical\" selectedKeys={[pathname]}>\r\n              {\r\n                adminRoutes.map(route => (\r\n                  <Menu.Item key={route.path}>\r\n                    <Link to={`${route.path}`}>\r\n                      {route.name}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Sider>\r\n          <Content className=\"admin-layout_content\">\r\n            <Switch>\r\n              <Route path={`${path}/`} exact component={AdminHomePage} />\r\n              <Route path={`${path}/real-estate`} component={AdminRealestatePage} />\r\n              <Route path={`${path}/news-category`} component={AdminNewsCategoryPage} />\r\n              <Route path={`${path}/news`} component={AdminNewsPage} />\r\n              <Route path={`${path}/project`} component={AdminProjectsPage} />\r\n              <Route path={`${path}/user`} component={AdminUserPage} />\r\n              <Route path={`${path}/*`} component={() => <Redirect to={`${path}/`} />} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default withAdminRote(AdminLayout);","import React, { useEffect, useState } from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport { getRealEstateDetailsAPI } from 'services/user/real-estate';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { Empty, Divider, Carousel } from 'antd';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport RealEstateDetails from 'pages/shared/real-estate-detail';\r\nimport LLMap from 'components/LLMap/LLMap';\r\nimport { Marker } from 'react-leaflet';\r\n\r\nconst RealEstateDetailsPage = () => {\r\n  const [realEstate, setRealEstate] = useState(null);\r\n  const { params } = useRouteMatch();\r\n  const slug = params.slug;\r\n  const dispatch = useDispatch();\r\n\r\n  async function getRealEstateDetails(slug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getRealEstateDetailsAPI(slug);\r\n      setRealEstate(response.data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (slug && slug.length > 0) {\r\n      getRealEstateDetails(slug);\r\n    }\r\n  }, [slug]);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        {\r\n          realEstate ?\r\n            <div className=\"real-estate-details-page\">\r\n              <h2>{realEstate.title}</h2>\r\n              <p><small>{new Date(realEstate.created_at).toLocaleDateString('vi-VN')}</small></p>\r\n              <Divider />\r\n              <Carousel adaptiveHeight autoplay>\r\n                {\r\n                  realEstate.images.map(image => {\r\n                    return <div key={image.id}>\r\n                      <img width=\"100%\" src={image.url || '//via.placeholder.com/800x600'} alt={image.url || '//via.placeholder.com/800x600'} />\r\n                    </div>\r\n                  })\r\n                }\r\n              </Carousel>\r\n\r\n              <br />\r\n              <h3><strong>Thông tin chung</strong></h3>\r\n\r\n              <div><strong>Diện tích</strong></div>\r\n              <p>{realEstate.area} m<sup>2</sup></p>\r\n\r\n              <div><strong>Tổng diện tích</strong></div>\r\n              <p>{realEstate.lot_size} m<sup>2</sup></p>\r\n\r\n              <div><strong>Phòng ngủ</strong></div>\r\n              <p>{realEstate.bedroom}</p>\r\n\r\n              <div><strong>Phòng tắm</strong></div>\r\n              <p>{realEstate.bathroom}</p>\r\n\r\n              <div><strong>Thuộc dự án</strong></div>\r\n              <p>{realEstate.project?.name || \"Không\"}</p>\r\n\r\n              <h3><strong>Thông tin chi tiết</strong></h3>\r\n              <div dangerouslySetInnerHTML={{ __html: realEstate.detail }}></div>\r\n\r\n              <h3><strong>Bản đồ</strong></h3>\r\n              <LLMap style={{ height: 400 }} zoom={10} center={\r\n                { lat: realEstate.address.latitude, lng: realEstate.address.longitude }\r\n              }>\r\n                <Marker position={\r\n                  { lat: realEstate.address.latitude, lng: realEstate.address.longitude }\r\n                } />\r\n              </LLMap>\r\n            </div>\r\n            :\r\n            <Empty />\r\n        }\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n\r\n  )\r\n}\r\n\r\nexport default RealEstateDetailsPage;","import React, { useState, useEffect } from 'react';\r\nimport MainLayout from 'layouts/MainLayout/MainLayout';\r\nimport LayoutWithAside from 'layouts/LayoutWithAside/LayoutWithAside';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { getNewsDetailsAPI } from 'services/user/news';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setLoading } from 'store/actions/loading.action';\r\nimport { Empty, Divider } from 'antd';\r\n\r\nconst NewsDetailsPage = props => {\r\n\r\n  const [newsDetails, setNewsDetails] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { params } = useRouteMatch();\r\n  const slug = params.slug;\r\n\r\n  async function getNewsDetails(slug) {\r\n    dispatch(setLoading(true));\r\n    try {\r\n      const response = await getNewsDetailsAPI(slug);\r\n      setNewsDetails(response.data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    dispatch(setLoading(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (slug && slug.length > 0) {\r\n      getNewsDetails(slug);\r\n    }\r\n  }, [slug]);\r\n  return (\r\n    <MainLayout>\r\n      <LayoutWithAside>\r\n        {\r\n          newsDetails ?\r\n            <div>\r\n              <h2>{newsDetails.title}</h2>\r\n              <p><small>{new Date(newsDetails.created_at).toLocaleDateString('vi-VN')}</small></p>\r\n              <Divider />\r\n              <div dangerouslySetInnerHTML={{ __html: newsDetails.content }}></div>\r\n            </div>\r\n\r\n            :\r\n            <Empty />\r\n        }\r\n      </LayoutWithAside>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default NewsDetailsPage;","import React, { useEffect } from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport {\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport HomePage from 'pages';\nimport RealEstatePage from 'pages/real-estate';\nimport AboutPage from 'pages/about';\nimport NewsPage from 'pages/news';\nimport LoginPage from 'pages/login';\nimport RegisterPage from 'pages/register';\nimport ProjectsPage from 'pages/projects';\nimport ProjectDetailsPage from 'pages/projects/project-details';\nimport VerifyPage from 'pages/verify-email';\nimport UserLayout from 'layouts/UserLayout/UserLayout';\nimport AdminLayout from 'layouts/AdminLayout/AdminLayout';\n\nimport Cookies from 'js-cookie';\nimport { setAccessToken, getProfileAction } from 'store/actions/user.action';\nimport { useDispatch, useSelector } from 'react-redux';\nimport RealEstateDetailsPage from 'pages/real-estate/real-estate-details';\nimport NewsDetailsPage from 'pages/news/news-details';\n\n\nconst App = props => {\n  const dispatch = useDispatch();\n  const userState = useSelector(state => state.userState);\n\n  useEffect(() => {\n    const accessToken = Cookies.get('access');\n    if (accessToken && !userState.accessToken && localStorage.user) {\n      dispatch(setAccessToken(accessToken));\n      dispatch(getProfileAction(accessToken));\n    }\n  });\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/real-estate\" exact component={RealEstatePage} />\n        <Route path=\"/real-estate/:slug\" component={RealEstateDetailsPage} />\n        <Route path=\"/project\" exact component={ProjectsPage} />\n        <Route path=\"/project/:slug\" component={ProjectDetailsPage} />\n        <Route path=\"/news\" exact component={NewsPage} />\n        <Route path=\"/news/:slug\" component={NewsDetailsPage} />\n        <Route path=\"/about\" component={AboutPage} />\n        <Route path=\"/login\" component={LoginPage} />\n        <Route path=\"/register\" component={RegisterPage} />\n        <Route path=\"/verify-email\" component={VerifyPage} />\n        <Route path=\"/me\" component={UserLayout} />\n        <Route path=\"/admin\" component={AdminLayout} />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  user: null,\r\n  accessToken: null,\r\n  refreshToken: null\r\n}\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.LOGIN:\r\n      return {\r\n        ...state,\r\n        token: action.payload\r\n      }\r\n    case actionTypes.GET_PROFILE:\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      }\r\n    case actionTypes.LOGOUT:\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        accessToken: null\r\n      }\r\n    case actionTypes.SET_ACCESS_TOKEN:\r\n      return {\r\n        ...state,\r\n        accessToken: action.payload\r\n      }\r\n    case actionTypes.SET_REFRESH_TOKEN:\r\n      return {\r\n        ...state,\r\n        refreshToken: action.payload\r\n      }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}","import * as actionTypes from '../actionTypes';\r\n\r\nconst initialState = {\r\n  loading: false\r\n}\r\n\r\nexport default function loadingReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload\r\n      }\r\n    default:\r\n      return { ...state }\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport userReducer from './reducers/user.reducer';\r\nimport loadingReducer from './reducers/loading.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  userState: userReducer,\r\n  loadingState: loadingReducer\r\n})\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from 'store/store';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\nimport { notification } from 'antd';\nimport { setAccessToken, logoutAction } from 'store/actions/user.action';\nimport apiPrefix from 'services/apiPrefix';\nimport Cookies from 'js-cookie';\n\nimport 'antd/dist/antd.css';\nimport 'styles/style.scss';\n\n// Setup axios interceptors\nfunction setupAxios(store) {\n  axios.interceptors.request.use(config => {\n\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  axios.interceptors.response.use(response => {\n    return response\n  }, (error) => {\n\n    let message = \"\";\n    let description = \"\";\n\n    if (error.response) {\n      const origionalRequest = error.config;\n\n      if (error.response.status === 401 && origionalRequest.url === `${apiPrefix}/auth/refresh-token/`) {\n        store.dispatch(logoutAction());\n      }\n\n      if (error.response.status === 401 && !origionalRequest._retry) {\n        origionalRequest._retry = true;\n        const refreshToken = Cookies.get('refresh');\n        if (refreshToken) {\n          return axios.post(`${apiPrefix}/auth/refresh-token/`, {\n            refresh_token: refreshToken\n          }).then(response => {\n            const accessToken = response.data.data.access_token;\n            store.dispatch(setAccessToken(accessToken));\n            const config = error.config;\n            config.headers['Authorization'] = `Bearer ${accessToken}`;\n            return new Promise((resolve, reject) => {\n              axios.request(config).then(res => {\n                resolve(res);\n              }).catch(err => {\n                reject(err);\n              })\n            })\n          }).catch(err => {\n            Promise.reject(err);\n          })\n        }\n      }\n\n      if (error.response.data) {\n        message = error.response.data.code;\n        description = error.response.data.message;\n      }\n\n    } else if (error.request) {\n      message = error.status;\n      description = error.message;\n    } else {\n      message = error.status;\n      description = error.message;\n    }\n    notification.error({\n      message: `Lỗi (${message})`,\n      description: description\n    });\n\n    return Promise.reject(error);\n  });\n}\n\nsetupAxios(store);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport rootReducer from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n\r\nexport default store;"],"sourceRoot":""}